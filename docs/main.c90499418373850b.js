"use strict";var OD=Object.defineProperty,xD=Object.defineProperties,RD=Object.getOwnPropertyDescriptors,LE=Object.getOwnPropertySymbols,ND=Object.prototype.hasOwnProperty,kD=Object.prototype.propertyIsEnumerable,VE=(xt,Pe,A)=>Pe in xt?OD(xt,Pe,{enumerable:!0,configurable:!0,writable:!0,value:A}):xt[Pe]=A,UE=(xt,Pe)=>{for(var A in Pe||(Pe={}))ND.call(Pe,A)&&VE(xt,A,Pe[A]);if(LE)for(var A of LE(Pe))kD.call(Pe,A)&&VE(xt,A,Pe[A]);return xt},BE=(xt,Pe)=>xD(xt,RD(Pe));(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[179],{2090:(xt,Pe,A)=>{A.d(Pe,{BH:()=>je,DV:()=>Wr,G6:()=>zt,GJ:()=>kr,L:()=>se,LL:()=>st,P0:()=>Pt,Pz:()=>ze,Sg:()=>Ct,UI:()=>Mi,US:()=>pe,Wl:()=>Tn,Yr:()=>dt,ZR:()=>Tt,aH:()=>Qt,b$:()=>We,cI:()=>St,dS:()=>nr,eu:()=>Bt,g5:()=>ie,gK:()=>Sn,gQ:()=>Lr,h$:()=>we,hl:()=>Yt,hu:()=>b,m9:()=>Ei,ne:()=>Ke,p$:()=>re,pd:()=>vi,q4:()=>Je,r3:()=>ar,ru:()=>nt,tV:()=>Se,uI:()=>it,ug:()=>di,vZ:()=>sn,w1:()=>He,w9:()=>Yr,xO:()=>Fr,xb:()=>Ci,z$:()=>Rt,zd:()=>Pi});const b=function(Oe,De){if(!Oe)throw ie(De)},ie=function(Oe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Oe)},H=function(Oe){const De=[];let ke=0;for(let bt=0;bt<Oe.length;bt++){let Be=Oe.charCodeAt(bt);Be<128?De[ke++]=Be:Be<2048?(De[ke++]=Be>>6|192,De[ke++]=63&Be|128):55296==(64512&Be)&&bt+1<Oe.length&&56320==(64512&Oe.charCodeAt(bt+1))?(Be=65536+((1023&Be)<<10)+(1023&Oe.charCodeAt(++bt)),De[ke++]=Be>>18|240,De[ke++]=Be>>12&63|128,De[ke++]=Be>>6&63|128,De[ke++]=63&Be|128):(De[ke++]=Be>>12|224,De[ke++]=Be>>6&63|128,De[ke++]=63&Be|128)}return De},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,De){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,bt=[];for(let Be=0;Be<Oe.length;Be+=3){const en=Oe[Be],dn=Be+1<Oe.length,Yn=dn?Oe[Be+1]:0,ir=Be+2<Oe.length,Br=ir?Oe[Be+2]:0;let de=(15&Yn)<<2|Br>>6,Ge=63&Br;ir||(Ge=64,dn||(de=64)),bt.push(ke[en>>2],ke[(3&en)<<4|Yn>>4],ke[de],ke[Ge])}return bt.join("")},encodeString(Oe,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Oe):this.encodeByteArray(H(Oe),De)},decodeString(Oe,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Oe):function(Oe){const De=[];let ke=0,bt=0;for(;ke<Oe.length;){const Be=Oe[ke++];if(Be<128)De[bt++]=String.fromCharCode(Be);else if(Be>191&&Be<224){const en=Oe[ke++];De[bt++]=String.fromCharCode((31&Be)<<6|63&en)}else if(Be>239&&Be<365){const ir=((7&Be)<<18|(63&Oe[ke++])<<12|(63&Oe[ke++])<<6|63&Oe[ke++])-65536;De[bt++]=String.fromCharCode(55296+(ir>>10)),De[bt++]=String.fromCharCode(56320+(1023&ir))}else{const en=Oe[ke++],dn=Oe[ke++];De[bt++]=String.fromCharCode((15&Be)<<12|(63&en)<<6|63&dn)}}return De.join("")}(this.decodeStringToByteArray(Oe,De))},decodeStringToByteArray(Oe,De){this.init_();const ke=De?this.charToByteMapWebSafe_:this.charToByteMap_,bt=[];for(let Be=0;Be<Oe.length;){const en=ke[Oe.charAt(Be++)],Yn=Be<Oe.length?ke[Oe.charAt(Be)]:0;++Be;const Br=Be<Oe.length?ke[Oe.charAt(Be)]:64;++Be;const Ce=Be<Oe.length?ke[Oe.charAt(Be)]:64;if(++Be,null==en||null==Yn||null==Br||null==Ce)throw Error();bt.push(en<<2|Yn>>4),64!==Br&&(bt.push(Yn<<4&240|Br>>2),64!==Ce&&bt.push(Br<<6&192|Ce))}return bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}},we=function(Oe){const De=H(Oe);return pe.encodeByteArray(De,!0)},se=function(Oe){return we(Oe).replace(/\./g,"")},Se=function(Oe){try{return pe.decodeString(Oe,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function re(Oe){return ue(void 0,Oe)}function ue(Oe,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return De}for(const ke in De)!De.hasOwnProperty(ke)||!ve(ke)||(Oe[ke]=ue(Oe[ke],De[ke]));return Oe}function ve(Oe){return"__proto__"!==Oe}const $e=()=>{try{return function rt(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Oe=process.env.__FIREBASE_DEFAULTS__;return Oe?JSON.parse(Oe):void 0})()||(()=>{if("undefined"==typeof document)return;let Oe;try{Oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ke){return}const De=Oe&&Se(Oe[1]);return De&&JSON.parse(De)})()}catch(Oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Oe}`)}},Je=Oe=>{var De,ke;return null===(ke=null===(De=$e())||void 0===De?void 0:De.emulatorHosts)||void 0===ke?void 0:ke[Oe]},Pt=Oe=>{const De=Je(Oe);if(!De)return;const ke=De.lastIndexOf(":");if(ke<=0||ke+1===De.length)throw new Error(`Invalid host ${De} with no separate hostname and port!`);const bt=parseInt(De.substring(ke+1),10);return"["===De[0]?[De.substring(1,ke-1),bt]:[De.substring(0,ke),bt]},Qt=()=>{var Oe;return null===(Oe=$e())||void 0===Oe?void 0:Oe.config},ze=Oe=>{var De;return null===(De=$e())||void 0===De?void 0:De[`_${Oe}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,ke)=>{this.resolve=De,this.reject=ke})}wrapCallback(De){return(ke,bt)=>{ke?this.reject(ke):this.resolve(bt),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(ke):De(ke,bt))}}}function Ct(Oe,De){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const bt=De||"demo-project",Be=Oe.iat||0,en=Oe.sub||Oe.user_id;if(!en)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dn=Object.assign({iss:`https://securetoken.google.com/${bt}`,aud:bt,iat:Be,exp:Be+3600,auth_time:Be,sub:en,user_id:en,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(dn)),""].join(".")}function Rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function nt(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function We(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function He(){const Oe=Rt();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function dt(){return!1}function zt(){return!function Ht(){var Oe;const De=null===(Oe=$e())||void 0===Oe?void 0:Oe.forceEnvironment;if("node"===De)return!0;if("browser"===De)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ke){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yt(){try{return"object"==typeof indexedDB}catch(Oe){return!1}}function Bt(){return new Promise((Oe,De)=>{try{let ke=!0;const bt="validate-browser-context-for-indexeddb-analytics-module",Be=self.indexedDB.open(bt);Be.onsuccess=()=>{Be.result.close(),ke||self.indexedDB.deleteDatabase(bt),Oe(!0)},Be.onupgradeneeded=()=>{ke=!1},Be.onerror=()=>{var en;De((null===(en=Be.error)||void 0===en?void 0:en.message)||"")}}catch(ke){De(ke)}})}class Tt extends Error{constructor(De,ke,bt){super(ke),this.code=De,this.customData=bt,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(De,ke,bt){this.service=De,this.serviceName=ke,this.errors=bt}create(De,...ke){const bt=ke[0]||{},Be=`${this.service}/${De}`,en=this.errors[De],dn=en?function Ve(Oe,De){return Oe.replace(Xe,(ke,bt)=>{const Be=De[bt];return null!=Be?String(Be):`<${bt}?>`})}(en,bt):"Error";return new Tt(Be,`${this.serviceName}: ${dn} (${Be}).`,bt)}}const Xe=/\{\$([^}]+)}/g;function St(Oe){return JSON.parse(Oe)}function Tn(Oe){return JSON.stringify(Oe)}const rr=function(Oe){let De={},ke={},bt={},Be="";try{const en=Oe.split(".");De=St(Se(en[0])||""),ke=St(Se(en[1])||""),Be=en[2],bt=ke.d||{},delete ke.d}catch(en){}return{header:De,claims:ke,data:bt,signature:Be}},Yr=function(Oe){const ke=rr(Oe).claims;return!!ke&&"object"==typeof ke&&ke.hasOwnProperty("iat")},kr=function(Oe){const De=rr(Oe).claims;return"object"==typeof De&&!0===De.admin};function ar(Oe,De){return Object.prototype.hasOwnProperty.call(Oe,De)}function Wr(Oe,De){if(Object.prototype.hasOwnProperty.call(Oe,De))return Oe[De]}function Ci(Oe){for(const De in Oe)if(Object.prototype.hasOwnProperty.call(Oe,De))return!1;return!0}function Mi(Oe,De,ke){const bt={};for(const Be in Oe)Object.prototype.hasOwnProperty.call(Oe,Be)&&(bt[Be]=De.call(ke,Oe[Be],Be,Oe));return bt}function sn(Oe,De){if(Oe===De)return!0;const ke=Object.keys(Oe),bt=Object.keys(De);for(const Be of ke){if(!bt.includes(Be))return!1;const en=Oe[Be],dn=De[Be];if(wi(en)&&wi(dn)){if(!sn(en,dn))return!1}else if(en!==dn)return!1}for(const Be of bt)if(!ke.includes(Be))return!1;return!0}function wi(Oe){return null!==Oe&&"object"==typeof Oe}function Fr(Oe){const De=[];for(const[ke,bt]of Object.entries(Oe))Array.isArray(bt)?bt.forEach(Be=>{De.push(encodeURIComponent(ke)+"="+encodeURIComponent(Be))}):De.push(encodeURIComponent(ke)+"="+encodeURIComponent(bt));return De.length?"&"+De.join("&"):""}function Pi(Oe){const De={};return Oe.replace(/^\?/,"").split("&").forEach(bt=>{if(bt){const[Be,en]=bt.split("=");De[decodeURIComponent(Be)]=decodeURIComponent(en)}}),De}function vi(Oe){const De=Oe.indexOf("?");if(!De)return"";const ke=Oe.indexOf("#",De);return Oe.substring(De,ke>0?ke:void 0)}class Lr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let De=1;De<this.blockSize;++De)this.pad_[De]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(De,ke){ke||(ke=0);const bt=this.W_;if("string"==typeof De)for(let Ce=0;Ce<16;Ce++)bt[Ce]=De.charCodeAt(ke)<<24|De.charCodeAt(ke+1)<<16|De.charCodeAt(ke+2)<<8|De.charCodeAt(ke+3),ke+=4;else for(let Ce=0;Ce<16;Ce++)bt[Ce]=De[ke]<<24|De[ke+1]<<16|De[ke+2]<<8|De[ke+3],ke+=4;for(let Ce=16;Ce<80;Ce++){const de=bt[Ce-3]^bt[Ce-8]^bt[Ce-14]^bt[Ce-16];bt[Ce]=4294967295&(de<<1|de>>>31)}let Br,Ue,Be=this.chain_[0],en=this.chain_[1],dn=this.chain_[2],Yn=this.chain_[3],ir=this.chain_[4];for(let Ce=0;Ce<80;Ce++){Ce<40?Ce<20?(Br=Yn^en&(dn^Yn),Ue=1518500249):(Br=en^dn^Yn,Ue=1859775393):Ce<60?(Br=en&dn|Yn&(en|dn),Ue=2400959708):(Br=en^dn^Yn,Ue=3395469782);const de=(Be<<5|Be>>>27)+Br+ir+Ue+bt[Ce]&4294967295;ir=Yn,Yn=dn,dn=4294967295&(en<<30|en>>>2),en=Be,Be=de}this.chain_[0]=this.chain_[0]+Be&4294967295,this.chain_[1]=this.chain_[1]+en&4294967295,this.chain_[2]=this.chain_[2]+dn&4294967295,this.chain_[3]=this.chain_[3]+Yn&4294967295,this.chain_[4]=this.chain_[4]+ir&4294967295}update(De,ke){if(null==De)return;void 0===ke&&(ke=De.length);const bt=ke-this.blockSize;let Be=0;const en=this.buf_;let dn=this.inbuf_;for(;Be<ke;){if(0===dn)for(;Be<=bt;)this.compress_(De,Be),Be+=this.blockSize;if("string"==typeof De){for(;Be<ke;)if(en[dn]=De.charCodeAt(Be),++dn,++Be,dn===this.blockSize){this.compress_(en),dn=0;break}}else for(;Be<ke;)if(en[dn]=De[Be],++dn,++Be,dn===this.blockSize){this.compress_(en),dn=0;break}}this.inbuf_=dn,this.total_+=ke}digest(){const De=[];let ke=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Be=this.blockSize-1;Be>=56;Be--)this.buf_[Be]=255&ke,ke/=256;this.compress_(this.buf_);let bt=0;for(let Be=0;Be<5;Be++)for(let en=24;en>=0;en-=8)De[bt]=this.chain_[Be]>>en&255,++bt;return De}}function Ke(Oe,De){const ke=new be(Oe,De);return ke.subscribe.bind(ke)}class be{constructor(De,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{De(this)}).catch(bt=>{this.error(bt)})}next(De){this.forEachObserver(ke=>{ke.next(De)})}error(De){this.forEachObserver(ke=>{ke.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,ke,bt){let Be;if(void 0===De&&void 0===ke&&void 0===bt)throw new Error("Missing Observer.");Be=function at(Oe,De){if("object"!=typeof Oe||null===Oe)return!1;for(const ke of De)if(ke in Oe&&"function"==typeof Oe[ke])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:ke,complete:bt},void 0===Be.next&&(Be.next=_t),void 0===Be.error&&(Be.error=_t),void 0===Be.complete&&(Be.complete=_t);const en=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Be.error(this.finalError):Be.complete()}catch(dn){}}),this.observers.push(Be),en}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,De)}sendOne(De,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{ke(this.observers[De])}catch(bt){"undefined"!=typeof console&&console.error&&console.error(bt)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _t(){}function Sn(Oe,De){return`${Oe} failed: ${De} argument `}const nr=function(Oe){const De=[];let ke=0;for(let bt=0;bt<Oe.length;bt++){let Be=Oe.charCodeAt(bt);if(Be>=55296&&Be<=56319){const en=Be-55296;bt++,b(bt<Oe.length,"Surrogate pair missing trail surrogate."),Be=65536+(en<<10)+(Oe.charCodeAt(bt)-56320)}Be<128?De[ke++]=Be:Be<2048?(De[ke++]=Be>>6|192,De[ke++]=63&Be|128):Be<65536?(De[ke++]=Be>>12|224,De[ke++]=Be>>6&63|128,De[ke++]=63&Be|128):(De[ke++]=Be>>18|240,De[ke++]=Be>>12&63|128,De[ke++]=Be>>6&63|128,De[ke++]=63&Be|128)}return De},di=function(Oe){let De=0;for(let ke=0;ke<Oe.length;ke++){const bt=Oe.charCodeAt(ke);bt<128?De++:bt<2048?De+=2:bt>=55296&&bt<=56319?(De+=4,ke++):De+=3}return De};function Ei(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},9012:(xt,Pe,A)=>{A.d(Pe,{$0:()=>pe,$f:()=>H,$s:()=>ge,GO:()=>b,HD:()=>we,JW:()=>ue,Xt:()=>rt,hS:()=>ve,m0:()=>ie,mm:()=>re,n3:()=>se,rc:()=>Se});var p=A(7319);const b=(0,p.PH)("[ARTICLE] Show All"),ie=(0,p.PH)("[ARTICLE] Show All Success",(0,p.Ky)()),H=(0,p.PH)("[ARTICLE] Create",(0,p.Ky)()),ge=(0,p.PH)("[ARTICLE] Create Success",(0,p.Ky)()),pe=(0,p.PH)("[ARTICLE] Create Failure",(0,p.Ky)()),we=(0,p.PH)("[ARTICLE] Get by Id",(0,p.Ky)()),se=(0,p.PH)("[ARTICLE] Get by Id Success",(0,p.Ky)()),Se=(0,p.PH)("[ARTICLE] Reset"),re=(0,p.PH)("[Product] Add to cart",(0,p.Ky)()),ue=(0,p.PH)("[Product] Remove from cart",(0,p.Ky)()),ve=(0,p.PH)("[Products] Load items from server"),rt=(0,p.PH)("[Products] Load success",(0,p.Ky)())},4281:(xt,Pe,A)=>{A.d(Pe,{FC:()=>Se,N5:()=>qe,Zz:()=>se,kk:()=>rt,ll:()=>Ne});var p=A(7319),b=A(9012);const ge=(0,p.Lq)({articles:[],message:""},(0,p.on)(b.m0,(Ye,{payload:$e})=>({articles:$e,message:"Success"})),(0,p.on)(b.$s,(Ye,{payload:$e})=>({articles:[$e],message:"Article Created."})),(0,p.on)(b.$0,(Ye,{payload:$e})=>({articles:[],message:$e})),(0,p.on)(b.n3,(Ye,{payload:$e})=>({articles:$e,message:"Success"})),(0,p.on)(b.rc,Ye=>({articles:[],message:""}))),we=(0,p.ZF)("articleState"),se=(0,p.P1)(we,Ye=>Ye.articles),Se=(0,p.P1)(we,Ye=>Ye.message),re=(0,p.Lq)({products:[],cart:[]},(0,p.on)(b.Xt,(Ye,{payload:$e})=>Object.assign(Object.assign({},Ye),{products:$e})),(0,p.on)(b.mm,(Ye,{payload:$e})=>Object.assign(Object.assign({},Ye),{cart:[...Ye.cart,$e]})),(0,p.on)(b.JW,(Ye,{payload:$e})=>Object.assign(Object.assign({},Ye),{cart:[...Ye.cart.filter(Je=>Je.name!==$e.name)]}))),ve=(0,p.ZF)("productState1"),rt=(0,p.P1)(ve,Ye=>Ye.products),qe=(0,p.P1)(ve,Ye=>Ye.cart),Ne={articleState:function pe(Ye,$e){return ge(Ye,$e)},productState1:function ue(Ye,$e){return re(Ye,$e)}}},2944:(xt,Pe,A)=>{A.d(Pe,{Y:()=>ie});var p=A(5e3),b=(()=>{return(H=b||(b={}))[H.slideToLeft=1]="slideToLeft",H[H.slideToRight=2]="slideToRight",H[H.slideToTop=3]="slideToTop",H[H.slideToBottom=4]="slideToBottom",b;var H})();let ie=(()=>{class H{constructor(){this.routeAnimation=null}setRouteAnimation(pe){this.routeAnimation=b[pe]}get currentRouteAnimation(){return this.routeAnimation}}return H.\u0275fac=function(pe){return new(pe||H)},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},8311:(xt,Pe,A)=>{A.d(Pe,{g:()=>ge});var p=A(1135),b=A(8646),ie=A(8343),H=A(5e3);let ge=(()=>{class pe{constructor(){this._notification=new p.X(null),this.notification$=this._notification.asObservable().pipe((0,b.n)(),(0,ie.x)())}notify(se){this._notification.next(se),setTimeout(()=>this._notification.next(null),3e3)}}return pe.\u0275fac=function(se){return new(se||pe)},pe.\u0275prov=H.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},5063:(xt,Pe,A)=>{A.d(Pe,{Z:()=>ie});var p=A(9751),b=A(5e3);let ie=(()=>{class H{constructor(){this.permission=this.isSupported()?"default":"denied"}isSupported(){return"Notification"in window}requestPermission(){let pe=this;"Notification"in window&&Notification.requestPermission(function(we){return pe.permission=we})}create(pe,we){let se=this;return new p.y(function(Se){"Notification"in window||(console.log("Notifications are not available in this environment"),Se.complete()),"granted"!==se.permission&&(console.log("The user hasn't granted you permission to send push notifications"),Se.complete());let re=new Notification(pe,we);re.onshow=function(ue){return Se.next({notification:re,event:ue})},re.onclick=function(ue){return Se.next({notification:re,event:ue})},re.onerror=function(ue){return Se.error({notification:re,event:ue})},re.onclose=function(){return Se.complete()}})}generateNotification(pe){let we=this;pe.forEach(se=>{we.create(se.title,{body:se.alertContent,icon:"assets/icons/icon-72x72.png"}).subscribe()})}}return H.\u0275fac=function(pe){return new(pe||H)},H.\u0275prov=b.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},4466:(xt,Pe,A)=>{A.d(Pe,{m:()=>ge});var p=A(9808),b=A(3075),ie=A(4202),H=A(5e3);let ge=(()=>{class pe{}return pe.\u0275fac=function(se){return new(se||pe)},pe.\u0275mod=H.oAB({type:pe}),pe.\u0275inj=H.cJS({imports:[p.ez,ie.Bz,b.u5,b.UX,b.u5,b.UX]}),pe})()},2544:(xt,Pe,A)=>{A.d(Pe,{y:()=>ie});var p=A(7579),b=A(1135);class ie{constructor(ge){this.reducer=ge,this.action=new p.x;const pe={type:"@ngrx/store/init"},we=ge(void 0,pe);this.state=new b.X(we),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(pe)}dispatch(ge){const pe=this.state.getValue(),we=this.reducer(pe,ge);this.state.next(we),this.action.next(ge)}}},3070:(xt,Pe,A)=>{A.d(Pe,{u:()=>p});class p{}},7507:(xt,Pe,A)=>{A.d(Pe,{Yk:()=>p,wJ:()=>b});var p=(()=>{return(H=p||(p={})).Clear="Clear",H.Snow="Snow",H.Rain="Rain",H.Clouds="Clouds",H.Thunderstorm="Thunderstorm",H.Atmosphere="Atmosphere",H.Drizzle="Drizzle",H.Unknown="Unknown",p;var H})();function b(H){return(new Map).set("Thunderstorm",p.Thunderstorm).set("Drizzle",p.Drizzle).set("Rain",p.Rain).set("Snow",p.Snow).set("Atmosphere",p.Atmosphere).set("Clouds",p.Clouds).set("Clear",p.Clear).get(H.main)||p.Unknown}},5159:(xt,Pe,A)=>{A.d(Pe,{N:()=>b});const b={production:!0,version:A(4147).i8,firebaseConfig:{apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432"}}},2958:(xt,Pe,A)=>{var p=A(2313),b=A(5e3),ie=A(4202),H=A(1777);const ge=[(0,H.IO)(":enter, :leave",(0,H.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,H.IO)(":leave",(0,H.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,H.IO)(":enter",(0,H.oB)({transform:"translateX(100%)"}),{optional:!0}),(0,H.ru)([(0,H.IO)(":leave",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateX(-100%)"}))],{optional:!0}),(0,H.IO)(":enter",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateX(0%)"}))],{optional:!0})])],pe=[(0,H.IO)(":enter, :leave",(0,H.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,H.IO)(":leave",(0,H.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,H.IO)(":enter",(0,H.oB)({transform:"translateX(-100%)"}),{optional:!0}),(0,H.ru)([(0,H.IO)(":leave",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateX(100%)"}))],{optional:!0}),(0,H.IO)(":enter",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateX(0%)"}))],{optional:!0})])],we=[(0,H.IO)(":enter, :leave",(0,H.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,H.IO)(":leave",(0,H.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,H.IO)(":enter",(0,H.oB)({transform:"translateY(100%)"}),{optional:!0}),(0,H.ru)([(0,H.IO)(":leave",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateY(-100%)"}))],{optional:!0}),(0,H.IO)(":enter",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateY(0%)"}))],{optional:!0})])],se=[(0,H.IO)(":enter, :leave",(0,H.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,H.IO)(":leave",(0,H.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,H.IO)(":enter",(0,H.oB)({transform:"translateY(-100%)"}),{optional:!0}),(0,H.ru)([(0,H.IO)(":leave",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateY(100%)"}))],{optional:!0}),(0,H.IO)(":enter",[(0,H.jt)(".3s ease-in-out",(0,H.oB)({transform:"translateY(0%)"}))],{optional:!0})])],Se=(0,H.X$)("slideTransition",[(0,H.eR)("* => slideToLeft",ge),(0,H.eR)("* => slideToRight",pe),(0,H.eR)("* => slideToTop",we),(0,H.eR)("* => slideToBottom",se)]);var re=A(2944),ue=A(9808);function ve(I,v){if(1&I&&(b.TgZ(0,"li",11)(1,"a",12),b._uU(2),b.qZA()()),2&I){const y=v.$implicit;b.xp6(1),b.Q6J("routerLink",null==y?null:y.path),b.xp6(1),b.Oqu((null==y?null:y.name)||(null==y?null:y.path))}}function rt(I,v){if(1&I&&(b.TgZ(0,"a",13),b._uU(1),b.qZA()),2&I){const y=v.$implicit;b.xp6(1),b.Oqu(y)}}const qe=function(){return["navbar-dark","bg-dark"]},Ne=function(){return["navbar-light","bg-light"]},Ye=function(I){return{show:I}};let $e=(()=>{class I{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(y,x){1&y&&(b.TgZ(0,"nav",0)(1,"a",1),b._uU(2,"Navbar"),b.qZA(),b.TgZ(3,"button",2),b.NdJ("click",function(){return x.toggleNavbar()}),b._UZ(4,"span",3),b.qZA(),b.TgZ(5,"div",4)(6,"ul",5),b.YNc(7,ve,3,2,"li",6),b.TgZ(8,"li",7),b.NdJ("click",function(){return x.show=!x.show}),b.TgZ(9,"a",8),b._uU(10,"Language"),b.qZA(),b.TgZ(11,"div",9),b.YNc(12,rt,2,1,"a",10),b.qZA()()()()()),2&y&&(b.Q6J("ngClass","DARK"===x.template?b.DdM(6,qe):b.DdM(7,Ne)),b.xp6(5),b.Q6J("ngClass",b.VKq(8,Ye,x.isCollapsed)),b.xp6(2),b.Q6J("ngForOf",x.routes),b.xp6(4),b.ekj("show",x.show),b.xp6(1),b.Q6J("ngForOf",x.languages))},dependencies:[ue.mk,ue.sg,ie.yS,ie.Od],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0deg,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]}),I})();const Pt=[{path:"application",loadChildren:()=>Promise.all([A.e(8592),A.e(612)]).then(A.bind(A,612)).then(I=>I.ApplicationModule)},{path:"personal",loadChildren:()=>Promise.all([A.e(4641),A.e(8493),A.e(6973),A.e(8592),A.e(1412)]).then(A.bind(A,1412)).then(I=>I.PersonalModule)},{path:"rktect",loadChildren:()=>Promise.all([A.e(693),A.e(4980)]).then(A.bind(A,6946)).then(I=>I.RktectModule)},{path:"audios",loadChildren:()=>Promise.all([A.e(4331),A.e(4859)]).then(A.bind(A,870)).then(I=>I.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([A.e(4331),A.e(1839)]).then(A.bind(A,1839)).then(I=>I.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([A.e(4331),A.e(433),A.e(8521)]).then(A.bind(A,8521)).then(I=>I.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([A.e(4331),A.e(7539)]).then(A.bind(A,7539)).then(I=>I.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([A.e(4331),A.e(3261)]).then(A.bind(A,3261)).then(I=>I.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([A.e(4331),A.e(8592),A.e(2672)]).then(A.bind(A,5682)).then(I=>I.CovidModule)},{path:"github",loadChildren:()=>Promise.all([A.e(4331),A.e(8592),A.e(8580)]).then(A.bind(A,8580)).then(I=>I.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([A.e(7807),A.e(8592),A.e(2737)]).then(A.bind(A,2737)).then(I=>I.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([A.e(4331),A.e(1568)]).then(A.bind(A,1568)).then(I=>I.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([A.e(4331),A.e(9045)]).then(A.bind(A,9045)).then(I=>I.MoviesModule)},{path:"ngrx-store",loadChildren:()=>A.e(111).then(A.bind(A,111)).then(I=>I.NgrxStoreModule)},{path:"shop",loadChildren:()=>Promise.all([A.e(8592),A.e(5134)]).then(A.bind(A,5134)).then(I=>I.ShopModule)},{path:"encapsulating",loadChildren:()=>A.e(1324).then(A.bind(A,1324)).then(I=>I.EncapsulatingModule)},{path:"sports",loadChildren:()=>Promise.all([A.e(4331),A.e(7968)]).then(A.bind(A,7968)).then(I=>I.SportsModule)},{path:"store",loadChildren:()=>A.e(6707).then(A.bind(A,6707)).then(I=>I.StoreModule)},{path:"survey",loadChildren:()=>A.e(1801).then(A.bind(A,1801)).then(I=>I.SurveyPollVoterPridictionModule)},{path:"abstract-animation",loadChildren:()=>A.e(8978).then(A.bind(A,8978)).then(I=>I.AbstractAnimationModule)},{path:"animation-game",loadChildren:()=>Promise.all([A.e(8592),A.e(3425)]).then(A.bind(A,3425)).then(I=>I.AnimationGameModule)},{path:"responsive-site",loadChildren:()=>A.e(210).then(A.bind(A,210)).then(I=>I.ResponsiveSiteModule)},{path:"mockApi",loadChildren:()=>A.e(7784).then(A.bind(A,7784)).then(I=>I.MockapiModule)},{path:"routeReuse",loadChildren:()=>A.e(1164).then(A.bind(A,1164)).then(I=>I.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>A.e(4324).then(A.bind(A,4324)).then(I=>I.SampleModule)},{path:"navigations",component:(()=>{class I{constructor(y){this.animationService=y,this.routes=[{path:"website"},{path:"resume"},{path:"portfolio"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(y){return y.activatedRouteData.animation}}return I.\u0275fac=function(y){return new(y||I)(b.Y36(re.Y))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-navigations"]],decls:3,vars:2,consts:[[3,"routes","template"]],template:function(y,x){1&y&&(b._UZ(0,"app-navbar",0),b.TgZ(1,"main"),b._UZ(2,"router-outlet"),b.qZA()),2&y&&b.Q6J("routes",x.routes)("template","LIGHT")},dependencies:[ie.lC,$e],data:{animation:[Se]}}),I})(),children:[{path:"website",loadChildren:()=>Promise.all([A.e(8592),A.e(5545)]).then(A.bind(A,5545)).then(I=>I.LayoutOneModule)},{path:"resume",loadChildren:()=>Promise.all([A.e(8592),A.e(6564)]).then(A.bind(A,6564)).then(I=>I.ResumeModule)},{path:"portfolio",loadChildren:()=>A.e(9682).then(A.bind(A,9682)).then(I=>I.PortfolioModule)},{path:"my-site",loadChildren:()=>A.e(7391).then(A.bind(A,7391)).then(I=>I.MysiteModule)},{path:"form",loadChildren:()=>Promise.all([A.e(7807),A.e(8592),A.e(8964)]).then(A.bind(A,1776)).then(I=>I.FormModule)},{path:"svg",loadChildren:()=>A.e(5201).then(A.bind(A,5201)).then(I=>I.SvgRendererModule)},{path:"task",loadChildren:()=>Promise.all([A.e(7807),A.e(693),A.e(6973),A.e(8707),A.e(8592),A.e(1274)]).then(A.bind(A,1274)).then(I=>I.TaskModule)},{path:"unit-testing",loadChildren:()=>A.e(4376).then(A.bind(A,4376)).then(I=>I.UnitTestingModule)}]},{path:"useFullApps",loadChildren:()=>Promise.all([A.e(433),A.e(3919),A.e(6141),A.e(8592),A.e(6823)]).then(A.bind(A,6823)).then(I=>I.UsefullAppsModule)},{path:"library-ex",loadChildren:()=>Promise.all([A.e(433),A.e(7807),A.e(3919),A.e(8592),A.e(8421)]).then(A.bind(A,4674)).then(I=>I.LibraryExModule)},{path:"firebase",loadChildren:()=>Promise.all([A.e(6141),A.e(7378)]).then(A.bind(A,7378)).then(I=>I.FirebaseTutsModule)},{path:"tutorials",loadChildren:()=>Promise.all([A.e(433),A.e(8707),A.e(8592),A.e(4940)]).then(A.bind(A,4940)).then(I=>I.TutorialsModule)},{path:"css-learn",loadChildren:()=>A.e(504).then(A.bind(A,504)).then(I=>I.CssLearnModule)},{path:"",redirectTo:"personal",pathMatch:"full"},{path:"**",redirectTo:"personal"}];let Qt=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({imports:[ie.Bz.forRoot(Pt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),ie.Bz]}),I})();var ze=A(520);let je=(()=>{class I{constructor(y){this.http=y,this.CONFIGURATION_URL="assets/config/configuration.json"}loadConfiguration(){return this.http.get(this.CONFIGURATION_URL).toPromise().then(y=>(this.configuration=y,y)).catch(y=>{console.error(y)})}getConfiguration(){return this.configuration}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ze.eN))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var Ct=A(1135),Rt=A(2843),it=A(3900),Ht=A(9646),Ot=A(6805),We=A(262),pt=A(8505),He=A(4004);let Vt=(()=>{class I{constructor(y){this.http=y,this.alertSubject=new Ct.X(null),this.alertObservable=this.alertSubject.asObservable()}getUser(y){return this.http.get(`https://jsonplaceholder.typicode.com/users/${y}`).pipe((0,We.K)(x=>(0,Rt._)(x)))}getToDo(y){return this.http.get(`https://jsonplaceholder.typicode.com/todos?userId=${y}`).pipe((0,We.K)(x=>(0,Rt._)(x)))}setUser(y){console.log(y)}setToDos(y){console.log(y)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,it.w)(y=>(this.setUser(y),this.getToDo(y.id).pipe((0,pt.b)(x=>this.setToDos(x))))),(0,We.K)(y=>(this.alertSubject.next(y),(0,Ht.of)(y))))}initialiseAppUsingPromises(){return function nt(I,v){const y="object"==typeof v;return new Promise((x,z)=>{let ye,te=!1;I.subscribe({next:Te=>{ye=Te,te=!0},error:z,complete:()=>{te?x(ye):y?x(v.defaultValue):z(new Ot.K)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,He.U)(y=>y))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,He.U)(y=>y))}getComments(){return this.http.get("https://jsonplaceholder.typicode.com/comments").pipe((0,He.U)(y=>y))}deleteToDo(){return this.http.delete("https://jsonplaceholder.typicode.com/todos/2").pipe((0,He.U)(y=>y))}getToDos(){return this.http.get("https://jsonplaceholder.typicode.com/todos").pipe((0,He.U)(y=>y))}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ze.eN))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var dt=A(8311);function zt(I,v){if(1&I){const y=b.EpF();b.TgZ(0,"div",1),b.NdJ("click",function(){b.CHM(y);const z=b.oxw();return b.KtG(z.showNotification=!z.showNotification)}),b.TgZ(1,"p"),b._uU(2),b.qZA()()}if(2&I){const y=b.oxw();b.xp6(2),b.Oqu(y.notification)}}let Yt=(()=>{class I{constructor(y){this.notificationService=y,this.notificationService.notification$.subscribe(x=>{this.notification=x,this.showNotification=!0})}ngOnInit(){}}return I.\u0275fac=function(y){return new(y||I)(b.Y36(dt.g))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-notification"]],decls:1,vars:1,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"]],template:function(y,x){1&y&&b.YNc(0,zt,3,1,"div",0),2&y&&b.Q6J("ngIf",x.notification&&x.showNotification)},dependencies:[ue.O5],styles:[".notification[_ngcontent-%COMP%]{position:absolute;z-index:1;top:5px;line-height:20px;text-align:center;right:5px;background:linear-gradient(-90deg,#cb5cd2,#cc3fa0);color:#fff;font-style:oblique;text-transform:capitalize;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;min-height:20px;min-width:160px;max-width:300px;padding:15px;cursor:pointer}"]}),I})(),Bt=(()=>{class I{constructor(y){this.router=y,this.loadCount=0,this.loadState=new Ct.X(!1),this.router.events.subscribe(x=>{this.navigationInterceptor(x)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(y){y instanceof ie.OD&&this.showLoader(),y instanceof ie.m2&&this.hideLoader(),y instanceof ie.gk&&this.hideLoader(),y instanceof ie.Q3&&this.hideLoader()}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ie.F0))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Et(I,v){1&I&&(b.TgZ(0,"div",1)(1,"div",2),b._UZ(2,"div",3)(3,"div",4),b.qZA()())}let pr=(()=>{class I{constructor(y){this.loaderService=y,this.loading=!1,this.loaderService.loadState.subscribe(x=>{this.loading=x})}ngOnInit(){}}return I.\u0275fac=function(y){return new(y||I)(b.Y36(Bt))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-loader"]],decls:1,vars:1,consts:[["class","preloader","id","preloader",4,"ngIf"],["id","preloader",1,"preloader"],[1,"loader","loader-1"],[1,"loader-outter"],[1,"loader-inner"]],template:function(y,x){1&y&&b.YNc(0,Et,4,0,"div",0),2&y&&b.Q6J("ngIf",x.loading)},dependencies:[ue.O5],styles:['@import"https://fonts.googleapis.com/css?family=Open+Sans:400,600|Poppins:400,500,600,700&amp;display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css";.custom-box-shadow[_ngcontent-%COMP%]{padding:24px 30px 30px;border-radius:10px;margin-bottom:30px;box-shadow:0 5px 20px #5d5d5d66;transition:all .3s ease-in}.section-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:60px;justify-content:space-between}.section-heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;z-index:5;font-size:36px;line-height:46px;font-weight:700;display:inline-block;text-transform:uppercase;margin-bottom:0}.section-heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{color:#cc2280!important}.section-heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .bg-text[_ngcontent-%COMP%]{z-index:1;position:absolute;text-transform:uppercase;left:50%;top:50%;transform:translate(-50%,-50%);font-size:85px;opacity:.07}.resume-box[_ngcontent-%COMP%]{padding:24px 30px 30px;border-radius:10px;margin-bottom:30px;box-shadow:0 5px 20px #5d5d5d66;transition:all .3s ease-in}.resume-box[_ngcontent-%COMP%]   .resume-title[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,252,252,.1)}.resume-box[_ngcontent-%COMP%]   .resume-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:21px;line-height:31px;font-weight:600;display:inline-block;position:relative;margin-bottom:0;padding-bottom:8px}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]{margin-top:30px;padding-left:30px;padding-top:30px;padding-bottom:30px;border-left:2px solid rgba(0,0,0,.1);border-left:2px solid rgba(255,252,252,.1)}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]   .single-education[_ngcontent-%COMP%]{border-left:3px solid #929292;margin-bottom:30px;padding-left:30px;position:relative;border-left:3px solid #cc2280}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]   .single-education[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{background:#929292;color:#fff;text-transform:uppercase;font-size:14px;display:inline-block;font-weight:600;padding:2px 10px;position:relative;margin-bottom:10px;background:#cc2280}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]   .single-education[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]:after{position:absolute;content:"";top:100%;left:10px;width:0;height:0;border-top:10px solid #929292;border-right:10px solid transparent;border-top:10px solid #cc2280}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]   .single-education[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]   .single-education[_ngcontent-%COMP%]   .university-name[_ngcontent-%COMP%]{font-size:16px;line-height:26px;margin-bottom:0}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]   .single-education[_ngcontent-%COMP%]:before{position:absolute;content:"";width:30px;height:2px;left:-30px;top:50%;transform:translateY(-50%);background:#929292;background:#cc2280}.resume-box[_ngcontent-%COMP%]   .education-list[_ngcontent-%COMP%]   .single-education[_ngcontent-%COMP%]:after{position:absolute;content:"";width:15px;height:15px;left:-41px;border-radius:50%;top:50%;transform:translateY(-50%);background:#929292;background:#cc2280}.resume-box[_ngcontent-%COMP%]   .knowledge-list[_ngcontent-%COMP%]{margin-top:25px}.resume-box[_ngcontent-%COMP%]   .knowledge-list[_ngcontent-%COMP%]   .single-knowledge[_ngcontent-%COMP%]{margin-bottom:18px}.resume-box[_ngcontent-%COMP%]   .knowledge-list[_ngcontent-%COMP%]   .single-knowledge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#929292;color:#cc2280!important}.resume-box[_ngcontent-%COMP%]   .knowledge-list[_ngcontent-%COMP%]   .single-knowledge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;padding-left:25px;position:relative}.btn-outline-custom[_ngcontent-%COMP%]{color:#cc2280;border-color:#cc2280}.btn-outline-custom[_ngcontent-%COMP%]:hover{background-color:#cc2280;color:#000}.default-color[_ngcontent-%COMP%]{color:#cc2280!important}.default-bg[_ngcontent-%COMP%]{background:#cc2280!important}*[_ngcontent-%COMP%]{color:#f1f1f1!important}.side-menu[_ngcontent-%COMP%]{width:250px;position:fixed;top:0;bottom:0;left:0;z-index:99;border-right:1px solid rgba(0,0,0,.1);border-right:1px solid rgba(255,255,255,.1)}.side-menu[_ngcontent-%COMP%]   .heading-area[_ngcontent-%COMP%]{text-align:center;padding-top:30px;border-bottom:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(255,252,252,.1);padding-bottom:22px;margin-bottom:30px;position:relative;overflow:hidden}.side-menu[_ngcontent-%COMP%]   .heading-area[_ngcontent-%COMP%]:before{position:absolute;content:"";width:100%;height:300%;transform:rotate(-58deg);top:-135%;right:-80%;background:#cc2280;z-index:0}.side-menu[_ngcontent-%COMP%]   .heading-area[_ngcontent-%COMP%]:after{position:absolute;content:"";width:100%;height:300%;transform:rotate(58deg);top:-135%;left:-80%;background:#cc2280;z-index:0}.side-menu[_ngcontent-%COMP%]   .heading-area[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#555;margin-top:13px;font-family:Poppins,sans-serif}.side-menu[_ngcontent-%COMP%]   .heading-area[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;height:130px;border-radius:50%;border:3px solid #cc2280;visibility:visible;animation-delay:.2s;animation-name:zoomIn;position:relative;z-index:1}.side-menu[_ngcontent-%COMP%]   .mainmenu-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0}.side-menu[_ngcontent-%COMP%]   .mainmenu-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 15px;margin-bottom:3px}.side-menu[_ngcontent-%COMP%]   .mainmenu-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:40px;font-size:14px;font-weight:600;border-radius:3px;position:relative;padding:0 20px 0 50px;display:block;transition:all .3s ease-in;text-decoration:none;outline:none}.side-menu[_ngcontent-%COMP%]   .mainmenu-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:10px;position:absolute;left:20px;top:50%;transform:translateY(-50%);color:#cc2280!important}.side-menu[_ngcontent-%COMP%]   .mainmenu-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .side-menu[_ngcontent-%COMP%]   .mainmenu-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cc2280!important}.main-content[_ngcontent-%COMP%]{padding-left:250px;height:auto;position:relative}.home-section[_ngcontent-%COMP%]{height:100vh;display:flex;align-self:center;align-items:center;position:relative;background-image:url(bg1.f70e68c49d0d06a9.png);background-repeat:no-repeat;background-position:center;background-size:cover}.home-section[_ngcontent-%COMP%]:before{position:absolute;content:"";width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.7);z-index:2}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:6}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:40px;line-height:50px;font-weight:700;margin-bottom:2px;color:#fff}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .designation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#fff}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .social-info[_ngcontent-%COMP%]{margin-top:27px}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .social-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:7px}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .social-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:40px;height:40px;font-size:14px;line-height:42px;text-align:center;border-radius:50%;transition:all .3s ease-in;border:1px solid rgba(255,255,255,.2)}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .social-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .social-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .home-image[_ngcontent-%COMP%]{display:flex;justify-content:center}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .home-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:50%;object-fit:cover;display:inline-block;border:5px solid #cc2280;margin-bottom:30px;box-shadow:0 5px 20px #5d5d5d66}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .home-image[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;width:80px;height:80px;background:#cc2280;border-radius:50%;color:#fff;font-size:20px;align-items:center;justify-content:center}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]{margin-top:30px}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:15px}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:15px}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn3[_ngcontent-%COMP%]{padding:10px 20px;background:#fff;border-radius:4px;font-size:13px;font-weight:600;display:inline-block;border:1px solid transparent;position:relative;z-index:3;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:all .4s;cursor:pointer;outline:none!important;overflow:hidden}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;font-weight:500;z-index:6;transition-delay:0s}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn3[_ngcontent-%COMP%]:hover:before{width:100%}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn3[_ngcontent-%COMP%]:hover:after{width:100%;transition-delay:.2s;background:#fff;opacity:1}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn3[_ngcontent-%COMP%]:before{content:"";width:0;height:100%;background:#fff;position:absolute;left:0;top:0;transition:width .4s;z-index:1;opacity:.4}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn3[_ngcontent-%COMP%]:after{content:"";width:0;height:100%;position:absolute;left:0;top:0;transition:width .4s;z-index:1;opacity:.4;transition-delay:0s;background:#fff;opacity:1}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn-bg[_ngcontent-%COMP%]{background:#cc2280;border-color:#cc2280;color:#fff;border-radius:26px}.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .about-links[_ngcontent-%COMP%]   .mybtn-bg[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#cc2280!important}.about[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{padding:25px 30px 30px;border-radius:17px;box-shadow:0 5px 20px #5d5d5d66}p[_ngcontent-%COMP%]{font-size:16px;line-height:1.625;-webkit-hyphens:auto;hyphens:auto}blockquote[_ngcontent-%COMP%]{display:block;background-color:#393939;padding:10px 30px 10px 40px;border-radius:15px;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0px;margin-inline-end:0px}ul[_ngcontent-%COMP%]{padding:0;margin:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none;outline:none;color:#555}.contact[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]{padding-bottom:50px;padding-top:50px}.contact[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]{padding:39px 20px 36px;margin-bottom:30px;border-radius:10px;text-align:center;position:relative;transition:all .3s ease-in;box-shadow:0 5px 20px #5d5d5d66}.contact[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]:hover, .footer[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.contact[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:21px;line-height:31px;font-weight:600;margin-bottom:10px}.contact[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.contact[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:36px;line-height:80px;width:80px;height:80px;display:inline-block;border-radius:50%;margin-bottom:22px;font-weight:400;box-shadow:0 5px 20px #5d5d5d66;background:#cc2280}.contact[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .single-info[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.certificate[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.6}@media (max-width: 1400px){.main-content[_ngcontent-%COMP%]{padding-left:200px}.side-menu[_ngcontent-%COMP%], .side-menu-wrapper[_ngcontent-%COMP%]{width:200px}}@media (max-width: 991px){.side-menu[_ngcontent-%COMP%]{position:fixed;z-index:99;background:#fff;height:100%;overflow:auto;display:none}.side-menu-wrapper[_ngcontent-%COMP%]   .menu-toogle-icon[_ngcontent-%COMP%]{display:block}.main-content[_ngcontent-%COMP%]{padding-left:0;overflow-x:hidden;max-width:100%;width:100%}.categori-widget[_ngcontent-%COMP%]{margin-top:30px}.about-section[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .about-image[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   .home-page-form[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 575px){.home-section[_ngcontent-%COMP%]   .home-content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:32px;line-height:42px}.about-section[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .personal-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{max-width:100%;flex:100%}}@media (max-width: 414px){.header-area[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block}.resume-wrapper[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   .skill-list2[_ngcontent-%COMP%]   .single-skill2[_ngcontent-%COMP%]{max-width:50%;flex:50%}}.preloader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#2b2b2b!important;opacity:.7;filter:alpha(opacity=70);z-index:9999999;transition:all .3s ease-in;display:flex;flex-direction:column;align-items:center;justify-content:center}.preloader[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{opacity:0;display:none}.preloader[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;border-radius:50%;margin:75px;display:inline-block;vertical-align:middle}.preloader[_ngcontent-%COMP%]   .loader-1[_ngcontent-%COMP%]   .loader-outter[_ngcontent-%COMP%]{position:absolute;border:4px solid #555;width:100%;height:100%;border-radius:50%;animation:loader-1-outter 1s cubic-bezier(.42,.61,.58,.41) infinite;border:4px solid #cc2280;border-left-color:transparent;border-bottom:0;-webkit-animation:loader-1-outter 1s cubic-bezier(.42,.61,.58,.41) infinite}.preloader[_ngcontent-%COMP%]   .loader-1[_ngcontent-%COMP%]   .loader-inner[_ngcontent-%COMP%]{position:absolute;border:4px solid #555;border-radius:50%;width:40px;height:40px;left:calc(50% - 20px);top:calc(50% - 20px);animation:loader-1-inner 1s cubic-bezier(.42,.61,.58,.41) infinite;border:4px solid #cc2280;border-right:0;border-top-color:transparent;-webkit-animation:loader-1-inner 1s cubic-bezier(.42,.61,.58,.41) infinite}@keyframes loader-1-outter{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes loader-1-inner{0%{transform:rotate(0)}to{transform:rotate(-360deg)}}.loader-2[_ngcontent-%COMP%]{margin:0 auto;width:160px;height:5px;border:1px solid #dedede;border-radius:50px;overflow:hidden}.loader-2.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 80px);z-index:9}.loader-2__fill[_ngcontent-%COMP%]{animation:slide 1.5s linear infinite;background-color:#18a4e0;width:50%;border-radius:50px;height:100%}@keyframes slide{0%{margin-left:-50%}to{margin-left:100%}}']}),I})();var Tt=A(9300);let st;try{st="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(I){st=!1}let Ve=(()=>{class I{constructor(y){this._platformId=y,this.isBrowser=this._platformId?(0,ue.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!st)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(b.Lbi))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var vi=A(797),Lr=A(5063);function Ke(I,v){if(1&I){const y=b.EpF();b.TgZ(0,"div",6),b.NdJ("click",function(){b.CHM(y);const z=b.oxw(2);return b.KtG(z.addToHomeScreen1())}),b._uU(1," Add to home screen "),b.qZA()}}function be(I,v){if(1&I){const y=b.EpF();b.TgZ(0,"div",2)(1,"div",3)(2,"span",4),b.NdJ("click",function(){b.CHM(y);const z=b.oxw();return b.KtG(z.closePwa())}),b._uU(3,"\u2715"),b.qZA(),b.YNc(4,Ke,2,0,"div",5),b.qZA()()}if(2&I){const y=b.oxw();b.xp6(4),b.Q6J("ngIf","ANDROID"===y.modalPwaPlatform)}}function Ee(I,v){if(1&I){const y=b.EpF();b.TgZ(0,"div",7)(1,"div",3)(2,"span",4),b.NdJ("click",function(){b.CHM(y);const z=b.oxw();return b.KtG(z.showButton=!1)}),b._uU(3,"\u2715"),b.qZA(),b.TgZ(4,"button",6),b.NdJ("click",function(){b.CHM(y);const z=b.oxw();return b.KtG(z.addToHomeScreen())}),b._uU(5,"Add to home screen"),b.qZA()()()}}function at(I,v){1&I&&(b.TgZ(0,"span",10),b._uU(1,"Online"),b.qZA())}function _t(I,v){1&I&&(b.TgZ(0,"span",11),b._uU(1,"Offline"),b.qZA())}function yn(I,v){if(1&I&&(b.TgZ(0,"div",7)(1,"div",3),b._uU(2," Status: "),b.YNc(3,at,2,0,"span",8),b.YNc(4,_t,2,0,"span",9),b.qZA()()),2&I){const y=b.oxw();b.xp6(3),b.Q6J("ngIf",y.isOnline),b.xp6(1),b.Q6J("ngIf",!y.isOnline)}}function Sn(I,v){if(1&I){const y=b.EpF();b.TgZ(0,"div",7)(1,"div",3)(2,"span",4),b.NdJ("click",function(){b.CHM(y);const z=b.oxw();return b.KtG(z.closeVersion())}),b._uU(3,"\u2715"),b.qZA(),b._uU(4," A new version of this app is available. "),b.TgZ(5,"a",12),b.NdJ("click",function(){b.CHM(y);const z=b.oxw();return b.KtG(z.updateVersion())}),b._uU(6,"Update now"),b.qZA()()()}}let gr=(()=>{class I{constructor(y,x,z){this.platform=y,this.swUpdate=x,this.pwa=z,this.isOnline=!1,this.modalVersion=!1,this.showButton=!1}ngOnInit(){this.checkingNetwork(),this.checkingVersion()}checkingVersion(){this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.pipe((0,Tt.h)(y=>"VERSION_READY"===y.type)).subscribe(y=>{console.info(`currentVersion=[${y.currentVersion} | latestVersion=[${y.latestVersion}]`),this.modalVersion=!0})}updateVersion(){this.modalVersion=!1,window.location.reload()}closeVersion(){this.modalVersion=!1}beforeInstallPrompt(y){y.preventDefault(),this.deferredPrompt=y,this.showButton=!0}addToHomeScreen(){this.showButton=!1,this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(y=>{"accepted"===y.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),this.deferredPrompt=null})}addToHomeScreen1(){this.modalPwaEvent.prompt(),this.modalPwaPlatform=void 0}closePwa(){this.modalPwaPlatform=void 0}beforeInstallPrompt1(){this.platform.ANDROID&&window.addEventListener("beforeinstallprompt",y=>{y.preventDefault(),this.modalPwaEvent=y,this.modalPwaPlatform="ANDROID"}),this.platform.IOS&&this.platform.SAFARI&&("standalone"in window.navigator&&window.navigator.standalone||(this.modalPwaPlatform="IOS"))}checkingNetwork(){this.updateOnlineStatus(),window.addEventListener("online",this.updateOnlineStatus.bind(this)),window.addEventListener("offline",this.updateOnlineStatus.bind(this))}updateOnlineStatus(){this.isOnline=window.navigator.onLine}}return I.\u0275fac=function(y){return new(y||I)(b.Y36(Ve),b.Y36(vi.yO),b.Y36(Lr.Z))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-pwa"]],hostBindings:function(y,x){1&y&&b.NdJ("beforeinstallprompt",function(te){return x.beforeInstallPrompt(te)},!1,b.Jf7)},decls:4,vars:4,consts:[["class","w-100 position-fixed top-0",4,"ngIf"],["class","pos-center position-fixed bottom-0",4,"ngIf"],[1,"w-100","position-fixed","top-0"],[1,"alert","alert-secondary","m-2"],["role","button",1,"position-absolute","end-0","m-1","text-danger",3,"click"],[3,"click",4,"ngIf"],[3,"click"],[1,"pos-center","position-fixed","bottom-0"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger text-white",4,"ngIf"],[1,"badge","bg-success"],[1,"badge","bg-danger","text-white"],["href","",3,"click"]],template:function(y,x){1&y&&(b.YNc(0,be,5,1,"div",0),b.YNc(1,Ee,6,0,"div",1),b.YNc(2,yn,5,2,"div",1),b.YNc(3,Sn,7,0,"div",1)),2&y&&(b.Q6J("ngIf","ANDROID"===x.modalPwaPlatform||"IOS"===x.modalPwaPlatform),b.xp6(1),b.Q6J("ngIf",x.showButton),b.xp6(1),b.Q6J("ngIf",!x.isOnline),b.xp6(1),b.Q6J("ngIf",x.modalVersion))},dependencies:[ue.O5],styles:[".ios-menu[_ngcontent-%COMP%]{width:14px}.bottom-0[_ngcontent-%COMP%]{bottom:0}.end-0[_ngcontent-%COMP%]{right:0}.pos-center[_ngcontent-%COMP%]{transform:translate(-50%,-50%);left:50%;min-width:300px;z-index:1000}"]}),I})(),Jt=(()=>{class I{constructor(y,x,z,te){this.configurationService=y,this.jsonPlaceholderService=x,this.routeReuseStrategy=z,this.route=te,this.title="portfolio-all-in-one",this.version=b.q4F.major}ngOnInit(){}clearStoredRoute(){this.routeReuseStrategy.deactivateAllHandles()}}return I.\u0275fac=function(y){return new(y||I)(b.Y36(je),b.Y36(Vt),b.Y36(ie.wN),b.Y36(ie.gz))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-root"]],decls:4,vars:0,template:function(y,x){1&y&&b._UZ(0,"app-loader")(1,"app-notification")(2,"router-outlet")(3,"app-pwa")},dependencies:[ie.lC,Yt,pr,gr]}),I})();function nr(I){return new b.vHH(3e3,!1)}function Xr(){return"undefined"!=typeof window&&void 0!==window.document}function Fn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hi(I){switch(I.length){case 0:return new H.ZN;case 1:return I[0];default:return new H.ZE(I)}}function Ds(I,v,y,x,z=new Map,te=new Map){const ye=[],Te=[];let Qe=-1,wt=null;if(x.forEach(nn=>{const gn=nn.get("offset"),Vn=gn==Qe,Gn=Vn&&wt||new Map;nn.forEach((fn,Un)=>{let Ar=Un,Nr=fn;if("offset"!==Un)switch(Ar=v.normalizePropertyName(Ar,ye),Nr){case H.k1:Nr=z.get(Un);break;case H.l3:Nr=te.get(Un);break;default:Nr=v.normalizeStyleValue(Un,Ar,Nr,ye)}Gn.set(Ar,Nr)}),Vn||Te.push(Gn),wt=Gn,Qe=gn}),ye.length)throw function Ge(I){return new b.vHH(3502,!1)}();return Te}function Is(I,v,y,x){switch(v){case"start":I.onStart(()=>x(y&&Bi(y,"start",I)));break;case"done":I.onDone(()=>x(y&&Bi(y,"done",I)));break;case"destroy":I.onDestroy(()=>x(y&&Bi(y,"destroy",I)))}}function Bi(I,v,y){const x=y.totalTime,te=or(I.element,I.triggerName,I.fromState,I.toState,v||I.phaseName,null==x?I.totalTime:x,!!y.disabled),ye=I._data;return null!=ye&&(te._data=ye),te}function or(I,v,y,x,z="",te=0,ye){return{element:I,triggerName:v,fromState:y,toState:x,phaseName:z,totalTime:te,disabled:!!ye}}function Mr(I,v,y){let x=I.get(v);return x||I.set(v,x=y),x}function Ln(I){const v=I.indexOf(":");return[I.substring(1,v),I.slice(v+1)]}let An=(I,v)=>!1,Mn=(I,v,y)=>[],fi=null;function Pn(I){const v=I.parentNode||I.host;return v===fi?null:v}(Fn()||"undefined"!=typeof Element)&&(Xr()?(fi=(()=>document.documentElement)(),An=(I,v)=>{for(;v;){if(v===I)return!0;v=Pn(v)}return!1}):An=(I,v)=>I.contains(v),Mn=(I,v,y)=>{if(y)return Array.from(I.querySelectorAll(v));const x=I.querySelector(v);return x?[x]:[]});let jr=null,ji=!1;const rs=An,qs=Mn;let Bs=(()=>{class I{validateStyleProperty(y){return function Pr(I){jr||(jr=function Kr(){return"undefined"!=typeof document?document.body:null}()||{},ji=!!jr.style&&"WebkitAppearance"in jr.style);let v=!0;return jr.style&&!function fo(I){return"ebkit"==I.substring(1,6)}(I)&&(v=I in jr.style,!v&&ji&&(v="Webkit"+I.charAt(0).toUpperCase()+I.slice(1)in jr.style)),v}(y)}matchesElement(y,x){return!1}containsElement(y,x){return rs(y,x)}getParentElement(y){return Pn(y)}query(y,x,z){return qs(y,x,z)}computeStyle(y,x,z){return z||""}animate(y,x,z,te,ye,Te=[],Qe){return new H.ZN(z,te)}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})(),bs=(()=>{class I{}return I.NOOP=new Bs,I})();const Le="ng-enter",ht="ng-leave",Xt="ng-trigger",Zt=".ng-trigger",Kn="ng-animating",Vr=".ng-animating";function _r(I){if("number"==typeof I)return I;const v=I.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Oi(parseFloat(v[1]),v[2])}function Oi(I,v){return"s"===v?1e3*I:I}function mr(I,v,y){return I.hasOwnProperty("duration")?I:function Rn(I,v,y){let z,te=0,ye="";if("string"==typeof I){const Te=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return v.push(nr()),{duration:0,delay:0,easing:""};z=Oi(parseFloat(Te[1]),Te[2]);const Qe=Te[3];null!=Qe&&(te=Oi(parseFloat(Qe),Te[4]));const wt=Te[5];wt&&(ye=wt)}else z=I;if(!y){let Te=!1,Qe=v.length;z<0&&(v.push(function di(){return new b.vHH(3100,!1)}()),Te=!0),te<0&&(v.push(function jn(){return new b.vHH(3101,!1)}()),Te=!0),Te&&v.splice(Qe,0,nr())}return{duration:z,delay:te,easing:ye}}(I,v,y)}function Hi(I,v={}){return Object.keys(I).forEach(y=>{v[y]=I[y]}),v}function Ys(I){const v=new Map;return Object.keys(I).forEach(y=>{v.set(y,I[y])}),v}function xi(I,v=new Map,y){if(y)for(let[x,z]of y)v.set(x,z);for(let[x,z]of I)v.set(x,z);return v}function Qi(I,v,y){return y?v+":"+y+";":""}function Zi(I){let v="";for(let y=0;y<I.style.length;y++){const x=I.style.item(y);v+=Qi(0,x,I.style.getPropertyValue(x))}for(const y in I.style)I.style.hasOwnProperty(y)&&!y.startsWith("_")&&(v+=Qi(0,Di(y),I.style[y]));I.setAttribute("style",v)}function Hn(I,v,y){I.style&&(v.forEach((x,z)=>{const te=Ya(z);y&&!y.has(z)&&y.set(z,I.style[te]),I.style[te]=x}),Fn()&&Zi(I))}function is(I,v){I.style&&(v.forEach((y,x)=>{const z=Ya(x);I.style[z]=""}),Fn()&&Zi(I))}function Ts(I){return Array.isArray(I)?1==I.length?I[0]:(0,H.vP)(I):I}const Ao=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qo(I){let v=[];if("string"==typeof I){let y;for(;y=Ao.exec(I);)v.push(y[1]);Ao.lastIndex=0}return v}function Ss(I,v,y){const x=I.toString(),z=x.replace(Ao,(te,ye)=>{let Te=v[ye];return null==Te&&(y.push(function Xn(I){return new b.vHH(3003,!1)}()),Te=""),Te.toString()});return z==x?I:z}function go(I){const v=[];let y=I.next();for(;!y.done;)v.push(y.value),y=I.next();return v}const ks=/-+([a-z0-9])/g;function Ya(I){return I.replace(ks,(...v)=>v[1].toUpperCase())}function Di(I){return I.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ss(I,v,y){switch(v.type){case 7:return I.visitTrigger(v,y);case 0:return I.visitState(v,y);case 1:return I.visitTransition(v,y);case 2:return I.visitSequence(v,y);case 3:return I.visitGroup(v,y);case 4:return I.visitAnimate(v,y);case 5:return I.visitKeyframes(v,y);case 6:return I.visitStyle(v,y);case 8:return I.visitReference(v,y);case 9:return I.visitAnimateChild(v,y);case 10:return I.visitAnimateRef(v,y);case 11:return I.visitQuery(v,y);case 12:return I.visitStagger(v,y);default:throw function ni(I){return new b.vHH(3004,!1)}()}}function Ur(I,v){return window.getComputedStyle(I)[v]}function Zs(I,v){const y=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(x=>function ur(I,v,y){if(":"==I[0]){const Qe=function Qa(I,v){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,x)=>parseFloat(x)>parseFloat(y);case":decrement":return(y,x)=>parseFloat(x)<parseFloat(y);default:return v.push(function Br(I){return new b.vHH(3016,!1)}()),"* => *"}}(I,y);if("function"==typeof Qe)return void v.push(Qe);I=Qe}const x=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return y.push(function ir(I){return new b.vHH(3015,!1)}()),v;const z=x[1],te=x[2],ye=x[3];v.push(os(z,ye));"<"==te[0]&&!("*"==z&&"*"==ye)&&v.push(os(ye,z))}(x,y,v)):y.push(I),y}const vr=new Set(["true","1"]),Lo=new Set(["false","0"]);function os(I,v){const y=vr.has(I)||Lo.has(I),x=vr.has(v)||Lo.has(v);return(z,te)=>{let ye="*"==I||I==z,Te="*"==v||v==te;return!ye&&y&&"boolean"==typeof z&&(ye=z?vr.has(I):Lo.has(I)),!Te&&x&&"boolean"==typeof te&&(Te=te?vr.has(v):Lo.has(v)),ye&&Te}}const Js=new RegExp("s*:selfs*,?","g");function Dn(I,v,y,x){return new ga(I).build(v,y,x)}class ga{constructor(v){this._driver=v}build(v,y,x){const z=new as(y);return this._resetContextStyleTimingState(z),ss(this,Ts(v),z)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,y){let x=y.queryCount=0,z=y.depCount=0;const te=[],ye=[];return"@"==v.name.charAt(0)&&y.errors.push(function $n(){return new b.vHH(3006,!1)}()),v.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(y),0==Te.type){const Qe=Te,wt=Qe.name;wt.toString().split(/\s*,\s*/).forEach(nn=>{Qe.name=nn,te.push(this.visitState(Qe,y))}),Qe.name=wt}else if(1==Te.type){const Qe=this.visitTransition(Te,y);x+=Qe.queryCount,z+=Qe.depCount,ye.push(Qe)}else y.errors.push(function Ir(){return new b.vHH(3007,!1)}())}),{type:7,name:v.name,states:te,transitions:ye,queryCount:x,depCount:z,options:null}}visitState(v,y){const x=this.visitStyle(v.styles,y),z=v.options&&v.options.params||null;if(x.containsDynamicStyles){const te=new Set,ye=z||{};x.styles.forEach(Te=>{Te instanceof Map&&Te.forEach(Qe=>{Qo(Qe).forEach(wt=>{ye.hasOwnProperty(wt)||te.add(wt)})})}),te.size&&(go(te.values()),y.errors.push(function ri(I,v){return new b.vHH(3008,!1)}()))}return{type:0,name:v.name,style:x,options:z?{params:z}:null}}visitTransition(v,y){y.queryCount=0,y.depCount=0;const x=ss(this,Ts(v.animation),y);return{type:1,matchers:Zs(v.expr,y.errors),animation:x,queryCount:y.queryCount,depCount:y.depCount,options:yo(v.options)}}visitSequence(v,y){return{type:2,steps:v.steps.map(x=>ss(this,x,y)),options:yo(v.options)}}visitGroup(v,y){const x=y.currentTime;let z=0;const te=v.steps.map(ye=>{y.currentTime=x;const Te=ss(this,ye,y);return z=Math.max(z,y.currentTime),Te});return y.currentTime=z,{type:3,steps:te,options:yo(v.options)}}visitAnimate(v,y){const x=function ei(I,v){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return Nt(mr(I,v).duration,0,"");const y=I;if(y.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Nt(0,0,"");return te.dynamic=!0,te.strValue=y,te}const z=mr(y,v);return Nt(z.duration,z.delay,z.easing)}(v.timings,y.errors);y.currentAnimateTimings=x;let z,te=v.styles?v.styles:(0,H.oB)({});if(5==te.type)z=this.visitKeyframes(te,y);else{let ye=v.styles,Te=!1;if(!ye){Te=!0;const wt={};x.easing&&(wt.easing=x.easing),ye=(0,H.oB)(wt)}y.currentTime+=x.duration+x.delay;const Qe=this.visitStyle(ye,y);Qe.isEmptyStep=Te,z=Qe}return y.currentAnimateTimings=null,{type:4,timings:x,style:z,options:null}}visitStyle(v,y){const x=this._makeStyleAst(v,y);return this._validateStyleAst(x,y),x}_makeStyleAst(v,y){const x=[],z=Array.isArray(v.styles)?v.styles:[v.styles];for(let Te of z)"string"==typeof Te?Te===H.l3?x.push(Te):y.errors.push(new b.vHH(3002,!1)):x.push(Ys(Te));let te=!1,ye=null;return x.forEach(Te=>{if(Te instanceof Map&&(Te.has("easing")&&(ye=Te.get("easing"),Te.delete("easing")),!te))for(let Qe of Te.values())if(Qe.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:x,easing:ye,offset:v.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(v,y){const x=y.currentAnimateTimings;let z=y.currentTime,te=y.currentTime;x&&te>0&&(te-=x.duration+x.delay),v.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((Te,Qe)=>{const wt=y.collectedStyles.get(y.currentQuerySelector),nn=wt.get(Qe);let gn=!0;nn&&(te!=z&&te>=nn.startTime&&z<=nn.endTime&&(y.errors.push(function De(I,v,y,x,z){return new b.vHH(3010,!1)}()),gn=!1),te=nn.startTime),gn&&wt.set(Qe,{startTime:te,endTime:z}),y.options&&function po(I,v,y){const x=v.params||{},z=Qo(I);z.length&&z.forEach(te=>{x.hasOwnProperty(te)||y.push(function Bn(I){return new b.vHH(3001,!1)}())})}(Te,y.options,y.errors)})})}visitKeyframes(v,y){const x={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function ke(){return new b.vHH(3011,!1)}()),x;let te=0;const ye=[];let Te=!1,Qe=!1,wt=0;const nn=v.steps.map(Nr=>{const Li=this._makeStyleAst(Nr,y);let _s=null!=Li.offset?Li.offset:function Jo(I){if("string"==typeof I)return null;let v=null;if(Array.isArray(I))I.forEach(y=>{if(y instanceof Map&&y.has("offset")){const x=y;v=parseFloat(x.get("offset")),x.delete("offset")}});else if(I instanceof Map&&I.has("offset")){const y=I;v=parseFloat(y.get("offset")),y.delete("offset")}return v}(Li.styles),vs=0;return null!=_s&&(te++,vs=Li.offset=_s),Qe=Qe||vs<0||vs>1,Te=Te||vs<wt,wt=vs,ye.push(vs),Li});Qe&&y.errors.push(function bt(){return new b.vHH(3012,!1)}()),Te&&y.errors.push(function Be(){return new b.vHH(3200,!1)}());const gn=v.steps.length;let Vn=0;te>0&&te<gn?y.errors.push(function en(){return new b.vHH(3202,!1)}()):0==te&&(Vn=1/(gn-1));const Gn=gn-1,fn=y.currentTime,Un=y.currentAnimateTimings,Ar=Un.duration;return nn.forEach((Nr,Li)=>{const _s=Vn>0?Li==Gn?1:Vn*Li:ye[Li],vs=_s*Ar;y.currentTime=fn+Un.delay+vs,Un.duration=vs,this._validateStyleAst(Nr,y),Nr.offset=_s,x.styles.push(Nr)}),x}visitReference(v,y){return{type:8,animation:ss(this,Ts(v.animation),y),options:yo(v.options)}}visitAnimateChild(v,y){return y.depCount++,{type:9,options:yo(v.options)}}visitAnimateRef(v,y){return{type:10,animation:this.visitReference(v.animation,y),options:yo(v.options)}}visitQuery(v,y){const x=y.currentQuerySelector,z=v.options||{};y.queryCount++,y.currentQuery=v;const[te,ye]=function ra(I){const v=!!I.split(/\s*,\s*/).find(y=>":self"==y);return v&&(I=I.replace(Js,"")),I=I.replace(/@\*/g,Zt).replace(/@\w+/g,y=>Zt+"-"+y.slice(1)).replace(/:animating/g,Vr),[I,v]}(v.selector);y.currentQuerySelector=x.length?x+" "+te:te,Mr(y.collectedStyles,y.currentQuerySelector,new Map);const Te=ss(this,Ts(v.animation),y);return y.currentQuery=null,y.currentQuerySelector=x,{type:11,selector:te,limit:z.limit||0,optional:!!z.optional,includeSelf:ye,animation:Te,originalSelector:v.selector,options:yo(v.options)}}visitStagger(v,y){y.currentQuery||y.errors.push(function dn(){return new b.vHH(3013,!1)}());const x="full"===v.timings?{duration:0,delay:0,easing:"full"}:mr(v.timings,y.errors,!0);return{type:12,animation:ss(this,Ts(v.animation),y),timings:x,options:null}}}class as{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yo(I){return I?(I=Hi(I)).params&&(I.params=function Xs(I){return I?Hi(I):null}(I.params)):I={},I}function Nt(I,v,y){return{duration:I,delay:v,easing:y}}function dr(I,v,y,x,z,te,ye=null,Te=!1){return{type:1,element:I,keyframes:v,preStyleProps:y,postStyleProps:x,duration:z,delay:te,totalTime:z+te,easing:ye,subTimeline:Te}}class ma{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,y){let x=this._map.get(v);x||this._map.set(v,x=[]),x.push(...y)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const G=new RegExp(":enter","g"),k=new RegExp(":leave","g");function X(I,v,y,x,z,te=new Map,ye=new Map,Te,Qe,wt=[]){return(new mt).buildKeyframes(I,v,y,x,z,te,ye,Te,Qe,wt)}class mt{buildKeyframes(v,y,x,z,te,ye,Te,Qe,wt,nn=[]){wt=wt||new ma;const gn=new Zr(v,y,wt,z,te,nn,[]);gn.options=Qe;const Vn=Qe.delay?_r(Qe.delay):0;gn.currentTimeline.delayNextStep(Vn),gn.currentTimeline.setStyles([ye],null,gn.errors,Qe),ss(this,x,gn);const Gn=gn.timelines.filter(fn=>fn.containsAnimation());if(Gn.length&&Te.size){let fn;for(let Un=Gn.length-1;Un>=0;Un--){const Ar=Gn[Un];if(Ar.element===y){fn=Ar;break}}fn&&!fn.allowOnlyTimelineStyles()&&fn.setStyles([Te],null,gn.errors,Qe)}return Gn.length?Gn.map(fn=>fn.buildKeyframes()):[dr(y,[],[],[],0,Vn,"",!1)]}visitTrigger(v,y){}visitState(v,y){}visitTransition(v,y){}visitAnimateChild(v,y){const x=y.subInstructions.get(y.element);if(x){const z=y.createSubContext(v.options),te=y.currentTimeline.currentTime,ye=this._visitSubInstructions(x,z,z.options);te!=ye&&y.transformIntoNewTimeline(ye)}y.previousNode=v}visitAnimateRef(v,y){const x=y.createSubContext(v.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],y,x),this.visitReference(v.animation,x),y.transformIntoNewTimeline(x.currentTimeline.currentTime),y.previousNode=v}_applyAnimationRefDelays(v,y,x){var z;for(const te of v){const ye=null==te?void 0:te.delay;if(ye){const Te="number"==typeof ye?ye:_r(Ss(ye,null!==(z=null==te?void 0:te.params)&&void 0!==z?z:{},y.errors));x.delayNextStep(Te)}}}_visitSubInstructions(v,y,x){let te=y.currentTimeline.currentTime;const ye=null!=x.duration?_r(x.duration):null,Te=null!=x.delay?_r(x.delay):null;return 0!==ye&&v.forEach(Qe=>{const wt=y.appendInstructionToTimeline(Qe,ye,Te);te=Math.max(te,wt.duration+wt.delay)}),te}visitReference(v,y){y.updateOptions(v.options,!0),ss(this,v.animation,y),y.previousNode=v}visitSequence(v,y){const x=y.subContextCount;let z=y;const te=v.options;if(te&&(te.params||te.delay)&&(z=y.createSubContext(te),z.transformIntoNewTimeline(),null!=te.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=cn);const ye=_r(te.delay);z.delayNextStep(ye)}v.steps.length&&(v.steps.forEach(ye=>ss(this,ye,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>x&&z.transformIntoNewTimeline()),y.previousNode=v}visitGroup(v,y){const x=[];let z=y.currentTimeline.currentTime;const te=v.options&&v.options.delay?_r(v.options.delay):0;v.steps.forEach(ye=>{const Te=y.createSubContext(v.options);te&&Te.delayNextStep(te),ss(this,ye,Te),z=Math.max(z,Te.currentTimeline.currentTime),x.push(Te.currentTimeline)}),x.forEach(ye=>y.currentTimeline.mergeTimelineCollectedStyles(ye)),y.transformIntoNewTimeline(z),y.previousNode=v}_visitTiming(v,y){if(v.dynamic){const x=v.strValue;return mr(y.params?Ss(x,y.params,y.errors):x,y.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,y){const x=y.currentAnimateTimings=this._visitTiming(v.timings,y),z=y.currentTimeline;x.delay&&(y.incrementTime(x.delay),z.snapshotCurrentStyles());const te=v.style;5==te.type?this.visitKeyframes(te,y):(y.incrementTime(x.duration),this.visitStyle(te,y),z.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=v}visitStyle(v,y){const x=y.currentTimeline,z=y.currentAnimateTimings;!z&&x.hasCurrentStyleProperties()&&x.forwardFrame();const te=z&&z.easing||v.easing;v.isEmptyStep?x.applyEmptyStep(te):x.setStyles(v.styles,te,y.errors,y.options),y.previousNode=v}visitKeyframes(v,y){const x=y.currentAnimateTimings,z=y.currentTimeline.duration,te=x.duration,Te=y.createSubContext().currentTimeline;Te.easing=x.easing,v.styles.forEach(Qe=>{Te.forwardTime((Qe.offset||0)*te),Te.setStyles(Qe.styles,Qe.easing,y.errors,y.options),Te.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(Te),y.transformIntoNewTimeline(z+te),y.previousNode=v}visitQuery(v,y){const x=y.currentTimeline.currentTime,z=v.options||{},te=z.delay?_r(z.delay):0;te&&(6===y.previousNode.type||0==x&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=cn);let ye=x;const Te=y.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!z.optional,y.errors);y.currentQueryTotal=Te.length;let Qe=null;Te.forEach((wt,nn)=>{y.currentQueryIndex=nn;const gn=y.createSubContext(v.options,wt);te&&gn.delayNextStep(te),wt===y.element&&(Qe=gn.currentTimeline),ss(this,v.animation,gn),gn.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,gn.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ye),Qe&&(y.currentTimeline.mergeTimelineCollectedStyles(Qe),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=v}visitStagger(v,y){const x=y.parentContext,z=y.currentTimeline,te=v.timings,ye=Math.abs(te.duration),Te=ye*(y.currentQueryTotal-1);let Qe=ye*y.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Qe=Te-Qe;break;case"full":Qe=x.currentStaggerTime}const nn=y.currentTimeline;Qe&&nn.delayNextStep(Qe);const gn=nn.currentTime;ss(this,v.animation,y),y.previousNode=v,x.currentStaggerTime=z.currentTime-gn+(z.startTime-x.currentTimeline.startTime)}}const cn={};class Zr{constructor(v,y,x,z,te,ye,Te,Qe){this._driver=v,this.element=y,this.subInstructions=x,this._enterClassName=z,this._leaveClassName=te,this.errors=ye,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Qe||new Gi(this._driver,y,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,y){if(!v)return;const x=v;let z=this.options;null!=x.duration&&(z.duration=_r(x.duration)),null!=x.delay&&(z.delay=_r(x.delay));const te=x.params;if(te){let ye=z.params;ye||(ye=this.options.params={}),Object.keys(te).forEach(Te=>{(!y||!ye.hasOwnProperty(Te))&&(ye[Te]=Ss(te[Te],ye,this.errors))})}}_copyOptions(){const v={};if(this.options){const y=this.options.params;if(y){const x=v.params={};Object.keys(y).forEach(z=>{x[z]=y[z]})}}return v}createSubContext(v=null,y,x){const z=y||this.element,te=new Zr(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,x||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(v),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(v){return this.previousNode=cn,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,y,x){const z={duration:null!=y?y:v.duration,delay:this.currentTimeline.currentTime+(null!=x?x:0)+v.delay,easing:""},te=new Hs(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,z,v.stretchStartingKeyframe);return this.timelines.push(te),z}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,y,x,z,te,ye){let Te=[];if(z&&Te.push(this.element),v.length>0){v=(v=v.replace(G,"."+this._enterClassName)).replace(k,"."+this._leaveClassName);let wt=this._driver.query(this.element,v,1!=x);0!==x&&(wt=x<0?wt.slice(wt.length+x,wt.length):wt.slice(0,x)),Te.push(...wt)}return!te&&0==Te.length&&ye.push(function Yn(I){return new b.vHH(3014,!1)}()),Te}}class Gi{constructor(v,y,x,z){this._driver=v,this.element=y,this.startTime=x,this._elementTimelineStylesLookup=z,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+v),y&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,y){return this.applyStylesToKeyframe(),new Gi(this._driver,v,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,y){this._localTimelineStyles.set(v,y),this._globalTimelineStyles.set(v,y),this._styleSummary.set(v,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[y,x]of this._globalTimelineStyles)this._backFill.set(y,x||H.l3),this._currentKeyframe.set(y,H.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,y,x,z){var te;y&&this._previousKeyframe.set("easing",y);const ye=z&&z.params||{},Te=function so(I,v){const y=new Map;let x;return I.forEach(z=>{if("*"===z){x=x||v.keys();for(let te of x)y.set(te,H.l3)}else xi(z,y)}),y}(v,this._globalTimelineStyles);for(let[Qe,wt]of Te){const nn=Ss(wt,ye,x);this._pendingStyles.set(Qe,nn),this._localTimelineStyles.has(Qe)||this._backFill.set(Qe,null!==(te=this._globalTimelineStyles.get(Qe))&&void 0!==te?te:H.l3),this._updateStyle(Qe,nn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,y)=>{this._currentKeyframe.set(y,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,v)}))}snapshotCurrentStyles(){for(let[v,y]of this._localTimelineStyles)this._pendingStyles.set(v,y),this._updateStyle(v,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let y in this._currentKeyframe)v.push(y);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((y,x)=>{const z=this._styleSummary.get(x);(!z||y.time>z.time)&&this._updateStyle(x,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,y=new Set,x=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((Te,Qe)=>{const wt=xi(Te,new Map,this._backFill);wt.forEach((nn,gn)=>{nn===H.k1?v.add(gn):nn===H.l3&&y.add(gn)}),x||wt.set("offset",Qe/this.duration),z.push(wt)});const te=v.size?go(v.values()):[],ye=y.size?go(y.values()):[];if(x){const Te=z[0],Qe=new Map(Te);Te.set("offset",0),Qe.set("offset",1),z=[Te,Qe]}return dr(this.element,z,te,ye,this.duration,this.startTime,this.easing,!1)}}class Hs extends Gi{constructor(v,y,x,z,te,ye,Te=!1){super(v,y,ye.delay),this.keyframes=x,this.preStyleProps=z,this.postStyleProps=te,this._stretchStartingKeyframe=Te,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:y,duration:x,easing:z}=this.timings;if(this._stretchStartingKeyframe&&y){const te=[],ye=x+y,Te=y/ye,Qe=xi(v[0]);Qe.set("offset",0),te.push(Qe);const wt=xi(v[0]);wt.set("offset",Jr(Te)),te.push(wt);const nn=v.length-1;for(let gn=1;gn<=nn;gn++){let Vn=xi(v[gn]);const Gn=Vn.get("offset");Vn.set("offset",Jr((y+Gn*x)/ye)),te.push(Vn)}x=ye,y=0,z="",v=te}return dr(this.element,v,this.preStyleProps,this.postStyleProps,x,y,z,!0)}}function Jr(I,v=3){const y=Math.pow(10,v-1);return Math.round(I*y)/y}class _o{}const Ua=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _a extends _o{normalizePropertyName(v,y){return Ya(v)}normalizeStyleValue(v,y,x,z){let te="";const ye=x.toString().trim();if(Ua.has(y)&&0!==x&&"0"!==x)if("number"==typeof x)te="px";else{const Te=x.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&z.push(function Gr(I,v){return new b.vHH(3005,!1)}())}return ye+te}}function fs(I,v,y,x,z,te,ye,Te,Qe,wt,nn,gn,Vn){return{type:0,element:I,triggerName:v,isRemovalTransition:z,fromState:y,fromStyles:te,toState:x,toStyles:ye,timelines:Te,queriedElements:Qe,preStyleProps:wt,postStyleProps:nn,totalTime:gn,errors:Vn}}const ia={};class Uo{constructor(v,y,x){this._triggerName=v,this.ast=y,this._stateStyles=x}match(v,y,x,z){return function sa(I,v,y,x,z){return I.some(te=>te(v,y,x,z))}(this.ast.matchers,v,y,x,z)}buildStyles(v,y,x){let z=this._stateStyles.get("*");return void 0!==v&&(z=this._stateStyles.get(null==v?void 0:v.toString())||z),z?z.buildStyles(y,x):new Map}build(v,y,x,z,te,ye,Te,Qe,wt,nn){var gn;const Vn=[],Gn=this.ast.options&&this.ast.options.params||ia,Un=this.buildStyles(x,Te&&Te.params||ia,Vn),Ar=Qe&&Qe.params||ia,Nr=this.buildStyles(z,Ar,Vn),Li=new Set,_s=new Map,vs=new Map,bo="void"===z,fa={params:Bo(Ar,Gn),delay:null===(gn=this.ast.options)||void 0===gn?void 0:gn.delay},Rs=nn?[]:X(v,y,this.ast.animation,te,ye,Un,Nr,fa,wt,Vn);let ao=0;if(Rs.forEach(m=>{ao=Math.max(m.duration+m.delay,ao)}),Vn.length)return fs(y,this._triggerName,x,z,bo,Un,Nr,[],[],_s,vs,ao,Vn);Rs.forEach(m=>{const E=m.element,N=Mr(_s,E,new Set);m.preStyleProps.forEach(le=>N.add(le));const Z=Mr(vs,E,new Set);m.postStyleProps.forEach(le=>Z.add(le)),E!==y&&Li.add(E)});const P=go(Li.values());return fs(y,this._triggerName,x,z,bo,Un,Nr,Rs,P,_s,vs,ao)}}function Bo(I,v){const y=Hi(v);for(const x in I)I.hasOwnProperty(x)&&null!=I[x]&&(y[x]=I[x]);return y}class eo{constructor(v,y,x){this.styles=v,this.defaultParams=y,this.normalizer=x}buildStyles(v,y){const x=new Map,z=Hi(this.defaultParams);return Object.keys(v).forEach(te=>{const ye=v[te];null!==ye&&(z[te]=ye)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ye,Te)=>{ye&&(ye=Ss(ye,z,y));const Qe=this.normalizer.normalizePropertyName(Te,y);ye=this.normalizer.normalizeStyleValue(Te,Qe,ye,y),x.set(Qe,ye)})}),x}}class ls{constructor(v,y,x){this.name=v,this.ast=y,this._normalizer=x,this.transitionFactories=[],this.states=new Map,y.states.forEach(z=>{this.states.set(z.name,new eo(z.style,z.options&&z.options.params||{},x))}),ea(this.states,"true","1"),ea(this.states,"false","0"),y.transitions.forEach(z=>{this.transitionFactories.push(new Uo(v,z,this.states))}),this.fallbackTransition=function Za(I,v,y){return new Uo(I,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,Te)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,y,x,z){return this.transitionFactories.find(ye=>ye.match(v,y,x,z))||null}matchStyles(v,y,x){return this.fallbackTransition.buildStyles(v,y,x)}}function ea(I,v,y){I.has(v)?I.has(y)||I.set(y,I.get(v)):I.has(y)&&I.set(v,I.get(y))}const va=new ma;class L{constructor(v,y,x){this.bodyNode=v,this._driver=y,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,y){const x=[],te=Dn(this._driver,y,x,[]);if(x.length)throw function vt(I){return new b.vHH(3503,!1)}();this._animations.set(v,te)}_buildPlayer(v,y,x){const z=v.element,te=Ds(0,this._normalizer,0,v.keyframes,y,x);return this._driver.animate(z,te,v.duration,v.delay,v.easing,[],!0)}create(v,y,x={}){const z=[],te=this._animations.get(v);let ye;const Te=new Map;if(te?(ye=X(this._driver,y,te,Le,ht,new Map,new Map,x,va,z),ye.forEach(nn=>{const gn=Mr(Te,nn.element,new Map);nn.postStyleProps.forEach(Vn=>gn.set(Vn,null))})):(z.push(function En(){return new b.vHH(3300,!1)}()),ye=[]),z.length)throw function wn(I){return new b.vHH(3504,!1)}();Te.forEach((nn,gn)=>{nn.forEach((Vn,Gn)=>{nn.set(Gn,this._driver.computeStyle(gn,Gn,H.l3))})});const wt=hi(ye.map(nn=>{const gn=Te.get(nn.element);return this._buildPlayer(nn,new Map,gn)}));return this._playersById.set(v,wt),wt.onDestroy(()=>this.destroy(v)),this.players.push(wt),wt}destroy(v){const y=this._getPlayer(v);y.destroy(),this._playersById.delete(v);const x=this.players.indexOf(y);x>=0&&this.players.splice(x,1)}_getPlayer(v){const y=this._playersById.get(v);if(!y)throw function Me(I){return new b.vHH(3301,!1)}();return y}listen(v,y,x,z){const te=or(y,"","","");return Is(this._getPlayer(v),x,te,z),()=>{}}command(v,y,x,z){if("register"==x)return void this.register(v,z[0]);if("create"==x)return void this.create(v,y,z[0]||{});const te=this._getPlayer(v);switch(x){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(v)}}}const Y="ng-animate-queued",ee="ng-animate-disabled",un=[],Rr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qn="__ng_removed";class hr{constructor(v,y=""){this.namespaceId=y;const x=v&&v.hasOwnProperty("value");if(this.value=function gs(I){return null!=I?I:null}(x?v.value:v),x){const te=Hi(v);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const y=v.params;if(y){const x=this.options.params;Object.keys(y).forEach(z=>{null==x[z]&&(x[z]=y[z])})}}}const ui="void",Or=new hr(ui);class Ii{constructor(v,y,x){this.id=v,this.hostElement=y,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Gs(y,this._hostClassName)}listen(v,y,x,z){if(!this._triggers.has(y))throw function xe(I,v){return new b.vHH(3302,!1)}();if(null==x||0==x.length)throw function Dt(I){return new b.vHH(3303,!1)}();if(!function $s(I){return"start"==I||"done"==I}(x))throw function Kt(I,v){return new b.vHH(3400,!1)}();const te=Mr(this._elementListeners,v,[]),ye={name:y,phase:x,callback:z};te.push(ye);const Te=Mr(this._engine.statesByElement,v,new Map);return Te.has(y)||(Gs(v,Xt),Gs(v,Xt+"-"+y),Te.set(y,Or)),()=>{this._engine.afterFlush(()=>{const Qe=te.indexOf(ye);Qe>=0&&te.splice(Qe,1),this._triggers.has(y)||Te.delete(y)})}}register(v,y){return!this._triggers.has(v)&&(this._triggers.set(v,y),!0)}_getTrigger(v){const y=this._triggers.get(v);if(!y)throw function bn(I){return new b.vHH(3401,!1)}();return y}trigger(v,y,x,z=!0){const te=this._getTrigger(y),ye=new $r(this.id,y,v);let Te=this._engine.statesByElement.get(v);Te||(Gs(v,Xt),Gs(v,Xt+"-"+y),this._engine.statesByElement.set(v,Te=new Map));let Qe=Te.get(y);const wt=new hr(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Qe&&wt.absorbOptions(Qe.options),Te.set(y,wt),Qe||(Qe=Or),wt.value!==ui&&Qe.value===wt.value){if(!function ft(I,v){const y=Object.keys(I),x=Object.keys(v);if(y.length!=x.length)return!1;for(let z=0;z<y.length;z++){const te=y[z];if(!v.hasOwnProperty(te)||I[te]!==v[te])return!1}return!0}(Qe.params,wt.params)){const Un=[],Ar=te.matchStyles(Qe.value,Qe.params,Un),Nr=te.matchStyles(wt.value,wt.params,Un);Un.length?this._engine.reportError(Un):this._engine.afterFlush(()=>{is(v,Ar),Hn(v,Nr)})}return}const Vn=Mr(this._engine.playersByElement,v,[]);Vn.forEach(Un=>{Un.namespaceId==this.id&&Un.triggerName==y&&Un.queued&&Un.destroy()});let Gn=te.matchTransition(Qe.value,wt.value,v,wt.params),fn=!1;if(!Gn){if(!z)return;Gn=te.fallbackTransition,fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:y,transition:Gn,fromState:Qe,toState:wt,player:ye,isFallbackTransition:fn}),fn||(Gs(v,Y),ye.onStart(()=>{hn(v,Y)})),ye.onDone(()=>{let Un=this.players.indexOf(ye);Un>=0&&this.players.splice(Un,1);const Ar=this._engine.playersByElement.get(v);if(Ar){let Nr=Ar.indexOf(ye);Nr>=0&&Ar.splice(Nr,1)}}),this.players.push(ye),Vn.push(ye),ye}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(y=>y.delete(v)),this._elementListeners.forEach((y,x)=>{this._elementListeners.set(x,y.filter(z=>z.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const y=this._engine.playersByElement.get(v);y&&(y.forEach(x=>x.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,y){const x=this._engine.driver.query(v,Zt,!0);x.forEach(z=>{if(z[Qn])return;const te=this._engine.fetchNamespacesByElement(z);te.size?te.forEach(ye=>ye.triggerLeaveAnimation(z,y,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(v,y,x,z){const te=this._engine.statesByElement.get(v),ye=new Map;if(te){const Te=[];if(te.forEach((Qe,wt)=>{if(ye.set(wt,Qe.value),this._triggers.has(wt)){const nn=this.trigger(v,wt,ui,z);nn&&Te.push(nn)}}),Te.length)return this._engine.markElementAsRemoved(this.id,v,!0,y,ye),x&&hi(Te).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const y=this._elementListeners.get(v),x=this._engine.statesByElement.get(v);if(y&&x){const z=new Set;y.forEach(te=>{const ye=te.name;if(z.has(ye))return;z.add(ye);const Qe=this._triggers.get(ye).fallbackTransition,wt=x.get(ye)||Or,nn=new hr(ui),gn=new $r(this.id,ye,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:ye,transition:Qe,fromState:wt,toState:nn,player:gn,isFallbackTransition:!0})})}}removeNode(v,y){const x=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,y),this.triggerLeaveAnimation(v,y,!0))return;let z=!1;if(x.totalAnimations){const te=x.players.length?x.playersByQueriedElement.get(v):[];if(te&&te.length)z=!0;else{let ye=v;for(;ye=ye.parentNode;)if(x.statesByElement.get(ye)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(v),z)x.markElementAsRemoved(this.id,v,!1,y);else{const te=v[Qn];(!te||te===Rr)&&(x.afterFlush(()=>this.clearElementCache(v)),x.destroyInnerAnimations(v),x._onRemovalComplete(v,y))}}insertNode(v,y){Gs(v,this._hostClassName)}drainQueuedTransitions(v){const y=[];return this._queue.forEach(x=>{const z=x.player;if(z.destroyed)return;const te=x.element,ye=this._elementListeners.get(te);ye&&ye.forEach(Te=>{if(Te.name==x.triggerName){const Qe=or(te,x.triggerName,x.fromState.value,x.toState.value);Qe._data=v,Is(x.player,Te.phase,Qe,Te.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):y.push(x)}),this._queue=[],y.sort((x,z)=>{const te=x.transition.ast.depCount,ye=z.transition.ast.depCount;return 0==te||0==ye?te-ye:this._engine.driver.containsElement(x.element,z.element)?1:-1})}destroy(v){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let y=!1;return this._elementListeners.has(v)&&(y=!0),y=!!this._queue.find(x=>x.element===v)||y,y}}class ps{constructor(v,y,x){this.bodyNode=v,this.driver=y,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,te)=>{}}_onRemovalComplete(v,y){this.onRemovalComplete(v,y)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(y=>{y.players.forEach(x=>{x.queued&&v.push(x)})}),v}createNamespace(v,y){const x=new Ii(v,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(x,y):(this.newHostElements.set(y,x),this.collectEnterElement(y)),this._namespaceLookup[v]=x}_balanceNamespaceList(v,y){const x=this._namespaceList,z=this.namespacesByHostElement;if(x.length-1>=0){let ye=!1,Te=this.driver.getParentElement(y);for(;Te;){const Qe=z.get(Te);if(Qe){const wt=x.indexOf(Qe);x.splice(wt+1,0,v),ye=!0;break}Te=this.driver.getParentElement(Te)}ye||x.unshift(v)}else x.push(v);return z.set(y,v),v}register(v,y){let x=this._namespaceLookup[v];return x||(x=this.createNamespace(v,y)),x}registerTrigger(v,y,x){let z=this._namespaceLookup[v];z&&z.register(y,x)&&this.totalAnimations++}destroy(v,y){if(!v)return;const x=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(x.hostElement),delete this._namespaceLookup[v];const z=this._namespaceList.indexOf(x);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>x.destroy(y))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const y=new Set,x=this.statesByElement.get(v);if(x)for(let z of x.values())if(z.namespaceId){const te=this._fetchNamespace(z.namespaceId);te&&y.add(te)}return y}trigger(v,y,x,z){if(gi(y)){const te=this._fetchNamespace(v);if(te)return te.trigger(y,x,z),!0}return!1}insertNode(v,y,x,z){if(!gi(y))return;const te=y[Qn];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(y);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(v){const ye=this._fetchNamespace(v);ye&&ye.insertNode(y,x)}z&&this.collectEnterElement(y)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,y){y?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Gs(v,ee)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),hn(v,ee))}removeNode(v,y,x,z){if(gi(y)){const te=v?this._fetchNamespace(v):null;if(te?te.removeNode(y,z):this.markElementAsRemoved(v,y,!1,z),x){const ye=this.namespacesByHostElement.get(y);ye&&ye.id!==v&&ye.removeNode(y,z)}}else this._onRemovalComplete(y,z)}markElementAsRemoved(v,y,x,z,te){this.collectedLeaveElements.push(y),y[Qn]={namespaceId:v,setForRemoval:z,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:te}}listen(v,y,x,z,te){return gi(y)?this._fetchNamespace(v).listen(y,x,z,te):()=>{}}_buildInstruction(v,y,x,z,te){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,x,z,v.fromState.options,v.toState.options,y,te)}destroyInnerAnimations(v){let y=this.driver.query(v,Zt,!0);y.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(v,Vr,!0),y.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(v){const y=this.playersByElement.get(v);y&&y.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(v){const y=this.playersByQueriedElement.get(v);y&&y.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return hi(this.players).onDone(()=>v());v()})}processLeaveNode(v){var y;const x=v[Qn];if(x&&x.setForRemoval){if(v[Qn]=Rr,x.namespaceId){this.destroyInnerAnimations(v);const z=this._fetchNamespace(x.namespaceId);z&&z.clearElementCache(v)}this._onRemovalComplete(v,x.setForRemoval)}!(null===(y=v.classList)||void 0===y)&&y.contains(ee)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(z=>{this.markElementAsDisabled(z,!1)})}flush(v=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,z)=>this._balanceNamespaceList(x,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Gs(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{y=this._flushAnimations(x,v)}finally{for(let z=0;z<x.length;z++)x[z]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],y.length?hi(y).onDone(()=>{x.forEach(z=>z())}):x.forEach(z=>z())}}reportError(v){throw function xn(I){return new b.vHH(3402,!1)}()}_flushAnimations(v,y){const x=new ma,z=[],te=new Map,ye=[],Te=new Map,Qe=new Map,wt=new Map,nn=new Set;this.disabledNodes.forEach(tt=>{nn.add(tt);const Mt=this.driver.query(tt,".ng-animate-queued",!0);for(let $t=0;$t<Mt.length;$t++)nn.add(Mt[$t])});const gn=this.bodyNode,Vn=Array.from(this.statesByElement.keys()),Gn=jo(Vn,this.collectedEnterElements),fn=new Map;let Un=0;Gn.forEach((tt,Mt)=>{const $t=Le+Un++;fn.set(Mt,$t),tt.forEach(an=>Gs(an,$t))});const Ar=[],Nr=new Set,Li=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const Mt=this.collectedLeaveElements[tt],$t=Mt[Qn];$t&&$t.setForRemoval&&(Ar.push(Mt),Nr.add(Mt),$t.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(an=>Nr.add(an)):Li.add(Mt))}const _s=new Map,vs=jo(Vn,Array.from(Nr));vs.forEach((tt,Mt)=>{const $t=ht+Un++;_s.set(Mt,$t),tt.forEach(an=>Gs(an,$t))}),v.push(()=>{Gn.forEach((tt,Mt)=>{const $t=fn.get(Mt);tt.forEach(an=>hn(an,$t))}),vs.forEach((tt,Mt)=>{const $t=_s.get(Mt);tt.forEach(an=>hn(an,$t))}),Ar.forEach(tt=>{this.processLeaveNode(tt)})});const bo=[],fa=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(y).forEach($t=>{const an=$t.player,qn=$t.element;if(bo.push(an),this.collectedEnterElements.length){const Cr=qn[Qn];if(Cr&&Cr.setForMove){if(Cr.previousTriggersValues&&Cr.previousTriggersValues.has($t.triggerName)){const fr=Cr.previousTriggersValues.get($t.triggerName),Vi=this.statesByElement.get($t.element);if(Vi&&Vi.has($t.triggerName)){const To=Vi.get($t.triggerName);To.value=fr,Vi.set($t.triggerName,To)}}return void an.destroy()}}const ns=!gn||!this.driver.containsElement(gn,qn),Es=_s.get(qn),Go=fn.get(qn),oi=this._buildInstruction($t,x,Go,Es,ns);if(oi.errors&&oi.errors.length)return void fa.push(oi);if(ns)return an.onStart(()=>is(qn,oi.fromStyles)),an.onDestroy(()=>Hn(qn,oi.toStyles)),void z.push(an);if($t.isFallbackTransition)return an.onStart(()=>is(qn,oi.fromStyles)),an.onDestroy(()=>Hn(qn,oi.toStyles)),void z.push(an);const Ws=[];oi.timelines.forEach(Cr=>{Cr.stretchStartingKeyframe=!0,this.disabledNodes.has(Cr.element)||Ws.push(Cr)}),oi.timelines=Ws,x.append(qn,oi.timelines),ye.push({instruction:oi,player:an,element:qn}),oi.queriedElements.forEach(Cr=>Mr(Te,Cr,[]).push(an)),oi.preStyleProps.forEach((Cr,fr)=>{if(Cr.size){let Vi=Qe.get(fr);Vi||Qe.set(fr,Vi=new Set),Cr.forEach((To,Ro)=>Vi.add(Ro))}}),oi.postStyleProps.forEach((Cr,fr)=>{let Vi=wt.get(fr);Vi||wt.set(fr,Vi=new Set),Cr.forEach((To,Ro)=>Vi.add(Ro))})});if(fa.length){const tt=[];fa.forEach(Mt=>{tt.push(function lr(I,v){return new b.vHH(3505,!1)}())}),bo.forEach(Mt=>Mt.destroy()),this.reportError(tt)}const Rs=new Map,ao=new Map;ye.forEach(tt=>{const Mt=tt.element;x.has(Mt)&&(ao.set(Mt,Mt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,Rs))}),z.forEach(tt=>{const Mt=tt.element;this._getPreviousPlayers(Mt,!1,tt.namespaceId,tt.triggerName,null).forEach(an=>{Mr(Rs,Mt,[]).push(an),an.destroy()})});const P=Ar.filter(tt=>Ut(tt,Qe,wt)),m=new Map;Ji(m,this.driver,Li,wt,H.l3).forEach(tt=>{Ut(tt,Qe,wt)&&P.push(tt)});const N=new Map;Gn.forEach((tt,Mt)=>{Ji(N,this.driver,new Set(tt),Qe,H.k1)}),P.forEach(tt=>{var Mt,$t;const an=m.get(tt),qn=N.get(tt);m.set(tt,new Map([...Array.from(null!==(Mt=null==an?void 0:an.entries())&&void 0!==Mt?Mt:[]),...Array.from(null!==($t=null==qn?void 0:qn.entries())&&void 0!==$t?$t:[])]))});const Z=[],le=[],ot={};ye.forEach(tt=>{const{element:Mt,player:$t,instruction:an}=tt;if(x.has(Mt)){if(nn.has(Mt))return $t.onDestroy(()=>Hn(Mt,an.toStyles)),$t.disabled=!0,$t.overrideTotalTime(an.totalTime),void z.push($t);let qn=ot;if(ao.size>1){let Es=Mt;const Go=[];for(;Es=Es.parentNode;){const oi=ao.get(Es);if(oi){qn=oi;break}Go.push(Es)}Go.forEach(oi=>ao.set(oi,qn))}const ns=this._buildAnimation($t.namespaceId,an,Rs,te,N,m);if($t.setRealPlayer(ns),qn===ot)Z.push($t);else{const Es=this.playersByElement.get(qn);Es&&Es.length&&($t.parentPlayer=hi(Es)),z.push($t)}}else is(Mt,an.fromStyles),$t.onDestroy(()=>Hn(Mt,an.toStyles)),le.push($t),nn.has(Mt)&&z.push($t)}),le.forEach(tt=>{const Mt=te.get(tt.element);if(Mt&&Mt.length){const $t=hi(Mt);tt.setRealPlayer($t)}}),z.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<Ar.length;tt++){const Mt=Ar[tt],$t=Mt[Qn];if(hn(Mt,ht),$t&&$t.hasAnimation)continue;let an=[];if(Te.size){let ns=Te.get(Mt);ns&&ns.length&&an.push(...ns);let Es=this.driver.query(Mt,Vr,!0);for(let Go=0;Go<Es.length;Go++){let oi=Te.get(Es[Go]);oi&&oi.length&&an.push(...oi)}}const qn=an.filter(ns=>!ns.destroyed);qn.length?In(this,Mt,qn):this.processLeaveNode(Mt)}return Ar.length=0,Z.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const Mt=this.players.indexOf(tt);this.players.splice(Mt,1)}),tt.play()}),Z}elementContainsData(v,y){let x=!1;const z=y[Qn];return z&&z.setForRemoval&&(x=!0),this.playersByElement.has(y)&&(x=!0),this.playersByQueriedElement.has(y)&&(x=!0),this.statesByElement.has(y)&&(x=!0),this._fetchNamespace(v).elementContainsData(y)||x}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,y,x,z,te){let ye=[];if(y){const Te=this.playersByQueriedElement.get(v);Te&&(ye=Te)}else{const Te=this.playersByElement.get(v);if(Te){const Qe=!te||te==ui;Te.forEach(wt=>{wt.queued||!Qe&&wt.triggerName!=z||ye.push(wt)})}}return(x||z)&&(ye=ye.filter(Te=>!(x&&x!=Te.namespaceId||z&&z!=Te.triggerName))),ye}_beforeAnimationBuild(v,y,x){const te=y.element,ye=y.isRemovalTransition?void 0:v,Te=y.isRemovalTransition?void 0:y.triggerName;for(const Qe of y.timelines){const wt=Qe.element,nn=wt!==te,gn=Mr(x,wt,[]);this._getPreviousPlayers(wt,nn,ye,Te,y.toState).forEach(Gn=>{const fn=Gn.getRealPlayer();fn.beforeDestroy&&fn.beforeDestroy(),Gn.destroy(),gn.push(Gn)})}is(te,y.fromStyles)}_buildAnimation(v,y,x,z,te,ye){const Te=y.triggerName,Qe=y.element,wt=[],nn=new Set,gn=new Set,Vn=y.timelines.map(fn=>{const Un=fn.element;nn.add(Un);const Ar=Un[Qn];if(Ar&&Ar.removedBeforeQueried)return new H.ZN(fn.duration,fn.delay);const Nr=Un!==Qe,Li=function uu(I){const v=[];return ln(I,v),v}((x.get(Un)||un).map(Rs=>Rs.getRealPlayer())).filter(Rs=>!!Rs.element&&Rs.element===Un),_s=te.get(Un),vs=ye.get(Un),bo=Ds(0,this._normalizer,0,fn.keyframes,_s,vs),fa=this._buildPlayer(fn,bo,Li);if(fn.subTimeline&&z&&gn.add(Un),Nr){const Rs=new $r(v,Te,Un);Rs.setRealPlayer(fa),wt.push(Rs)}return fa});wt.forEach(fn=>{Mr(this.playersByQueriedElement,fn.element,[]).push(fn),fn.onDone(()=>function Ni(I,v,y){let x=I.get(v);if(x){if(x.length){const z=x.indexOf(y);x.splice(z,1)}0==x.length&&I.delete(v)}return x}(this.playersByQueriedElement,fn.element,fn))}),nn.forEach(fn=>Gs(fn,Kn));const Gn=hi(Vn);return Gn.onDestroy(()=>{nn.forEach(fn=>hn(fn,Kn)),Hn(Qe,y.toStyles)}),gn.forEach(fn=>{Mr(z,fn,[]).push(Gn)}),Gn}_buildPlayer(v,y,x){return y.length>0?this.driver.animate(v.element,y,v.duration,v.delay,v.easing,x):new H.ZN(v.duration,v.delay)}}class $r{constructor(v,y,x){this.namespaceId=v,this.triggerName=y,this.element=x,this._player=new H.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((y,x)=>{y.forEach(z=>Is(v,x,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const y=this._player;y.triggerCallback&&v.onStart(()=>y.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,y){Mr(this._queuedCallbacks,v,[]).push(y)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const y=this._player;y.triggerCallback&&y.triggerCallback(v)}}function gi(I){return I&&1===I.nodeType}function jt(I,v){const y=I.style.display;return I.style.display=null!=v?v:"none",y}function Ji(I,v,y,x,z){const te=[];y.forEach(Qe=>te.push(jt(Qe)));const ye=[];x.forEach((Qe,wt)=>{const nn=new Map;Qe.forEach(gn=>{const Vn=v.computeStyle(wt,gn,z);nn.set(gn,Vn),(!Vn||0==Vn.length)&&(wt[Qn]=Nn,ye.push(wt))}),I.set(wt,nn)});let Te=0;return y.forEach(Qe=>jt(Qe,te[Te++])),ye}function jo(I,v){const y=new Map;if(I.forEach(Te=>y.set(Te,[])),0==v.length)return y;const z=new Set(v),te=new Map;function ye(Te){if(!Te)return 1;let Qe=te.get(Te);if(Qe)return Qe;const wt=Te.parentNode;return Qe=y.has(wt)?wt:z.has(wt)?1:ye(wt),te.set(Te,Qe),Qe}return v.forEach(Te=>{const Qe=ye(Te);1!==Qe&&y.get(Qe).push(Te)}),y}function Gs(I,v){var y;null===(y=I.classList)||void 0===y||y.add(v)}function hn(I,v){var y;null===(y=I.classList)||void 0===y||y.remove(v)}function In(I,v,y){hi(y).onDone(()=>I.processLeaveNode(v))}function ln(I,v){for(let y=0;y<I.length;y++){const x=I[y];x instanceof H.ZE?ln(x.players,v):v.push(x)}}function Ut(I,v,y){const x=y.get(I);if(!x)return!1;let z=v.get(I);return z?x.forEach(te=>z.add(te)):v.set(I,x),y.delete(I),!0}class bi{constructor(v,y,x){this.bodyNode=v,this._driver=y,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(z,te)=>{},this._transitionEngine=new ps(v,y,x),this._timelineEngine=new L(v,y,x),this._transitionEngine.onRemovalComplete=(z,te)=>this.onRemovalComplete(z,te)}registerTrigger(v,y,x,z,te){const ye=v+"-"+z;let Te=this._triggerCache[ye];if(!Te){const Qe=[],nn=Dn(this._driver,te,Qe,[]);if(Qe.length)throw function de(I,v){return new b.vHH(3404,!1)}();Te=function Xo(I,v,y){return new ls(I,v,y)}(z,nn,this._normalizer),this._triggerCache[ye]=Te}this._transitionEngine.registerTrigger(y,z,Te)}register(v,y){this._transitionEngine.register(v,y)}destroy(v,y){this._transitionEngine.destroy(v,y)}onInsert(v,y,x,z){this._transitionEngine.insertNode(v,y,x,z)}onRemove(v,y,x,z){this._transitionEngine.removeNode(v,y,z||!1,x)}disableAnimations(v,y){this._transitionEngine.markElementAsDisabled(v,y)}process(v,y,x,z){if("@"==x.charAt(0)){const[te,ye]=Ln(x);this._timelineEngine.command(te,y,ye,z)}else this._transitionEngine.trigger(v,y,x,z)}listen(v,y,x,z,te){if("@"==x.charAt(0)){const[ye,Te]=Ln(x);return this._timelineEngine.listen(ye,y,Te,te)}return this._transitionEngine.listen(v,y,x,z,te)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ml=(()=>{class I{constructor(y,x,z){this._element=y,this._startStyles=x,this._endStyles=z,this._state=0;let te=I.initialStylesByElement.get(y);te||I.initialStylesByElement.set(y,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&Hn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hn(this._element,this._initialStyles),this._endStyles&&(Hn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(is(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(is(this._element,this._endStyles),this._endStyles=null),Hn(this._element,this._initialStyles),this._state=3)}}return I.initialStylesByElement=new WeakMap,I})();function Pl(I){let v=null;return I.forEach((y,x)=>{(function Ja(I){return"display"===I||"position"===I})(x)&&(v=v||new Map,v.set(x,y))}),v}class cu{constructor(v,y,x,z){this.element=v,this.keyframes=y,this.options=x,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const y=[];return v.forEach(x=>{y.push(Object.fromEntries(x))}),y}_triggerWebAnimation(v,y,x){return v.animate(this._convertKeyframesToObject(y),x)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,z)=>{"offset"!==z&&v.set(z,this._finished?x:Ur(this.element,z))}),this.currentSnapshot=v}triggerCallback(v){const y="start"===v?this._onStartFns:this._onDoneFns;y.forEach(x=>x()),y.length=0}}class vo{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,y){return!1}containsElement(v,y){return rs(v,y)}getParentElement(v){return Pn(v)}query(v,y,x){return qs(v,y,x)}computeStyle(v,y,x){return window.getComputedStyle(v)[y]}animate(v,y,x,z,te,ye=[]){const Qe={duration:x,delay:z,fill:0==z?"both":"forwards"};te&&(Qe.easing=te);const wt=new Map,nn=ye.filter(Gn=>Gn instanceof cu);(function ds(I,v){return 0===I||0===v})(x,z)&&nn.forEach(Gn=>{Gn.currentSnapshot.forEach((fn,Un)=>wt.set(Un,fn))});let gn=function $i(I){return I.length?I[0]instanceof Map?I:I.map(v=>Ys(v)):[]}(y).map(Gn=>xi(Gn));gn=function hs(I,v,y){if(y.size&&v.length){let x=v[0],z=[];if(y.forEach((te,ye)=>{x.has(ye)||z.push(ye),x.set(ye,te)}),z.length)for(let te=1;te<v.length;te++){let ye=v[te];z.forEach(Te=>ye.set(Te,Ur(I,Te)))}}return v}(v,gn,wt);const Vn=function Cl(I,v){let y=null,x=null;return Array.isArray(v)&&v.length?(y=Pl(v[0]),v.length>1&&(x=Pl(v[v.length-1]))):v instanceof Map&&(y=Pl(v)),y||x?new Ml(I,y,x):null}(v,gn);return new cu(v,gn,Qe,Vn)}}let ja=(()=>{class I extends H._j{constructor(y,x){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(x.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(y){const x=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(y)?(0,H.vP)(y):y;return Ol(this._renderer,null,x,"register",[z]),new Ha(x,this._renderer)}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(b.FYo),b.LFG(ue.K0))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})();class Ha extends H.LC{constructor(v,y){super(),this._id=v,this._renderer=y}create(v,y){return new Xa(this._id,v,y||{},this._renderer)}}class Xa{constructor(v,y,x,z){this.id=v,this.element=y,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(v,y){return this._renderer.listen(this.element,`@@${this.id}:${v}`,y)}_command(v,...y){return Ol(this._renderer,this.element,this.id,v,y)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,y;return null!==(y=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==y?y:0}}function Ol(I,v,y,x,z){return I.setProperty(v,`@@${y}:${x}`,z)}const tr="@.disabled";let Ms=(()=>{class I{constructor(y,x,z){this.delegate=y,this.engine=x,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),x.onRemovalComplete=(te,ye)=>{const Te=null==ye?void 0:ye.parentNode(te);Te&&ye.removeChild(Te,te)}}createRenderer(y,x){const te=this.delegate.createRenderer(y,x);if(!(y&&x&&x.data&&x.data.animation)){let nn=this._rendererCache.get(te);return nn||(nn=new xl("",te,this.engine),this._rendererCache.set(te,nn)),nn}const ye=x.id,Te=x.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,y);const Qe=nn=>{Array.isArray(nn)?nn.forEach(Qe):this.engine.registerTrigger(ye,Te,y,nn.name,nn)};return x.data.animation.forEach(Qe),new ti(this,Te,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,x,z){y>=0&&y<this._microtaskId?this._zone.run(()=>x(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ye,Te]=te;ye(Te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(b.FYo),b.LFG(bi),b.LFG(b.R0b))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})();class xl{constructor(v,y,x){this.namespaceId=v,this.delegate=y,this.engine=x,this.destroyNode=this.delegate.destroyNode?z=>y.destroyNode(z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,y){return this.delegate.createElement(v,y)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,y){this.delegate.appendChild(v,y),this.engine.onInsert(this.namespaceId,y,v,!1)}insertBefore(v,y,x,z=!0){this.delegate.insertBefore(v,y,x),this.engine.onInsert(this.namespaceId,y,v,z)}removeChild(v,y,x){this.engine.onRemove(this.namespaceId,y,this.delegate,x)}selectRootElement(v,y){return this.delegate.selectRootElement(v,y)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,y,x,z){this.delegate.setAttribute(v,y,x,z)}removeAttribute(v,y,x){this.delegate.removeAttribute(v,y,x)}addClass(v,y){this.delegate.addClass(v,y)}removeClass(v,y){this.delegate.removeClass(v,y)}setStyle(v,y,x,z){this.delegate.setStyle(v,y,x,z)}removeStyle(v,y,x){this.delegate.removeStyle(v,y,x)}setProperty(v,y,x){"@"==y.charAt(0)&&y==tr?this.disableAnimations(v,!!x):this.delegate.setProperty(v,y,x)}setValue(v,y){this.delegate.setValue(v,y)}listen(v,y,x){return this.delegate.listen(v,y,x)}disableAnimations(v,y){this.engine.disableAnimations(v,y)}}class ti extends xl{constructor(v,y,x,z){super(y,x,z),this.factory=v,this.namespaceId=y}setProperty(v,y,x){"@"==y.charAt(0)?"."==y.charAt(1)&&y==tr?this.disableAnimations(v,x=void 0===x||!!x):this.engine.process(this.namespaceId,v,y.slice(1),x):this.delegate.setProperty(v,y,x)}listen(v,y,x){if("@"==y.charAt(0)){const z=function On(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(v);let te=y.slice(1),ye="";return"@"!=te.charAt(0)&&([te,ye]=function oa(I){const v=I.indexOf(".");return[I.substring(0,v),I.slice(v+1)]}(te)),this.engine.listen(this.namespaceId,z,te,ye,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,x,Te)})}return this.delegate.listen(v,y,x)}}const on=[{provide:H._j,useClass:ja},{provide:_o,useFactory:function Xi(){return new _a}},{provide:bi,useClass:(()=>{class I extends bi{constructor(y,x,z,te){super(y.body,x,z)}ngOnDestroy(){this.flush()}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ue.K0),b.LFG(bs),b.LFG(_o),b.LFG(b.z2F))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})()},{provide:b.FYo,useFactory:function Ti(I,v,y){return new Ms(I,v,y)},deps:[p.se,bi,b.R0b]}],to=[{provide:bs,useFactory:()=>new vo},{provide:b.QbO,useValue:"BrowserAnimations"},...on],oo=[{provide:bs,useClass:Bs},{provide:b.QbO,useValue:"NoopAnimations"},...on];let Po=(()=>{class I{static withConfig(y){return{ngModule:I,providers:y.disableAnimations?oo:to}}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({providers:to,imports:[p.b2]}),I})();const nl={provide:ze.TP,useClass:(()=>{class I{constructor(y){this.loaderService=y}intercept(y,x){return this.loaderService.showLoader(),x.handle(y).pipe((0,pt.b)(z=>{z instanceof ze.Zn&&this.loaderService.hideLoader()},z=>{this.loaderService.hideLoader()}))}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(Bt))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})(),multi:!0};var Ca=A(5159);let ms=(()=>{class I{constructor(y){this.injector=y}handleError(y){const x=this.injector.get(dt.g);this.injector.get(ie.F0),y instanceof ze.UA?(navigator.onLine||x.notify("No Internet Connection"),x.notify(`${y.status} - ${y.message}`)):x.notify(y),console.error(y)}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(b.zs3))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})();function rl(I,v){if(1&I&&(b.TgZ(0,"div")(1,"h1"),b._uU(2),b.qZA(),b.TgZ(3,"a",2)(4,"h5"),b._uU(5,"Go to Home"),b.qZA()()()),2&I){const y=b.oxw();b.xp6(2),b.hij("ERROR ",null==y.routeParams?null:y.routeParams.error,""),b.xp6(1),b.Q6J("routerLink","/")}}const cl=[{path:"error",component:(()=>{class I{constructor(y){this.activatedRoute=y}ngOnInit(){this.routeParams=this.activatedRoute.snapshot.queryParams}}return I.\u0275fac=function(y){return new(y||I)(b.Y36(ie.gz))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-errors"]],decls:2,vars:1,consts:[[1,"error-container"],[4,"ngIf"],[3,"routerLink"]],template:function(y,x){1&y&&(b.TgZ(0,"div",0),b.YNc(1,rl,6,2,"div",1),b.qZA()),2&y&&(b.xp6(1),b.Q6J("ngIf",null==x.routeParams?null:x.routeParams.error))},dependencies:[ue.O5,ie.yS],styles:[".error-container[_ngcontent-%COMP%]{width:220px;margin:50% auto 0;transform:translateY(-50%);text-align:center}"]}),I})()}];let Eo=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({imports:[ie.Bz.forChild(cl),ie.Bz]}),I})();var $a=A(5625);const Co={provide:ze.TP,useClass:class gt{intercept(v,y){return y.handle(v).pipe((0,$a.X)(0),(0,We.K)(this.handleError))}handleError(v){let y="";return y=v.error instanceof ErrorEvent?`Error: ${v.error.message}`:`Error Code: ${v.status}\\nMessage: ${v.message}`,(0,Rt._)(y)}},multi:!0};let Ps=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({providers:[{provide:b.qLn,useClass:ms},Co],imports:[ue.ez,Eo]}),I})();var aa=A(4466),Wi=A(7319),Da=A(6451),Ho=A(9751),Nl=A(7579),ii=A(8502),dl=A(515),Ql=A(576);class Ia{constructor(v,y,x){this.kind=v,this.value=y,this.error=x,this.hasValue="N"===v}observe(v){return ba(this,v)}do(v,y,x){const{kind:z,value:te,error:ye}=this;return"N"===z?null==v?void 0:v(te):"E"===z?null==y?void 0:y(ye):null==x?void 0:x()}accept(v,y,x){var z;return(0,Ql.m)(null===(z=v)||void 0===z?void 0:z.next)?this.observe(v):this.do(v,y,x)}toObservable(){const{kind:v,value:y,error:x}=this,z="N"===v?(0,Ht.of)(y):"E"===v?(0,Rt._)(()=>x):"C"===v?dl.E:0;if(!z)throw new TypeError(`Unexpected notification kind ${v}`);return z}static createNext(v){return new Ia("N",v)}static createError(v){return new Ia("E",void 0,v)}static createComplete(){return Ia.completeNotification}}function ba(I,v){var y,x,z;const{kind:te,value:ye,error:Te}=I;if("string"!=typeof te)throw new TypeError('Invalid notification, missing "kind"');"N"===te?null===(y=v.next)||void 0===y||y.call(v,ye):"E"===te?null===(x=v.error)||void 0===x||x.call(v,Te):null===(z=v.complete)||void 0===z||z.call(v)}Ia.completeNotification=new Ia("C");var $o=A(4482),xo=A(5403),wo=A(8421);function Ga(I,v,y,x){return(0,$o.e)((z,te)=>{let ye;v&&"function"!=typeof v?({duration:y,element:ye,connector:x}=v):ye=v;const Te=new Map,Qe=Vn=>{Te.forEach(Vn),Vn(te)},wt=Vn=>Qe(Gn=>Gn.error(Vn)),nn=new ki(te,Vn=>{try{const Gn=I(Vn);let fn=Te.get(Gn);if(!fn){Te.set(Gn,fn=x?x():new Nl.x);const Un=function gn(Vn,Gn){const fn=new Ho.y(Un=>{nn.activeGroups++;const Ar=Gn.subscribe(Un);return()=>{Ar.unsubscribe(),0==--nn.activeGroups&&nn.teardownAttempted&&nn.unsubscribe()}});return fn.key=Vn,fn}(Gn,fn);if(te.next(Un),y){const Ar=new xo.Q(fn,()=>{fn.complete(),null==Ar||Ar.unsubscribe()},void 0,void 0,()=>Te.delete(Gn));nn.add((0,wo.Xf)(y(Un)).subscribe(Ar))}}fn.next(ye?ye(Vn):Vn)}catch(Gn){wt(Gn)}},()=>Qe(Vn=>Vn.complete()),wt,()=>Te.clear());z.subscribe(nn)})}class ki extends xo.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var la=A(5577);function Fi(I,v){return v?y=>y.pipe(Fi((x,z)=>(0,wo.Xf)(I(x,z)).pipe((0,He.U)((te,ye)=>v(x,te,z,ye))))):(0,$o.e)((y,x)=>{let z=0,te=null,ye=!1;y.subscribe(new xo.Q(x,Te=>{te||(te=new xo.Q(x,void 0,()=>{te=null,ye&&x.complete()}),(0,wo.Xf)(I(Te,z++)).subscribe(te))},()=>{ye=!0,!te&&x.complete()}))})}var T=A(5698);const S={dispatch:!0,useEffectsErrorHandler:!0},D="__@ngrx/effects_create__";function F(I,v){const y=I(),x=Object.assign(Object.assign({},S),v);return Object.defineProperty(y,D,{value:x}),y}function $(I){return Object.getOwnPropertyNames(I).filter(x=>!(!I[x]||!I[x].hasOwnProperty(D))&&I[x][D].hasOwnProperty("dispatch")).map(x=>Object.assign({propertyName:x},I[x][D]))}function J(I){return Object.getPrototypeOf(I)}const he="__@ngrx/effects__";function et(I){return(0,Wi.qC)(tn,J)(I)}function tn(I){return function Gt(I){return I.constructor.hasOwnProperty(he)}(I)?I.constructor[he]:[]}function qr(I,v,y){const x=J(I).constructor.name,z=function Er(I){return[et,$].reduce((y,x)=>y.concat(x(I)),[])}(I).map(({propertyName:te,dispatch:ye,useEffectsErrorHandler:Te})=>{const Qe="function"==typeof I[te]?I[te]():I[te],wt=Te?y(Qe,v):Qe;return!1===ye?wt.pipe((0,ii.l)()):wt.pipe(function Ta(){return(0,$o.e)((I,v)=>{I.subscribe(new xo.Q(v,y=>{v.next(Ia.createNext(y))},()=>{v.next(Ia.createComplete()),v.complete()},y=>{v.next(Ia.createError(y)),v.complete()}))})}()).pipe((0,He.U)(gn=>({effect:I[te],notification:gn,propertyName:te,sourceName:x,sourceInstance:I})))});return(0,Da.T)(...z)}function no(I,v,y=10){return I.pipe((0,We.K)(x=>(v&&v.handleError(x),y<=1?I:no(I,v,y-1))))}let Do=(()=>{class I extends Ho.y{constructor(y){super(),y&&(this.source=y)}lift(y){const x=new I;return x.source=this,x.operator=y,x}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(Wi.Y$))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Fs(...I){return(0,Tt.h)(v=>I.some(y=>"string"==typeof y?y===v.type:y.type===v.type))}const il=new b.OlP("@ngrx/effects Internal Root Guard"),es=new b.OlP("@ngrx/effects User Provided Effects"),Sa=new b.OlP("@ngrx/effects Internal Root Effects"),hl=new b.OlP("@ngrx/effects Root Effects"),wl=new b.OlP("@ngrx/effects Internal Feature Effects"),Wa=new b.OlP("@ngrx/effects Feature Effects"),kl=new b.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>no}),fl="@ngrx/effects/init";function sl(I){return pl(I,"ngrxOnInitEffects")}function pl(I,v){return I&&v in I&&"function"==typeof I[v]}(0,Wi.PH)(fl);let ta=(()=>{class I extends Nl.x{constructor(y,x){super(),this.errorHandler=y,this.effectsErrorHandler=x}addEffects(y){this.next(y)}toActions(){return this.pipe(Ga(J),(0,la.z)(y=>y.pipe(Ga(Pa))),(0,la.z)(y=>{const x=y.pipe(Fi(te=>function zu(I,v){return y=>{const x=qr(y,I,v);return function Jl(I){return pl(I,"ngrxOnRunEffects")}(y)?y.ngrxOnRunEffects(x):x}}(this.errorHandler,this.effectsErrorHandler)(te)),(0,He.U)(te=>(function za(I,v){if("N"===I.notification.kind){const y=I.notification.value;!function Dl(I){return"function"!=typeof I&&I&&I.type&&"string"==typeof I.type}(y)&&v.handleError(new Error(`Effect ${function Zl({propertyName:I,sourceInstance:v,sourceName:y}){const x="function"==typeof v[I];return`"${y}.${String(I)}${x?"()":""}"`}(I)} dispatched an invalid action: ${function Hr(I){try{return JSON.stringify(I)}catch(v){return I}}(y)}`))}}(te,this.errorHandler),te.notification)),(0,Tt.h)(te=>"N"===te.kind&&null!=te.value),function du(){return(0,$o.e)((I,v)=>{I.subscribe(new xo.Q(v,y=>ba(y,v)))})}()),z=y.pipe((0,T.q)(1),(0,Tt.h)(sl),(0,He.U)(te=>te.ngrxOnInitEffects()));return(0,Da.T)(x,z)}))}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(b.qLn),b.LFG(kl))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Pa(I){return function ua(I){return pl(I,"ngrxOnIdentifyEffects")}(I)?I.ngrxOnIdentifyEffects():""}let hu=(()=>{class I{constructor(y,x){this.effectSources=y,this.store=x,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ta),b.LFG(Wi.yh))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),gl=(()=>{class I{constructor(y,x,z,te,ye,Te,Qe){this.sources=y,x.start(),te.forEach(wt=>y.addEffects(wt)),z.dispatch({type:fl})}addEffects(y){this.sources.addEffects(y)}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ta),b.LFG(hu),b.LFG(Wi.yh),b.LFG(hl),b.LFG(Wi.cr,8),b.LFG(Wi.CK,8),b.LFG(il,8))},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({}),I})(),Fl=(()=>{class I{constructor(y,x,z,te){x.forEach(ye=>ye.forEach(Te=>y.addEffects(Te)))}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(gl),b.LFG(Wa),b.LFG(Wi.cr,8),b.LFG(Wi.CK,8))},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({}),I})(),ml=(()=>{class I{static forFeature(y=[]){return{ngModule:Fl,providers:[y,{provide:wl,multi:!0,useValue:y},{provide:es,multi:!0,useValue:[]},{provide:Wa,multi:!0,useFactory:Oa,deps:[b.zs3,wl,es]}]}}static forRoot(y=[]){return{ngModule:gl,providers:[y,{provide:Sa,useValue:[y]},{provide:il,useFactory:bu,deps:[[hu,new b.FiY,new b.tp0],[Sa,new b.PiD]]},{provide:es,multi:!0,useValue:[]},{provide:hl,useFactory:Oa,deps:[b.zs3,Sa,es]}]}}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({}),I})();function Oa(I,v,y){const x=[];for(const z of v)x.push(...z);for(const z of y)x.push(...z);return function Ka(I,v){return v.map(y=>I.get(y))}(I,x)}function bu(I,v){if((1!==v.length||0!==v[0].length)&&I)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ro=A(9012),Ls=A(8372);let yi=(()=>{class I{constructor(y){this.http=y,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(y){return this.http.post(this.url,y)}getArticleById(y){return this.http.get(this.url+"/"+y)}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ze.eN))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),ca=(()=>{class I{constructor(y,x){this.actions$=y,this.fruitsService=x,this.loadAllArticles$=F(()=>this.actions$.pipe(Fs(ro.GO),(0,it.w)(()=>this.fruitsService.getAllArticles().pipe((0,He.U)(z=>ro.m0({payload:z})))))),this.createArticle$=F(()=>this.actions$.pipe(Fs(ro.$f),(0,He.U)(z=>z.payload),(0,la.z)(z=>this.fruitsService.createArticle(z).pipe((0,He.U)(te=>ro.$s({payload:te})),(0,We.K)(te=>(0,Ht.of)(ro.$0({payload:te}))))))),this.searchArticleById$=F(()=>this.actions$.pipe(Fs(ro.HD),(0,Ls.b)(500),(0,He.U)(z=>z.payload),(0,it.w)(z=>this.fruitsService.getArticleById(z).pipe((0,He.U)(te=>ro.n3({payload:te})))))),this.loadProducts$=F(()=>this.actions$.pipe(Fs(ro.hS),(0,la.z)(()=>this.fruitsService.getAll().pipe((0,He.U)(z=>ro.Xt({payload:z}))))))}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(Do),b.LFG(yi))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})();var ys=A(4281),Vs=A(3070),io=A(7507);let eu=(()=>{class I{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),ci=(()=>{class I extends Vs.u{constructor(y,x){super(),this.http=y,this.config=x}getCurrentWeather(y,x){const te=this.getParams(y,x);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:te}).pipe((0,He.U)(ye=>({temperature:ye.main.temp,temperatureMin:ye.main.temp_min,temperatureMax:ye.main.temp_max,city:ye.name,conditions:(0,io.wJ)(ye.weather[0]),date:new Date(ye.dt),zipCode:y,countryCode:x})))}getWeatherForecast(y,x){const te=this.getParams(y,x);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:te}).pipe((0,He.U)(ye=>ye.list.map(Te=>({temperature:Te.temp.day,temperatureMin:Te.temp.min,temperatureMax:Te.temp.max,city:ye.city.name,conditions:(0,io.wJ)(Te.weather[0]),date:new Date(1e3*Te.dt),zipCode:y,countryCode:x}))))}getParams(y,x="us"){return new ze.LE({fromObject:{zip:`${y},${x}`,appid:this.config.apiKey}})}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ze.eN),b.LFG(eu))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})(),tu=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({providers:[nl],imports:[ue.ez]}),I})();const al={provide:ie.wN,useClass:class Ll{constructor(){this.handlers=new Map}shouldDetach(v){return!0}store(v,y){!v.routeConfig||this.handlers.set(v.routeConfig,y)}shouldAttach(v){return!!v.routeConfig&&!!this.handlers.get(v.routeConfig)}retrieve(v){return v.routeConfig&&this.handlers.has(v.routeConfig)?this.handlers.get(v.routeConfig):null}shouldReuseRoute(v,y){return v.routeConfig===y.routeConfig}clearSavedHandle(v){const y=this.handlers.get(v);y&&y.componentRef.destroy(),this.handlers.delete(v)}deactivateAllHandles(){for(const v in this.handlers)this.clearSavedHandle(this.handlers[v]);this.handlers=new Map}getUrl(v){if(v.routeConfig){const y=v.routeConfig.path;return console.log("returning url",y),y}}}};var Io=A(2544);const da={todos:[]},Vl=(I=da,v)=>{switch(v.type){case"ADD":return{todos:[...I.todos,{index:I.todos.length,text:v.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:I.todos.map((y,x)=>x===v.index?Object.assign(Object.assign({},y),{done:!y.done}):y)};case"REMOVE":return{todos:I.todos.splice(I.todos.findIndex(y=>y.index===v.index),1)};case"SAVED":return{todos:I.todos.map((y,x)=>x===v.index?Object.assign(Object.assign({},y),{saved:!0}):y)};default:return I}};var Ul=A(457),Bl=A(4968),xs=A(9468);const jl={provide:b.ip1,multi:!0,deps:[(()=>{class I{constructor(){var y;this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const x=null!==(y=this.getLastActiveFromLocalStorage())&&void 0!==y?y:new Date;this.lastActive=new Ct.X(x),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,Ul.D)(this.events).pipe((0,la.z)(y=>(0,Bl.R)(document,y)),(0,xs.p)(this.recordTimeoutMs)).subscribe(y=>this.recordLastActiveDate()),(0,Bl.R)(window,"storage").pipe((0,Tt.h)(y=>y.storageArea===localStorage&&y.key===this.localStorageKey&&!!y.newValue),(0,He.U)(y=>new Date(y.newValue))).subscribe(y=>this.lastActive.next(y))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var y=new Date;localStorage.setItem(this.localStorageKey,y.toString()),this.lastActive.next(y)}getLastActiveFromLocalStorage(){const y=localStorage.getItem(this.localStorageKey);return y?new Date(y):null}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()],useFactory:I=>()=>I.setUp()};let Hl=1;class ru{constructor(){this.userName="Philip Marlowe"}}let yl=(()=>{class I{constructor(y){this.id=Hl++,this._userName="Sherlock Holmes",y&&(this._userName=y.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(ru,8))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})(),Il=(()=>{class I{constructor(y){if(y)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(y){return{ngModule:I,providers:[{provide:ru,useValue:y}]}}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(I,12))},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({providers:[yl],imports:[ue.ez]}),I})();var ha=A(5532);let zi=(()=>{class I{constructor(y){this.injector=y}}return I.\u0275fac=function(y){return new(y||I)(b.LFG(b.zs3))},I.\u0275mod=b.oAB({type:I,bootstrap:[Jt]}),I.\u0275inj=b.cJS({providers:[nl,ue.uU,{provide:Vs.u,useClass:ci},ze.JF,al,{provide:Io.y,useValue:new Io.y(Vl)},jl],imports:[p.b2,Po,ze.JF,aa.m,Qt,Ps,vi.Wr.register("ngsw-worker.js",{enabled:Ca.N.production,registrationStrategy:"registerWhenStable:30000"}),Wi.Aw.forRoot(ys.ll),ml.forRoot([ca]),tu,Il.forRoot({userName:"Trilok Singh"}),ha.G2.initializeApp(Ca.N.firebaseConfig),ha.G2.initialize({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0}),Po]}),I})();Ca.N.production&&(0,b.G48)(),p.q6().bootstrapModule(zi).catch(I=>console.error(I))},1135:(xt,Pe,A)=>{A.d(Pe,{X:()=>b});var p=A(7579);class b extends p.x{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const ge=super._subscribe(H);return!ge.closed&&H.next(this._value),ge}getValue(){const{hasError:H,thrownError:ge,_value:pe}=this;if(H)throw ge;return this._throwIfClosed(),pe}next(H){super.next(this._value=H)}}},9751:(xt,Pe,A)=>{A.d(Pe,{y:()=>se});var p=A(930),b=A(727),ie=A(8822),H=A(9635),ge=A(2416),pe=A(576),we=A(2806);let se=(()=>{class ve{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const Ne=new ve;return Ne.source=this,Ne.operator=qe,Ne}subscribe(qe,Ne,Ye){const $e=function ue(ve){return ve&&ve instanceof p.Lv||function re(ve){return ve&&(0,pe.m)(ve.next)&&(0,pe.m)(ve.error)&&(0,pe.m)(ve.complete)}(ve)&&(0,b.Nn)(ve)}(qe)?qe:new p.Hp(qe,Ne,Ye);return(0,we.x)(()=>{const{operator:Je,source:Pt}=this;$e.add(Je?Je.call($e,Pt):Pt?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(qe){try{return this._subscribe(qe)}catch(Ne){qe.error(Ne)}}forEach(qe,Ne){return new(Ne=Se(Ne))((Ye,$e)=>{const Je=new p.Hp({next:Pt=>{try{qe(Pt)}catch(Qt){$e(Qt),Je.unsubscribe()}},error:$e,complete:Ye});this.subscribe(Je)})}_subscribe(qe){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(qe)}[ie.L](){return this}pipe(...qe){return(0,H.U)(qe)(this)}toPromise(qe){return new(qe=Se(qe))((Ne,Ye)=>{let $e;this.subscribe(Je=>$e=Je,Je=>Ye(Je),()=>Ne($e))})}}return ve.create=rt=>new ve(rt),ve})();function Se(ve){var rt;return null!==(rt=null!=ve?ve:ge.v.Promise)&&void 0!==rt?rt:Promise}},7579:(xt,Pe,A)=>{A.d(Pe,{x:()=>we});var p=A(9751),b=A(727);const H=(0,A(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=A(8737),pe=A(2806);let we=(()=>{class Se extends p.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const ve=new se(this,this);return ve.operator=ue,ve}_throwIfClosed(){if(this.closed)throw new H}next(ue){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ve=this.observers.slice();for(const rt of ve)rt.next(ue)}})}error(ue){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ue)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:ve,isStopped:rt,observers:qe}=this;return ve||rt?b.Lc:(qe.push(ue),new b.w0(()=>(0,ge.P)(qe,ue)))}_checkFinalizedStatuses(ue){const{hasError:ve,thrownError:rt,isStopped:qe}=this;ve?ue.error(rt):qe&&ue.complete()}asObservable(){const ue=new p.y;return ue.source=this,ue}}return Se.create=(re,ue)=>new se(re,ue),Se})();class se extends we{constructor(re,ue){super(),this.destination=re,this.source=ue}next(re){var ue,ve;null===(ve=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===ve||ve.call(ue,re)}error(re){var ue,ve;null===(ve=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===ve||ve.call(ue,re)}complete(){var re,ue;null===(ue=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ue||ue.call(re)}_subscribe(re){var ue,ve;return null!==(ve=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(re))&&void 0!==ve?ve:b.Lc}}},930:(xt,Pe,A)=>{A.d(Pe,{Hp:()=>rt,Lv:()=>ve});var p=A(576),b=A(727),ie=A(2416),H=A(7849),ge=A(5032);const pe=Se("C",void 0,void 0);function Se(Je,Pt,Qt){return{kind:Je,value:Pt,error:Qt}}var re=A(3410),ue=A(2806);class ve extends b.w0{constructor(Pt){super(),this.isStopped=!1,Pt?(this.destination=Pt,(0,b.Nn)(Pt)&&Pt.add(this)):this.destination=$e}static create(Pt,Qt,ze){return new rt(Pt,Qt,ze)}next(Pt){this.isStopped?Ye(function se(Je){return Se("N",Je,void 0)}(Pt),this):this._next(Pt)}error(Pt){this.isStopped?Ye(function we(Je){return Se("E",void 0,Je)}(Pt),this):(this.isStopped=!0,this._error(Pt))}complete(){this.isStopped?Ye(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pt){this.destination.next(Pt)}_error(Pt){try{this.destination.error(Pt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class rt extends ve{constructor(Pt,Qt,ze){let je;if(super(),(0,p.m)(Pt))je=Pt;else if(Pt){let Ct;({next:je,error:Qt,complete:ze}=Pt),this&&ie.v.useDeprecatedNextContext?(Ct=Object.create(Pt),Ct.unsubscribe=()=>this.unsubscribe()):Ct=Pt,je=null==je?void 0:je.bind(Ct),Qt=null==Qt?void 0:Qt.bind(Ct),ze=null==ze?void 0:ze.bind(Ct)}this.destination={next:je?qe(je):ge.Z,error:qe(null!=Qt?Qt:Ne),complete:ze?qe(ze):ge.Z}}}function qe(Je,Pt){return(...Qt)=>{try{Je(...Qt)}catch(ze){ie.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(ze):(0,H.h)(ze)}}}function Ne(Je){throw Je}function Ye(Je,Pt){const{onStoppedNotification:Qt}=ie.v;Qt&&re.z.setTimeout(()=>Qt(Je,Pt))}const $e={closed:!0,next:ge.Z,error:Ne,complete:ge.Z}},727:(xt,Pe,A)=>{A.d(Pe,{Lc:()=>pe,w0:()=>ge,Nn:()=>we});var p=A(576);const ie=(0,A(3888).d)(Se=>function(ue){Se(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ve,rt)=>`${rt+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var H=A(8737);class ge{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const qe of ue)qe.remove(this);else ue.remove(this);const{initialTeardown:ve}=this;if((0,p.m)(ve))try{ve()}catch(qe){re=qe instanceof ie?qe.errors:[qe]}const{_teardowns:rt}=this;if(rt){this._teardowns=null;for(const qe of rt)try{se(qe)}catch(Ne){re=null!=re?re:[],Ne instanceof ie?re=[...re,...Ne.errors]:re.push(Ne)}}if(re)throw new ie(re)}}add(re){var ue;if(re&&re!==this)if(this.closed)se(re);else{if(re instanceof ge){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._teardowns=null!==(ue=this._teardowns)&&void 0!==ue?ue:[]).push(re)}}_hasParent(re){const{_parentage:ue}=this;return ue===re||Array.isArray(ue)&&ue.includes(re)}_addParent(re){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(re),ue):ue?[ue,re]:re}_removeParent(re){const{_parentage:ue}=this;ue===re?this._parentage=null:Array.isArray(ue)&&(0,H.P)(ue,re)}remove(re){const{_teardowns:ue}=this;ue&&(0,H.P)(ue,re),re instanceof ge&&re._removeParent(this)}}ge.EMPTY=(()=>{const Se=new ge;return Se.closed=!0,Se})();const pe=ge.EMPTY;function we(Se){return Se instanceof ge||Se&&"closed"in Se&&(0,p.m)(Se.remove)&&(0,p.m)(Se.add)&&(0,p.m)(Se.unsubscribe)}function se(Se){(0,p.m)(Se)?Se():Se.unsubscribe()}},2416:(xt,Pe,A)=>{A.d(Pe,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(xt,Pe,A)=>{A.d(Pe,{c:()=>pe});var p=A(9751),b=A(727),ie=A(8343),H=A(5403),ge=A(4482);class pe extends p.y{constructor(se,Se){super(),this.source=se,this.subjectFactory=Se,this._subject=null,this._refCount=0,this._connection=null,(0,ge.A)(se)&&(this.lift=se.lift)}_subscribe(se){return this.getSubject().subscribe(se)}getSubject(){const se=this._subject;return(!se||se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:se}=this;this._subject=this._connection=null,null==se||se.unsubscribe()}connect(){let se=this._connection;if(!se){se=this._connection=new b.w0;const Se=this.getSubject();se.add(this.source.subscribe(new H.Q(Se,void 0,()=>{this._teardown(),Se.complete()},re=>{this._teardown(),Se.error(re)},()=>this._teardown()))),se.closed&&(this._connection=null,se=b.w0.EMPTY)}return se}refCount(){return(0,ie.x)()(this)}}},9841:(xt,Pe,A)=>{A.d(Pe,{a:()=>re});var p=A(9751),b=A(4742),ie=A(457),H=A(4671),ge=A(3268),pe=A(3269),we=A(1810),se=A(5403),Se=A(9672);function re(...rt){const qe=(0,pe.yG)(rt),Ne=(0,pe.jO)(rt),{args:Ye,keys:$e}=(0,b.D)(rt);if(0===Ye.length)return(0,ie.D)([],qe);const Je=new p.y(function ue(rt,qe,Ne=H.y){return Ye=>{ve(qe,()=>{const{length:$e}=rt,Je=new Array($e);let Pt=$e,Qt=$e;for(let ze=0;ze<$e;ze++)ve(qe,()=>{const je=(0,ie.D)(rt[ze],qe);let Ct=!1;je.subscribe(new se.Q(Ye,Rt=>{Je[ze]=Rt,Ct||(Ct=!0,Qt--),Qt||Ye.next(Ne(Je.slice()))},()=>{--Pt||Ye.complete()}))},Ye)},Ye)}}(Ye,qe,$e?Pt=>(0,we.n)($e,Pt):H.y));return Ne?Je.pipe((0,ge.Z)(Ne)):Je}function ve(rt,qe,Ne){rt?(0,Se.f)(Ne,rt,qe):qe()}},7272:(xt,Pe,A)=>{A.d(Pe,{z:()=>ge});var p=A(8189),ie=A(3269),H=A(457);function ge(...pe){return function b(){return(0,p.J)(1)}()((0,H.D)(pe,(0,ie.yG)(pe)))}},9770:(xt,Pe,A)=>{A.d(Pe,{P:()=>ie});var p=A(9751),b=A(8421);function ie(H){return new p.y(ge=>{(0,b.Xf)(H()).subscribe(ge)})}},515:(xt,Pe,A)=>{A.d(Pe,{E:()=>b,c:()=>ie});var p=A(9751);const b=new p.y(ge=>ge.complete());function ie(ge){return ge?function H(ge){return new p.y(pe=>ge.schedule(()=>pe.complete()))}(ge):b}},4128:(xt,Pe,A)=>{A.d(Pe,{D:()=>se});var p=A(9751),b=A(4742),ie=A(8421),H=A(3269),ge=A(5403),pe=A(3268),we=A(1810);function se(...Se){const re=(0,H.jO)(Se),{args:ue,keys:ve}=(0,b.D)(Se),rt=new p.y(qe=>{const{length:Ne}=ue;if(!Ne)return void qe.complete();const Ye=new Array(Ne);let $e=Ne,Je=Ne;for(let Pt=0;Pt<Ne;Pt++){let Qt=!1;(0,ie.Xf)(ue[Pt]).subscribe(new ge.Q(qe,ze=>{Qt||(Qt=!0,Je--),Ye[Pt]=ze},()=>$e--,void 0,()=>{(!$e||!Qt)&&(Je||qe.next(ve?(0,we.n)(ve,Ye):Ye),qe.complete())}))}});return re?rt.pipe((0,pe.Z)(re)):rt}},457:(xt,Pe,A)=>{A.d(Pe,{D:()=>Ct});var p=A(8421),b=A(5363),ie=A(4482);function H(Rt,it=0){return(0,ie.e)((Ht,Ot)=>{Ot.add(Rt.schedule(()=>Ht.subscribe(Ot),it))})}var we=A(9751),Se=A(2202),re=A(576),ue=A(9672);function rt(Rt,it){if(!Rt)throw new Error("Iterable cannot be null");return new we.y(Ht=>{(0,ue.f)(Ht,it,()=>{const Ot=Rt[Symbol.asyncIterator]();(0,ue.f)(Ht,it,()=>{Ot.next().then(nt=>{nt.done?Ht.complete():Ht.next(nt.value)})},0,!0)})})}var qe=A(3670),Ne=A(8239),Ye=A(1144),$e=A(6495),Je=A(2206),Pt=A(4532),Qt=A(3260);function Ct(Rt,it){return it?function je(Rt,it){if(null!=Rt){if((0,qe.c)(Rt))return function ge(Rt,it){return(0,p.Xf)(Rt).pipe(H(it),(0,b.Q)(it))}(Rt,it);if((0,Ye.z)(Rt))return function se(Rt,it){return new we.y(Ht=>{let Ot=0;return it.schedule(function(){Ot===Rt.length?Ht.complete():(Ht.next(Rt[Ot++]),Ht.closed||this.schedule())})})}(Rt,it);if((0,Ne.t)(Rt))return function pe(Rt,it){return(0,p.Xf)(Rt).pipe(H(it),(0,b.Q)(it))}(Rt,it);if((0,Je.D)(Rt))return rt(Rt,it);if((0,$e.T)(Rt))return function ve(Rt,it){return new we.y(Ht=>{let Ot;return(0,ue.f)(Ht,it,()=>{Ot=Rt[Se.h](),(0,ue.f)(Ht,it,()=>{let nt,We;try{({value:nt,done:We}=Ot.next())}catch(pt){return void Ht.error(pt)}We?Ht.complete():Ht.next(nt)},0,!0)}),()=>(0,re.m)(null==Ot?void 0:Ot.return)&&Ot.return()})}(Rt,it);if((0,Qt.L)(Rt))return function ze(Rt,it){return rt((0,Qt.Q)(Rt),it)}(Rt,it)}throw(0,Pt.z)(Rt)}(Rt,it):(0,p.Xf)(Rt)}},4968:(xt,Pe,A)=>{A.d(Pe,{R:()=>re});var p=A(8421),b=A(9751),ie=A(5577),H=A(1144),ge=A(576),pe=A(3268);const we=["addListener","removeListener"],se=["addEventListener","removeEventListener"],Se=["on","off"];function re(Ne,Ye,$e,Je){if((0,ge.m)($e)&&(Je=$e,$e=void 0),Je)return re(Ne,Ye,$e).pipe((0,pe.Z)(Je));const[Pt,Qt]=function qe(Ne){return(0,ge.m)(Ne.addEventListener)&&(0,ge.m)(Ne.removeEventListener)}(Ne)?se.map(ze=>je=>Ne[ze](Ye,je,$e)):function ve(Ne){return(0,ge.m)(Ne.addListener)&&(0,ge.m)(Ne.removeListener)}(Ne)?we.map(ue(Ne,Ye)):function rt(Ne){return(0,ge.m)(Ne.on)&&(0,ge.m)(Ne.off)}(Ne)?Se.map(ue(Ne,Ye)):[];if(!Pt&&(0,H.z)(Ne))return(0,ie.z)(ze=>re(ze,Ye,$e))((0,p.Xf)(Ne));if(!Pt)throw new TypeError("Invalid event target");return new b.y(ze=>{const je=(...Ct)=>ze.next(1<Ct.length?Ct:Ct[0]);return Pt(je),()=>Qt(je)})}function ue(Ne,Ye){return $e=>Je=>Ne[$e](Ye,Je)}},8421:(xt,Pe,A)=>{A.d(Pe,{Xf:()=>rt});var p=A(655),b=A(1144),ie=A(8239),H=A(9751),ge=A(3670),pe=A(2206),we=A(4532),se=A(6495),Se=A(3260),re=A(576),ue=A(7849),ve=A(8822);function rt(ze){if(ze instanceof H.y)return ze;if(null!=ze){if((0,ge.c)(ze))return function qe(ze){return new H.y(je=>{const Ct=ze[ve.L]();if((0,re.m)(Ct.subscribe))return Ct.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,b.z)(ze))return function Ne(ze){return new H.y(je=>{for(let Ct=0;Ct<ze.length&&!je.closed;Ct++)je.next(ze[Ct]);je.complete()})}(ze);if((0,ie.t)(ze))return function Ye(ze){return new H.y(je=>{ze.then(Ct=>{je.closed||(je.next(Ct),je.complete())},Ct=>je.error(Ct)).then(null,ue.h)})}(ze);if((0,pe.D)(ze))return Je(ze);if((0,se.T)(ze))return function $e(ze){return new H.y(je=>{for(const Ct of ze)if(je.next(Ct),je.closed)return;je.complete()})}(ze);if((0,Se.L)(ze))return function Pt(ze){return Je((0,Se.Q)(ze))}(ze)}throw(0,we.z)(ze)}function Je(ze){return new H.y(je=>{(function Qt(ze,je){var Ct,Rt,it,Ht;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ct=(0,p.KL)(ze);!(Rt=yield Ct.next()).done;)if(je.next(Rt.value),je.closed)return}catch(Ot){it={error:Ot}}finally{try{Rt&&!Rt.done&&(Ht=Ct.return)&&(yield Ht.call(Ct))}finally{if(it)throw it.error}}je.complete()})})(ze,je).catch(Ct=>je.error(Ct))})}},6451:(xt,Pe,A)=>{A.d(Pe,{T:()=>pe});var p=A(8189),b=A(8421),ie=A(515),H=A(3269),ge=A(457);function pe(...we){const se=(0,H.yG)(we),Se=(0,H._6)(we,1/0),re=we;return re.length?1===re.length?(0,b.Xf)(re[0]):(0,p.J)(Se)((0,ge.D)(re,se)):ie.E}},9646:(xt,Pe,A)=>{A.d(Pe,{of:()=>ie});var p=A(3269),b=A(457);function ie(...H){const ge=(0,p.yG)(H);return(0,b.D)(H,ge)}},2843:(xt,Pe,A)=>{A.d(Pe,{_:()=>ie});var p=A(9751),b=A(576);function ie(H,ge){const pe=(0,b.m)(H)?H:()=>H,we=se=>se.error(pe());return new p.y(ge?se=>ge.schedule(we,0,se):we)}},5963:(xt,Pe,A)=>{A.d(Pe,{H:()=>ge});var p=A(9751),b=A(4986),ie=A(3532);function ge(pe=0,we,se=b.P){let Se=-1;return null!=we&&((0,ie.K)(we)?se=we:Se=we),new p.y(re=>{let ue=function H(pe){return pe instanceof Date&&!isNaN(pe)}(pe)?+pe-se.now():pe;ue<0&&(ue=0);let ve=0;return se.schedule(function(){re.closed||(re.next(ve++),0<=Se?this.schedule(void 0,Se):re.complete())},ue)})}},5403:(xt,Pe,A)=>{A.d(Pe,{Q:()=>b});var p=A(930);class b extends p.Lv{constructor(H,ge,pe,we,se){super(H),this.onFinalize=se,this._next=ge?function(Se){try{ge(Se)}catch(re){H.error(re)}}:super._next,this._error=we?function(Se){try{we(Se)}catch(re){H.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(Se){H.error(Se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var H;const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(H=this.onFinalize)||void 0===H||H.call(this))}}},262:(xt,Pe,A)=>{A.d(Pe,{K:()=>H});var p=A(8421),b=A(5403),ie=A(4482);function H(ge){return(0,ie.e)((pe,we)=>{let re,se=null,Se=!1;se=pe.subscribe(new b.Q(we,void 0,void 0,ue=>{re=(0,p.Xf)(ge(ue,H(ge)(pe))),se?(se.unsubscribe(),se=null,re.subscribe(we)):Se=!0})),Se&&(se.unsubscribe(),se=null,re.subscribe(we))})}},4351:(xt,Pe,A)=>{A.d(Pe,{b:()=>ie});var p=A(5577),b=A(576);function ie(H,ge){return(0,b.m)(ge)?(0,p.z)(H,ge,1):(0,p.z)(H,1)}},8372:(xt,Pe,A)=>{A.d(Pe,{b:()=>H});var p=A(4986),b=A(4482),ie=A(5403);function H(ge,pe=p.z){return(0,b.e)((we,se)=>{let Se=null,re=null,ue=null;const ve=()=>{if(Se){Se.unsubscribe(),Se=null;const qe=re;re=null,se.next(qe)}};function rt(){const qe=ue+ge,Ne=pe.now();if(Ne<qe)return Se=this.schedule(void 0,qe-Ne),void se.add(Se);ve()}we.subscribe(new ie.Q(se,qe=>{re=qe,ue=pe.now(),Se||(Se=pe.schedule(rt,ge),se.add(Se))},()=>{ve(),se.complete()},void 0,()=>{re=Se=null}))})}},6590:(xt,Pe,A)=>{A.d(Pe,{d:()=>ie});var p=A(4482),b=A(5403);function ie(H){return(0,p.e)((ge,pe)=>{let we=!1;ge.subscribe(new b.Q(pe,se=>{we=!0,pe.next(se)},()=>{we||pe.next(H),pe.complete()}))})}},4086:(xt,Pe,A)=>{A.d(Pe,{g:()=>Se});var p=A(4986),b=A(7272),ie=A(5698),H=A(8502),ge=A(9718),pe=A(5577);function we(re,ue){return ue?ve=>(0,b.z)(ue.pipe((0,ie.q)(1),(0,H.l)()),ve.pipe(we(re))):(0,pe.z)((ve,rt)=>re(ve,rt).pipe((0,ie.q)(1),(0,ge.h)(ve)))}var se=A(5963);function Se(re,ue=p.z){const ve=(0,se.H)(re,ue);return we(()=>ve)}},1884:(xt,Pe,A)=>{A.d(Pe,{x:()=>H});var p=A(4671),b=A(4482),ie=A(5403);function H(pe,we=p.y){return pe=null!=pe?pe:ge,(0,b.e)((se,Se)=>{let re,ue=!0;se.subscribe(new ie.Q(Se,ve=>{const rt=we(ve);(ue||!pe(re,rt))&&(ue=!1,re=rt,Se.next(ve))}))})}function ge(pe,we){return pe===we}},9300:(xt,Pe,A)=>{A.d(Pe,{h:()=>ie});var p=A(4482),b=A(5403);function ie(H,ge){return(0,p.e)((pe,we)=>{let se=0;pe.subscribe(new b.Q(we,Se=>H.call(ge,Se,se++)&&we.next(Se)))})}},8746:(xt,Pe,A)=>{A.d(Pe,{x:()=>b});var p=A(4482);function b(ie){return(0,p.e)((H,ge)=>{try{H.subscribe(ge)}finally{ge.add(ie)}})}},590:(xt,Pe,A)=>{A.d(Pe,{P:()=>we});var p=A(6805),b=A(9300),ie=A(5698),H=A(6590),ge=A(8068),pe=A(4671);function we(se,Se){const re=arguments.length>=2;return ue=>ue.pipe(se?(0,b.h)((ve,rt)=>se(ve,rt,ue)):pe.y,(0,ie.q)(1),re?(0,H.d)(Se):(0,ge.T)(()=>new p.K))}},8502:(xt,Pe,A)=>{A.d(Pe,{l:()=>H});var p=A(4482),b=A(5403),ie=A(5032);function H(){return(0,p.e)((ge,pe)=>{ge.subscribe(new b.Q(pe,ie.Z))})}},3103:(xt,Pe,A)=>{A.d(Pe,{Z:()=>we});var p=A(6805),b=A(9300),ie=A(2035),H=A(8068),ge=A(6590),pe=A(4671);function we(se,Se){const re=arguments.length>=2;return ue=>ue.pipe(se?(0,b.h)((ve,rt)=>se(ve,rt,ue)):pe.y,(0,ie.h)(1),re?(0,ge.d)(Se):(0,H.T)(()=>new p.K))}},4004:(xt,Pe,A)=>{A.d(Pe,{U:()=>ie});var p=A(4482),b=A(5403);function ie(H,ge){return(0,p.e)((pe,we)=>{let se=0;pe.subscribe(new b.Q(we,Se=>{we.next(H.call(ge,Se,se++))}))})}},9718:(xt,Pe,A)=>{A.d(Pe,{h:()=>b});var p=A(4004);function b(ie){return(0,p.U)(()=>ie)}},8189:(xt,Pe,A)=>{A.d(Pe,{J:()=>ie});var p=A(5577),b=A(4671);function ie(H=1/0){return(0,p.z)(b.y,H)}},5577:(xt,Pe,A)=>{A.d(Pe,{z:()=>se});var p=A(4004),b=A(8421),ie=A(4482),H=A(9672),ge=A(5403),we=A(576);function se(Se,re,ue=1/0){return(0,we.m)(re)?se((ve,rt)=>(0,p.U)((qe,Ne)=>re(ve,qe,rt,Ne))((0,b.Xf)(Se(ve,rt))),ue):("number"==typeof re&&(ue=re),(0,ie.e)((ve,rt)=>function pe(Se,re,ue,ve,rt,qe,Ne,Ye){const $e=[];let Je=0,Pt=0,Qt=!1;const ze=()=>{Qt&&!$e.length&&!Je&&re.complete()},je=Rt=>Je<ve?Ct(Rt):$e.push(Rt),Ct=Rt=>{qe&&re.next(Rt),Je++;let it=!1;(0,b.Xf)(ue(Rt,Pt++)).subscribe(new ge.Q(re,Ht=>{null==rt||rt(Ht),qe?je(Ht):re.next(Ht)},()=>{it=!0},void 0,()=>{if(it)try{for(Je--;$e.length&&Je<ve;){const Ht=$e.shift();Ne?(0,H.f)(re,Ne,()=>Ct(Ht)):Ct(Ht)}ze()}catch(Ht){re.error(Ht)}}))};return Se.subscribe(new ge.Q(re,je,()=>{Qt=!0,ze()})),()=>{null==Ye||Ye()}}(ve,rt,Se,ue)))}},5363:(xt,Pe,A)=>{A.d(Pe,{Q:()=>H});var p=A(9672),b=A(4482),ie=A(5403);function H(ge,pe=0){return(0,b.e)((we,se)=>{we.subscribe(new ie.Q(se,Se=>(0,p.f)(se,ge,()=>se.next(Se),pe),()=>(0,p.f)(se,ge,()=>se.complete(),pe),Se=>(0,p.f)(se,ge,()=>se.error(Se),pe)))})}},8646:(xt,Pe,A)=>{A.d(Pe,{n:()=>ue});var p=A(7579),b=A(4033),ie=A(576),H=A(457),ge=A(4482),pe=A(9751);const se={connector:()=>new p.x};function Se(ve,rt=se){const{connector:qe}=rt;return(0,ge.e)((Ne,Ye)=>{const $e=qe();(0,H.D)(ve(function we(ve){return new pe.y(rt=>ve.subscribe(rt))}($e))).subscribe(Ye),Ye.add(Ne.subscribe($e))})}function ue(ve){return ve?rt=>Se(ve)(rt):rt=>function re(ve,rt){const qe=(0,ie.m)(ve)?ve:()=>ve;return(0,ie.m)(rt)?Se(rt,{connector:qe}):Ne=>new b.c(Ne,qe)}(new p.x)(rt)}},8343:(xt,Pe,A)=>{A.d(Pe,{x:()=>ie});var p=A(4482),b=A(5403);function ie(){return(0,p.e)((H,ge)=>{let pe=null;H._refCount++;const we=new b.Q(ge,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(pe=null);const se=H._connection,Se=pe;pe=null,se&&(!Se||se===Se)&&se.unsubscribe(),ge.unsubscribe()});H.subscribe(we),we.closed||(pe=H.connect())})}},5625:(xt,Pe,A)=>{A.d(Pe,{X:()=>pe});var p=A(4482),b=A(5403),ie=A(4671),H=A(5963),ge=A(8421);function pe(we=1/0){let se;se=we&&"object"==typeof we?we:{count:we};const{count:Se=1/0,delay:re,resetOnSuccess:ue=!1}=se;return Se<=0?ie.y:(0,p.e)((ve,rt)=>{let Ne,qe=0;const Ye=()=>{let $e=!1;Ne=ve.subscribe(new b.Q(rt,Je=>{ue&&(qe=0),rt.next(Je)},void 0,Je=>{if(qe++<Se){const Pt=()=>{Ne?(Ne.unsubscribe(),Ne=null,Ye()):$e=!0};if(null!=re){const Qt="number"==typeof re?(0,H.H)(re):(0,ge.Xf)(re(Je,qe)),ze=new b.Q(rt,()=>{ze.unsubscribe(),Pt()},()=>{rt.complete()});Qt.subscribe(ze)}else Pt()}else rt.error(Je)})),$e&&(Ne.unsubscribe(),Ne=null,Ye())};Ye()})}},5026:(xt,Pe,A)=>{A.d(Pe,{R:()=>H});var p=A(4482),b=A(5403);function ie(ge,pe,we,se,Se){return(re,ue)=>{let ve=we,rt=pe,qe=0;re.subscribe(new b.Q(ue,Ne=>{const Ye=qe++;rt=ve?ge(rt,Ne,Ye):(ve=!0,Ne),se&&ue.next(rt)},Se&&(()=>{ve&&ue.next(rt),ue.complete()})))}}function H(ge,pe){return(0,p.e)(ie(ge,pe,arguments.length>=2,!0))}},3099:(xt,Pe,A)=>{A.d(Pe,{B:()=>pe});var p=A(457),b=A(5698),ie=A(7579),H=A(930),ge=A(4482);function pe(se={}){const{connector:Se=(()=>new ie.x),resetOnError:re=!0,resetOnComplete:ue=!0,resetOnRefCountZero:ve=!0}=se;return rt=>{let qe=null,Ne=null,Ye=null,$e=0,Je=!1,Pt=!1;const Qt=()=>{null==Ne||Ne.unsubscribe(),Ne=null},ze=()=>{Qt(),qe=Ye=null,Je=Pt=!1},je=()=>{const Ct=qe;ze(),null==Ct||Ct.unsubscribe()};return(0,ge.e)((Ct,Rt)=>{$e++,!Pt&&!Je&&Qt();const it=Ye=null!=Ye?Ye:Se();Rt.add(()=>{$e--,0===$e&&!Pt&&!Je&&(Ne=we(je,ve))}),it.subscribe(Rt),qe||(qe=new H.Hp({next:Ht=>it.next(Ht),error:Ht=>{Pt=!0,Qt(),Ne=we(ze,re,Ht),it.error(Ht)},complete:()=>{Je=!0,Qt(),Ne=we(ze,ue),it.complete()}}),(0,p.D)(Ct).subscribe(qe))})(rt)}}function we(se,Se,...re){return!0===Se?(se(),null):!1===Se?null:Se(...re).pipe((0,b.q)(1)).subscribe(()=>se())}},8675:(xt,Pe,A)=>{A.d(Pe,{O:()=>H});var p=A(7272),b=A(3269),ie=A(4482);function H(...ge){const pe=(0,b.yG)(ge);return(0,ie.e)((we,se)=>{(pe?(0,p.z)(ge,we,pe):(0,p.z)(ge,we)).subscribe(se)})}},3900:(xt,Pe,A)=>{A.d(Pe,{w:()=>H});var p=A(8421),b=A(4482),ie=A(5403);function H(ge,pe){return(0,b.e)((we,se)=>{let Se=null,re=0,ue=!1;const ve=()=>ue&&!Se&&se.complete();we.subscribe(new ie.Q(se,rt=>{null==Se||Se.unsubscribe();let qe=0;const Ne=re++;(0,p.Xf)(ge(rt,Ne)).subscribe(Se=new ie.Q(se,Ye=>se.next(pe?pe(rt,Ye,Ne,qe++):Ye),()=>{Se=null,ve()}))},()=>{ue=!0,ve()}))})}},5698:(xt,Pe,A)=>{A.d(Pe,{q:()=>H});var p=A(515),b=A(4482),ie=A(5403);function H(ge){return ge<=0?()=>p.E:(0,b.e)((pe,we)=>{let se=0;pe.subscribe(new ie.Q(we,Se=>{++se<=ge&&(we.next(Se),ge<=se&&we.complete())}))})}},2035:(xt,Pe,A)=>{A.d(Pe,{h:()=>H});var p=A(515),b=A(4482),ie=A(5403);function H(ge){return ge<=0?()=>p.E:(0,b.e)((pe,we)=>{let se=[];pe.subscribe(new ie.Q(we,Se=>{se.push(Se),ge<se.length&&se.shift()},()=>{for(const Se of se)we.next(Se);we.complete()},void 0,()=>{se=null}))})}},2529:(xt,Pe,A)=>{A.d(Pe,{o:()=>ie});var p=A(4482),b=A(5403);function ie(H,ge=!1){return(0,p.e)((pe,we)=>{let se=0;pe.subscribe(new b.Q(we,Se=>{const re=H(Se,se++);(re||ge)&&we.next(Se),!re&&we.complete()}))})}},8505:(xt,Pe,A)=>{A.d(Pe,{b:()=>ge});var p=A(576),b=A(4482),ie=A(5403),H=A(4671);function ge(pe,we,se){const Se=(0,p.m)(pe)||we||se?{next:pe,error:we,complete:se}:pe;return Se?(0,b.e)((re,ue)=>{var ve;null===(ve=Se.subscribe)||void 0===ve||ve.call(Se);let rt=!0;re.subscribe(new ie.Q(ue,qe=>{var Ne;null===(Ne=Se.next)||void 0===Ne||Ne.call(Se,qe),ue.next(qe)},()=>{var qe;rt=!1,null===(qe=Se.complete)||void 0===qe||qe.call(Se),ue.complete()},qe=>{var Ne;rt=!1,null===(Ne=Se.error)||void 0===Ne||Ne.call(Se,qe),ue.error(qe)},()=>{var qe,Ne;rt&&(null===(qe=Se.unsubscribe)||void 0===qe||qe.call(Se)),null===(Ne=Se.finalize)||void 0===Ne||Ne.call(Se)}))}):H.y}},9468:(xt,Pe,A)=>{A.d(Pe,{p:()=>se});var p=A(4986),b=A(4482),ie=A(5403),H=A(8421);const ge={leading:!0,trailing:!1};var we=A(5963);function se(Se,re=p.z,ue=ge){const ve=(0,we.H)(Se,re);return function pe(Se,re=ge){return(0,b.e)((ue,ve)=>{const{leading:rt,trailing:qe}=re;let Ne=!1,Ye=null,$e=null,Je=!1;const Pt=()=>{null==$e||$e.unsubscribe(),$e=null,qe&&(je(),Je&&ve.complete())},Qt=()=>{$e=null,Je&&ve.complete()},ze=Ct=>$e=(0,H.Xf)(Se(Ct)).subscribe(new ie.Q(ve,Pt,Qt)),je=()=>{if(Ne){Ne=!1;const Ct=Ye;Ye=null,ve.next(Ct),!Je&&ze(Ct)}};ue.subscribe(new ie.Q(ve,Ct=>{Ne=!0,Ye=Ct,(!$e||$e.closed)&&(rt?je():ze(Ct))},()=>{Je=!0,(!(qe&&Ne&&$e)||$e.closed)&&ve.complete()}))})}(()=>ve,ue)}},8068:(xt,Pe,A)=>{A.d(Pe,{T:()=>H});var p=A(6805),b=A(4482),ie=A(5403);function H(pe=ge){return(0,b.e)((we,se)=>{let Se=!1;we.subscribe(new ie.Q(se,re=>{Se=!0,se.next(re)},()=>Se?se.complete():se.error(pe())))})}function ge(){return new p.K}},1365:(xt,Pe,A)=>{A.d(Pe,{M:()=>we});var p=A(4482),b=A(5403),ie=A(8421),H=A(4671),ge=A(5032),pe=A(3269);function we(...se){const Se=(0,pe.jO)(se);return(0,p.e)((re,ue)=>{const ve=se.length,rt=new Array(ve);let qe=se.map(()=>!1),Ne=!1;for(let Ye=0;Ye<ve;Ye++)(0,ie.Xf)(se[Ye]).subscribe(new b.Q(ue,$e=>{rt[Ye]=$e,!Ne&&!qe[Ye]&&(qe[Ye]=!0,(Ne=qe.every(H.y))&&(qe=null))},ge.Z));re.subscribe(new b.Q(ue,Ye=>{if(Ne){const $e=[Ye,...rt];ue.next(Se?Se(...$e):$e)}}))})}},4408:(xt,Pe,A)=>{A.d(Pe,{o:()=>ge});var p=A(727);class b extends p.w0{constructor(we,se){super()}schedule(we,se=0){return this}}const ie={setInterval(...pe){const{delegate:we}=ie;return((null==we?void 0:we.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:we}=ie;return((null==we?void 0:we.clearInterval)||clearInterval)(pe)},delegate:void 0};var H=A(8737);class ge extends b{constructor(we,se){super(we,se),this.scheduler=we,this.work=se,this.pending=!1}schedule(we,se=0){if(this.closed)return this;this.state=we;const Se=this.id,re=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(re,Se,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(re,this.id,se),this}requestAsyncId(we,se,Se=0){return ie.setInterval(we.flush.bind(we,this),Se)}recycleAsyncId(we,se,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return se;ie.clearInterval(se)}execute(we,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(we,se);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,se){let re,Se=!1;try{this.work(we)}catch(ue){Se=!0,re=ue||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:we,scheduler:se}=this,{actions:Se}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.P)(Se,this),null!=we&&(this.id=this.recycleAsyncId(se,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Pe,A)=>{A.d(Pe,{v:()=>ie});var p=A(6063);class b{constructor(ge,pe=b.now){this.schedulerActionCtor=ge,this.now=pe}schedule(ge,pe=0,we){return new this.schedulerActionCtor(this,ge).schedule(we,pe)}}b.now=p.l.now;class ie extends b{constructor(ge,pe=b.now){super(ge,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:pe}=this;if(this._active)return void pe.push(ge);let we;this._active=!0;do{if(we=ge.execute(ge.state,ge.delay))break}while(ge=pe.shift());if(this._active=!1,we){for(;ge=pe.shift();)ge.unsubscribe();throw we}}}},4986:(xt,Pe,A)=>{A.d(Pe,{P:()=>H,z:()=>ie});var p=A(4408);const ie=new(A(7565).v)(p.o),H=ie},6063:(xt,Pe,A)=>{A.d(Pe,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(xt,Pe,A)=>{A.d(Pe,{z:()=>p});const p={setTimeout(...b){const{delegate:ie}=p;return((null==ie?void 0:ie.setTimeout)||setTimeout)(...b)},clearTimeout(b){const{delegate:ie}=p;return((null==ie?void 0:ie.clearTimeout)||clearTimeout)(b)},delegate:void 0}},2202:(xt,Pe,A)=>{A.d(Pe,{h:()=>b});const b=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Pe,A)=>{A.d(Pe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(xt,Pe,A)=>{A.d(Pe,{K:()=>b});const b=(0,A(3888).d)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(xt,Pe,A)=>{A.d(Pe,{_6:()=>pe,jO:()=>H,yG:()=>ge});var p=A(576),b=A(3532);function ie(we){return we[we.length-1]}function H(we){return(0,p.m)(ie(we))?we.pop():void 0}function ge(we){return(0,b.K)(ie(we))?we.pop():void 0}function pe(we,se){return"number"==typeof ie(we)?we.pop():se}},4742:(xt,Pe,A)=>{A.d(Pe,{D:()=>ge});const{isArray:p}=Array,{getPrototypeOf:b,prototype:ie,keys:H}=Object;function ge(we){if(1===we.length){const se=we[0];if(p(se))return{args:se,keys:null};if(function pe(we){return we&&"object"==typeof we&&b(we)===ie}(se)){const Se=H(se);return{args:Se.map(re=>se[re]),keys:Se}}}return{args:we,keys:null}}},8737:(xt,Pe,A)=>{function p(b,ie){if(b){const H=b.indexOf(ie);0<=H&&b.splice(H,1)}}A.d(Pe,{P:()=>p})},3888:(xt,Pe,A)=>{function p(b){const H=b(ge=>{Error.call(ge),ge.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}A.d(Pe,{d:()=>p})},1810:(xt,Pe,A)=>{function p(b,ie){return b.reduce((H,ge,pe)=>(H[ge]=ie[pe],H),{})}A.d(Pe,{n:()=>p})},2806:(xt,Pe,A)=>{A.d(Pe,{O:()=>H,x:()=>ie});var p=A(2416);let b=null;function ie(ge){if(p.v.useDeprecatedSynchronousErrorHandling){const pe=!b;if(pe&&(b={errorThrown:!1,error:null}),ge(),pe){const{errorThrown:we,error:se}=b;if(b=null,we)throw se}}else ge()}function H(ge){p.v.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=ge)}},9672:(xt,Pe,A)=>{function p(b,ie,H,ge=0,pe=!1){const we=ie.schedule(function(){H(),pe?b.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(b.add(we),!pe)return we}A.d(Pe,{f:()=>p})},4671:(xt,Pe,A)=>{function p(b){return b}A.d(Pe,{y:()=>p})},1144:(xt,Pe,A)=>{A.d(Pe,{z:()=>p});const p=b=>b&&"number"==typeof b.length&&"function"!=typeof b},2206:(xt,Pe,A)=>{A.d(Pe,{D:()=>b});var p=A(576);function b(ie){return Symbol.asyncIterator&&(0,p.m)(null==ie?void 0:ie[Symbol.asyncIterator])}},576:(xt,Pe,A)=>{function p(b){return"function"==typeof b}A.d(Pe,{m:()=>p})},3670:(xt,Pe,A)=>{A.d(Pe,{c:()=>ie});var p=A(8822),b=A(576);function ie(H){return(0,b.m)(H[p.L])}},6495:(xt,Pe,A)=>{A.d(Pe,{T:()=>ie});var p=A(2202),b=A(576);function ie(H){return(0,b.m)(null==H?void 0:H[p.h])}},8239:(xt,Pe,A)=>{A.d(Pe,{t:()=>b});var p=A(576);function b(ie){return(0,p.m)(null==ie?void 0:ie.then)}},3260:(xt,Pe,A)=>{A.d(Pe,{L:()=>H,Q:()=>ie});var p=A(655),b=A(576);function ie(ge){return(0,p.FC)(this,arguments,function*(){const we=ge.getReader();try{for(;;){const{value:se,done:Se}=yield(0,p.qq)(we.read());if(Se)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(se)}}finally{we.releaseLock()}})}function H(ge){return(0,b.m)(null==ge?void 0:ge.getReader)}},3532:(xt,Pe,A)=>{A.d(Pe,{K:()=>b});var p=A(576);function b(ie){return ie&&(0,p.m)(ie.schedule)}},4482:(xt,Pe,A)=>{A.d(Pe,{A:()=>b,e:()=>ie});var p=A(576);function b(H){return(0,p.m)(null==H?void 0:H.lift)}function ie(H){return ge=>{if(b(ge))return ge.lift(function(pe){try{return H(pe,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(xt,Pe,A)=>{A.d(Pe,{Z:()=>H});var p=A(4004);const{isArray:b}=Array;function H(ge){return(0,p.U)(pe=>function ie(ge,pe){return b(pe)?ge(...pe):ge(pe)}(ge,pe))}},5032:(xt,Pe,A)=>{function p(){}A.d(Pe,{Z:()=>p})},9635:(xt,Pe,A)=>{A.d(Pe,{U:()=>ie,z:()=>b});var p=A(4671);function b(...H){return ie(H)}function ie(H){return 0===H.length?p.y:1===H.length?H[0]:function(pe){return H.reduce((we,se)=>se(we),pe)}}},7849:(xt,Pe,A)=>{A.d(Pe,{h:()=>ie});var p=A(2416),b=A(3410);function ie(H){b.z.setTimeout(()=>{const{onUnhandledError:ge}=p.v;if(!ge)throw H;ge(H)})}},4532:(xt,Pe,A)=>{function p(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(Pe,{z:()=>p})},655:(xt,Pe,A)=>{function H(nt,We){var pt={};for(var He in nt)Object.prototype.hasOwnProperty.call(nt,He)&&We.indexOf(He)<0&&(pt[He]=nt[He]);if(null!=nt&&"function"==typeof Object.getOwnPropertySymbols){var Vt=0;for(He=Object.getOwnPropertySymbols(nt);Vt<He.length;Vt++)We.indexOf(He[Vt])<0&&Object.prototype.propertyIsEnumerable.call(nt,He[Vt])&&(pt[He[Vt]]=nt[He[Vt]])}return pt}function se(nt,We,pt,He){return new(pt||(pt=Promise))(function(dt,zt){function Yt(pr){try{Et(He.next(pr))}catch(Tt){zt(Tt)}}function Bt(pr){try{Et(He.throw(pr))}catch(Tt){zt(Tt)}}function Et(pr){pr.done?dt(pr.value):function Vt(dt){return dt instanceof pt?dt:new pt(function(zt){zt(dt)})}(pr.value).then(Yt,Bt)}Et((He=He.apply(nt,We||[])).next())})}function $e(nt){return this instanceof $e?(this.v=nt,this):new $e(nt)}function Je(nt,We,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Vt,He=pt.apply(nt,We||[]),dt=[];return Vt={},zt("next"),zt("throw"),zt("return"),Vt[Symbol.asyncIterator]=function(){return this},Vt;function zt(st){He[st]&&(Vt[st]=function(Ve){return new Promise(function(Xe,St){dt.push([st,Ve,Xe,St])>1||Yt(st,Ve)})})}function Yt(st,Ve){try{!function Bt(st){st.value instanceof $e?Promise.resolve(st.value.v).then(Et,pr):Tt(dt[0][2],st)}(He[st](Ve))}catch(Xe){Tt(dt[0][3],Xe)}}function Et(st){Yt("next",st)}function pr(st){Yt("throw",st)}function Tt(st,Ve){st(Ve),dt.shift(),dt.length&&Yt(dt[0][0],dt[0][1])}}function Qt(nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,We=nt[Symbol.asyncIterator];return We?We.call(nt):(nt=function ve(nt){var We="function"==typeof Symbol&&Symbol.iterator,pt=We&&nt[We],He=0;if(pt)return pt.call(nt);if(nt&&"number"==typeof nt.length)return{next:function(){return nt&&He>=nt.length&&(nt=void 0),{value:nt&&nt[He++],done:!nt}}};throw new TypeError(We?"Object is not iterable.":"Symbol.iterator is not defined.")}(nt),pt={},He("next"),He("throw"),He("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function He(dt){pt[dt]=nt[dt]&&function(zt){return new Promise(function(Yt,Bt){!function Vt(dt,zt,Yt,Bt){Promise.resolve(Bt).then(function(Et){dt({value:Et,done:Yt})},zt)}(Yt,Bt,(zt=nt[dt](zt)).done,zt.value)})}}}A.d(Pe,{FC:()=>Je,KL:()=>Qt,_T:()=>H,mG:()=>se,qq:()=>$e})},1777:(xt,Pe,A)=>{A.d(Pe,{EY:()=>Ye,F4:()=>re,IO:()=>Ne,LC:()=>b,SB:()=>Se,X$:()=>H,ZE:()=>Pt,ZN:()=>Je,_j:()=>p,eR:()=>ue,jt:()=>ge,k1:()=>Qt,l3:()=>ie,oB:()=>se,pV:()=>rt,ru:()=>pe,vP:()=>we});class p{}class b{}const ie="*";function H(ze,je){return{type:7,name:ze,definitions:je,options:{}}}function ge(ze,je=null){return{type:4,styles:je,timings:ze}}function pe(ze,je=null){return{type:3,steps:ze,options:je}}function we(ze,je=null){return{type:2,steps:ze,options:je}}function se(ze){return{type:6,styles:ze,offset:null}}function Se(ze,je,Ct){return{type:0,name:ze,styles:je,options:Ct}}function re(ze){return{type:5,steps:ze}}function ue(ze,je,Ct=null){return{type:1,expr:ze,animation:je,options:Ct}}function rt(ze=null){return{type:9,options:ze}}function Ne(ze,je,Ct=null){return{type:11,selector:ze,animation:je,options:Ct}}function Ye(ze,je){return{type:12,timings:ze,animation:je}}function $e(ze){Promise.resolve().then(ze)}class Je{constructor(je=0,Ct=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=je+Ct}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}onStart(je){this._originalOnStartFns.push(je),this._onStartFns.push(je)}onDone(je){this._originalOnDoneFns.push(je),this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$e(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(je=>je()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(je){this._position=this.totalTime?je*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(je){const Ct="start"==je?this._onStartFns:this._onDoneFns;Ct.forEach(Rt=>Rt()),Ct.length=0}}class Pt{constructor(je){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=je;let Ct=0,Rt=0,it=0;const Ht=this.players.length;0==Ht?$e(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++Ct==Ht&&this._onFinish()}),Ot.onDestroy(()=>{++Rt==Ht&&this._onDestroy()}),Ot.onStart(()=>{++it==Ht&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,nt)=>Math.max(Ot,nt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}init(){this.players.forEach(je=>je.init())}onStart(je){this._onStartFns.push(je)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(je=>je()),this._onStartFns=[])}onDone(je){this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(je=>je.play())}pause(){this.players.forEach(je=>je.pause())}restart(){this.players.forEach(je=>je.restart())}finish(){this._onFinish(),this.players.forEach(je=>je.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(je=>je.destroy()),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this.players.forEach(je=>je.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(je){const Ct=je*this.totalTime;this.players.forEach(Rt=>{const it=Rt.totalTime?Math.min(1,Ct/Rt.totalTime):1;Rt.setPosition(it)})}getPosition(){const je=this.players.reduce((Ct,Rt)=>null===Ct||Rt.totalTime>Ct.totalTime?Rt:Ct,null);return null!=je?je.getPosition():0}beforeDestroy(){this.players.forEach(je=>{je.beforeDestroy&&je.beforeDestroy()})}triggerCallback(je){const Ct="start"==je?this._onStartFns:this._onDoneFns;Ct.forEach(Rt=>Rt()),Ct.length=0}}const Qt="!"},9808:(xt,Pe,A)=>{A.d(Pe,{Do:()=>Qt,ED:()=>Kr,EM:()=>Fo,H9:()=>Ts,HT:()=>ge,JF:()=>mn,JJ:()=>Hn,K0:()=>we,Mx:()=>Is,NF:()=>hs,Nd:()=>Qi,O5:()=>ko,Ov:()=>Zt,PC:()=>Bs,RF:()=>Pr,S$:()=>$e,Ts:()=>li,V_:()=>re,Ye:()=>ze,b0:()=>Pt,bD:()=>ks,ez:()=>go,i8:()=>Kn,mk:()=>Bi,n9:()=>er,q:()=>ie,rS:()=>_r,sg:()=>Mn,tP:()=>bs,uU:()=>Rn,w_:()=>pe});var p=A(5e3);let b=null;function ie(){return b}function ge(L){b||(b=L)}class pe{}const we=new p.OlP("DocumentToken");let se=(()=>{class L{historyGo(U){throw new Error("Not implemented")}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275prov=p.Yz7({token:L,factory:function(){return function Se(){return(0,p.LFG)(ue)}()},providedIn:"platform"}),L})();const re=new p.OlP("Location Initialized");let ue=(()=>{class L extends se{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(U){const ee=ie().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",U,!1),()=>ee.removeEventListener("popstate",U)}onHashChange(U){const ee=ie().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",U,!1),()=>ee.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ee,me){ve()?this._history.pushState(U,ee,me):this.location.hash=me}replaceState(U,ee,me){ve()?this._history.replaceState(U,ee,me):this.location.hash=me}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return L.\u0275fac=function(U){return new(U||L)(p.LFG(we))},L.\u0275prov=p.Yz7({token:L,factory:function(){return function rt(){return new ue((0,p.LFG)(we))}()},providedIn:"platform"}),L})();function ve(){return!!window.history.pushState}function qe(L,Y){if(0==L.length)return Y;if(0==Y.length)return L;let U=0;return L.endsWith("/")&&U++,Y.startsWith("/")&&U++,2==U?L+Y.substring(1):1==U?L+Y:L+"/"+Y}function Ne(L){const Y=L.match(/#|\?|$/),U=Y&&Y.index||L.length;return L.slice(0,U-("/"===L[U-1]?1:0))+L.slice(U)}function Ye(L){return L&&"?"!==L[0]?"?"+L:L}let $e=(()=>{class L{historyGo(U){throw new Error("Not implemented")}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275prov=p.Yz7({token:L,factory:function(){return(0,p.f3M)(Pt)},providedIn:"root"}),L})();const Je=new p.OlP("appBaseHref");let Pt=(()=>{class L extends $e{constructor(U,ee){var me,lt,yt;super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=null!==(yt=null!==(me=null!=ee?ee:this._platformLocation.getBaseHrefFromDOM())&&void 0!==me?me:null===(lt=(0,p.f3M)(we).location)||void 0===lt?void 0:lt.origin)&&void 0!==yt?yt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return qe(this._baseHref,U)}path(U=!1){const ee=this._platformLocation.pathname+Ye(this._platformLocation.search),me=this._platformLocation.hash;return me&&U?`${ee}${me}`:ee}pushState(U,ee,me,lt){const yt=this.prepareExternalUrl(me+Ye(lt));this._platformLocation.pushState(U,ee,yt)}replaceState(U,ee,me,lt){const yt=this.prepareExternalUrl(me+Ye(lt));this._platformLocation.replaceState(U,ee,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var ee,me;null===(me=(ee=this._platformLocation).historyGo)||void 0===me||me.call(ee,U)}}return L.\u0275fac=function(U){return new(U||L)(p.LFG(se),p.LFG(Je,8))},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),Qt=(()=>{class L extends $e{constructor(U,ee){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(U){const ee=qe(this._baseHref,U);return ee.length>0?"#"+ee:ee}pushState(U,ee,me,lt){let yt=this.prepareExternalUrl(me+Ye(lt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(U,ee,yt)}replaceState(U,ee,me,lt){let yt=this.prepareExternalUrl(me+Ye(lt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(U,ee,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var ee,me;null===(me=(ee=this._platformLocation).historyGo)||void 0===me||me.call(ee,U)}}return L.\u0275fac=function(U){return new(U||L)(p.LFG(se),p.LFG(Je,8))},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac}),L})(),ze=(()=>{class L{constructor(U){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ee=this._locationStrategy.getBaseHref();this._baseHref=Ne(Rt(ee)),this._locationStrategy.onPopState(me=>{this._subject.emit({url:this.path(!0),pop:!0,state:me.state,type:me.type})})}ngOnDestroy(){var U;null===(U=this._urlChangeSubscription)||void 0===U||U.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ee=""){return this.path()==this.normalize(U+Ye(ee))}normalize(U){return L.stripTrailingSlash(function Ct(L,Y){return L&&Y.startsWith(L)?Y.substring(L.length):Y}(this._baseHref,Rt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ee="",me=null){this._locationStrategy.pushState(me,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ye(ee)),me)}replaceState(U,ee="",me=null){this._locationStrategy.replaceState(me,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ye(ee)),me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){var ee,me;null===(me=(ee=this._locationStrategy).historyGo)||void 0===me||me.call(ee,U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{var ee;const me=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(me,1),0===this._urlChangeListeners.length&&(null===(ee=this._urlChangeSubscription)||void 0===ee||ee.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ee){this._urlChangeListeners.forEach(me=>me(U,ee))}subscribe(U,ee,me){return this._subject.subscribe({next:U,error:ee,complete:me})}}return L.normalizeQueryParams=Ye,L.joinWithSlash=qe,L.stripTrailingSlash=Ne,L.\u0275fac=function(U){return new(U||L)(p.LFG($e))},L.\u0275prov=p.Yz7({token:L,factory:function(){return function je(){return new ze((0,p.LFG)($e))}()},providedIn:"root"}),L})();function Rt(L){return L.replace(/\/index.html$/,"")}const it={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ht=(()=>((Ht=Ht||{})[Ht.Decimal=0]="Decimal",Ht[Ht.Percent=1]="Percent",Ht[Ht.Currency=2]="Currency",Ht[Ht.Scientific=3]="Scientific",Ht))(),nt=(()=>((nt=nt||{})[nt.Format=0]="Format",nt[nt.Standalone=1]="Standalone",nt))(),We=(()=>((We=We||{})[We.Narrow=0]="Narrow",We[We.Abbreviated=1]="Abbreviated",We[We.Wide=2]="Wide",We[We.Short=3]="Short",We))(),pt=(()=>((pt=pt||{})[pt.Short=0]="Short",pt[pt.Medium=1]="Medium",pt[pt.Long=2]="Long",pt[pt.Full=3]="Full",pt))(),He=(()=>((He=He||{})[He.Decimal=0]="Decimal",He[He.Group=1]="Group",He[He.List=2]="List",He[He.PercentSign=3]="PercentSign",He[He.PlusSign=4]="PlusSign",He[He.MinusSign=5]="MinusSign",He[He.Exponential=6]="Exponential",He[He.SuperscriptingExponent=7]="SuperscriptingExponent",He[He.PerMille=8]="PerMille",He[He.Infinity=9]="Infinity",He[He.NaN=10]="NaN",He[He.TimeSeparator=11]="TimeSeparator",He[He.CurrencyDecimal=12]="CurrencyDecimal",He[He.CurrencyGroup=13]="CurrencyGroup",He))();function st(L,Y){return sn((0,p.cg1)(L)[p.wAp.DateFormat],Y)}function Ve(L,Y){return sn((0,p.cg1)(L)[p.wAp.TimeFormat],Y)}function Xe(L,Y){return sn((0,p.cg1)(L)[p.wAp.DateTimeFormat],Y)}function St(L,Y){const U=(0,p.cg1)(L),ee=U[p.wAp.NumberSymbols][Y];if(void 0===ee){if(Y===He.CurrencyDecimal)return U[p.wAp.NumberSymbols][He.Decimal];if(Y===He.CurrencyGroup)return U[p.wAp.NumberSymbols][He.Group]}return ee}function Tn(L,Y){return(0,p.cg1)(L)[p.wAp.NumberFormats][Y]}function ar(L){if(!L[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sn(L,Y){for(let U=Y;U>-1;U--)if(void 0!==L[U])return L[U];throw new Error("Locale data API: locale data undefined")}function wi(L){const[Y,U]=L.split(":");return{hours:+Y,minutes:+U}}const vi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Lr={},Ke=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var be=(()=>((be=be||{})[be.Short=0]="Short",be[be.ShortGMT=1]="ShortGMT",be[be.Long=2]="Long",be[be.Extended=3]="Extended",be))(),Ee=(()=>((Ee=Ee||{})[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee))(),at=(()=>((at=at||{})[at.DayPeriods=0]="DayPeriods",at[at.Days=1]="Days",at[at.Months=2]="Months",at[at.Eras=3]="Eras",at))();function _t(L,Y,U,ee){let me=function en(L){if(Yn(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[me,lt=1,yt=1]=L.split("-").map(un=>+un);return yn(me,lt-1,yt)}const U=parseFloat(L);if(!isNaN(L-U))return new Date(U);let ee;if(ee=L.match(vi))return function dn(L){const Y=new Date(0);let U=0,ee=0;const me=L[8]?Y.setUTCFullYear:Y.setFullYear,lt=L[8]?Y.setUTCHours:Y.setHours;L[9]&&(U=Number(L[9]+L[10]),ee=Number(L[9]+L[11])),me.call(Y,Number(L[1]),Number(L[2])-1,Number(L[3]));const yt=Number(L[4]||0)-U,un=Number(L[5]||0)-ee,Rr=Number(L[6]||0),Nn=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return lt.call(Y,yt,un,Rr,Nn),Y}(ee)}const Y=new Date(L);if(!Yn(Y))throw new Error(`Unable to convert "${L}" into a date`);return Y}(L);Y=Sn(U,Y)||Y;let un,yt=[];for(;Y;){if(un=Ke.exec(Y),!un){yt.push(Y);break}{yt=yt.concat(un.slice(1));const Qn=yt.pop();if(!Qn)break;Y=Qn}}let Rr=me.getTimezoneOffset();ee&&(Rr=ke(ee,Rr),me=function Be(L,Y,U){const ee=U?-1:1,me=L.getTimezoneOffset();return function bt(L,Y){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+Y),L}(L,ee*(ke(Y,me)-me))}(me,ee,!0));let Nn="";return yt.forEach(Qn=>{const hr=function De(L){if(Oe[L])return Oe[L];let Y;switch(L){case"G":case"GG":case"GGG":Y=jn(at.Eras,We.Abbreviated);break;case"GGGG":Y=jn(at.Eras,We.Wide);break;case"GGGGG":Y=jn(at.Eras,We.Narrow);break;case"y":Y=nr(Ee.FullYear,1,0,!1,!0);break;case"yy":Y=nr(Ee.FullYear,2,0,!0,!0);break;case"yyy":Y=nr(Ee.FullYear,3,0,!1,!0);break;case"yyyy":Y=nr(Ee.FullYear,4,0,!1,!0);break;case"Y":Y=Ei(1);break;case"YY":Y=Ei(2,!0);break;case"YYY":Y=Ei(3);break;case"YYYY":Y=Ei(4);break;case"M":case"L":Y=nr(Ee.Month,1,1);break;case"MM":case"LL":Y=nr(Ee.Month,2,1);break;case"MMM":Y=jn(at.Months,We.Abbreviated);break;case"MMMM":Y=jn(at.Months,We.Wide);break;case"MMMMM":Y=jn(at.Months,We.Narrow);break;case"LLL":Y=jn(at.Months,We.Abbreviated,nt.Standalone);break;case"LLLL":Y=jn(at.Months,We.Wide,nt.Standalone);break;case"LLLLL":Y=jn(at.Months,We.Narrow,nt.Standalone);break;case"w":Y=ri(1);break;case"ww":Y=ri(2);break;case"W":Y=ri(1,!0);break;case"d":Y=nr(Ee.Date,1);break;case"dd":Y=nr(Ee.Date,2);break;case"c":case"cc":Y=nr(Ee.Day,1);break;case"ccc":Y=jn(at.Days,We.Abbreviated,nt.Standalone);break;case"cccc":Y=jn(at.Days,We.Wide,nt.Standalone);break;case"ccccc":Y=jn(at.Days,We.Narrow,nt.Standalone);break;case"cccccc":Y=jn(at.Days,We.Short,nt.Standalone);break;case"E":case"EE":case"EEE":Y=jn(at.Days,We.Abbreviated);break;case"EEEE":Y=jn(at.Days,We.Wide);break;case"EEEEE":Y=jn(at.Days,We.Narrow);break;case"EEEEEE":Y=jn(at.Days,We.Short);break;case"a":case"aa":case"aaa":Y=jn(at.DayPeriods,We.Abbreviated);break;case"aaaa":Y=jn(at.DayPeriods,We.Wide);break;case"aaaaa":Y=jn(at.DayPeriods,We.Narrow);break;case"b":case"bb":case"bbb":Y=jn(at.DayPeriods,We.Abbreviated,nt.Standalone,!0);break;case"bbbb":Y=jn(at.DayPeriods,We.Wide,nt.Standalone,!0);break;case"bbbbb":Y=jn(at.DayPeriods,We.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":Y=jn(at.DayPeriods,We.Abbreviated,nt.Format,!0);break;case"BBBB":Y=jn(at.DayPeriods,We.Wide,nt.Format,!0);break;case"BBBBB":Y=jn(at.DayPeriods,We.Narrow,nt.Format,!0);break;case"h":Y=nr(Ee.Hours,1,-12);break;case"hh":Y=nr(Ee.Hours,2,-12);break;case"H":Y=nr(Ee.Hours,1);break;case"HH":Y=nr(Ee.Hours,2);break;case"m":Y=nr(Ee.Minutes,1);break;case"mm":Y=nr(Ee.Minutes,2);break;case"s":Y=nr(Ee.Seconds,1);break;case"ss":Y=nr(Ee.Seconds,2);break;case"S":Y=nr(Ee.FractionalSeconds,1);break;case"SS":Y=nr(Ee.FractionalSeconds,2);break;case"SSS":Y=nr(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Y=Xn(be.Short);break;case"ZZZZZ":Y=Xn(be.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=Xn(be.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Y=Xn(be.Long);break;default:return null}return Oe[L]=Y,Y}(Qn);Nn+=hr?hr(me,U,Rr):"''"===Qn?"'":Qn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nn}function yn(L,Y,U){const ee=new Date(0);return ee.setFullYear(L,Y,U),ee.setHours(0,0,0),ee}function Sn(L,Y){const U=function dt(L){return(0,p.cg1)(L)[p.wAp.LocaleId]}(L);if(Lr[U]=Lr[U]||{},Lr[U][Y])return Lr[U][Y];let ee="";switch(Y){case"shortDate":ee=st(L,pt.Short);break;case"mediumDate":ee=st(L,pt.Medium);break;case"longDate":ee=st(L,pt.Long);break;case"fullDate":ee=st(L,pt.Full);break;case"shortTime":ee=Ve(L,pt.Short);break;case"mediumTime":ee=Ve(L,pt.Medium);break;case"longTime":ee=Ve(L,pt.Long);break;case"fullTime":ee=Ve(L,pt.Full);break;case"short":const me=Sn(L,"shortTime"),lt=Sn(L,"shortDate");ee=gr(Xe(L,pt.Short),[me,lt]);break;case"medium":const yt=Sn(L,"mediumTime"),un=Sn(L,"mediumDate");ee=gr(Xe(L,pt.Medium),[yt,un]);break;case"long":const Rr=Sn(L,"longTime"),Nn=Sn(L,"longDate");ee=gr(Xe(L,pt.Long),[Rr,Nn]);break;case"full":const Qn=Sn(L,"fullTime"),hr=Sn(L,"fullDate");ee=gr(Xe(L,pt.Full),[Qn,hr])}return ee&&(Lr[U][Y]=ee),ee}function gr(L,Y){return Y&&(L=L.replace(/\{([^}]+)}/g,function(U,ee){return null!=Y&&ee in Y?Y[ee]:U})),L}function Jt(L,Y,U="-",ee,me){let lt="";(L<0||me&&L<=0)&&(me?L=1-L:(L=-L,lt=U));let yt=String(L);for(;yt.length<Y;)yt="0"+yt;return ee&&(yt=yt.slice(yt.length-Y)),lt+yt}function nr(L,Y,U=0,ee=!1,me=!1){return function(lt,yt){let un=function di(L,Y){switch(L){case Ee.FullYear:return Y.getFullYear();case Ee.Month:return Y.getMonth();case Ee.Date:return Y.getDate();case Ee.Hours:return Y.getHours();case Ee.Minutes:return Y.getMinutes();case Ee.Seconds:return Y.getSeconds();case Ee.FractionalSeconds:return Y.getMilliseconds();case Ee.Day:return Y.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,lt);if((U>0||un>-U)&&(un+=U),L===Ee.Hours)0===un&&-12===U&&(un=12);else if(L===Ee.FractionalSeconds)return function zn(L,Y){return Jt(L,3).substring(0,Y)}(un,Y);const Rr=St(yt,He.MinusSign);return Jt(un,Y,Rr,ee,me)}}function jn(L,Y,U=nt.Format,ee=!1){return function(me,lt){return function Bn(L,Y,U,ee,me,lt){switch(U){case at.Months:return function Bt(L,Y,U){const ee=(0,p.cg1)(L),lt=sn([ee[p.wAp.MonthsFormat],ee[p.wAp.MonthsStandalone]],Y);return sn(lt,U)}(Y,me,ee)[L.getMonth()];case at.Days:return function Yt(L,Y,U){const ee=(0,p.cg1)(L),lt=sn([ee[p.wAp.DaysFormat],ee[p.wAp.DaysStandalone]],Y);return sn(lt,U)}(Y,me,ee)[L.getDay()];case at.DayPeriods:const yt=L.getHours(),un=L.getMinutes();if(lt){const Nn=function Wr(L){const Y=(0,p.cg1)(L);return ar(Y),(Y[p.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?wi(ee):[wi(ee[0]),wi(ee[1])])}(Y),Qn=function Ci(L,Y,U){const ee=(0,p.cg1)(L);ar(ee);const lt=sn([ee[p.wAp.ExtraData][0],ee[p.wAp.ExtraData][1]],Y)||[];return sn(lt,U)||[]}(Y,me,ee),hr=Nn.findIndex(ui=>{if(Array.isArray(ui)){const[Or,Ii]=ui,ps=yt>=Or.hours&&un>=Or.minutes,$r=yt<Ii.hours||yt===Ii.hours&&un<Ii.minutes;if(Or.hours<Ii.hours){if(ps&&$r)return!0}else if(ps||$r)return!0}else if(ui.hours===yt&&ui.minutes===un)return!0;return!1});if(-1!==hr)return Qn[hr]}return function zt(L,Y,U){const ee=(0,p.cg1)(L),lt=sn([ee[p.wAp.DayPeriodsFormat],ee[p.wAp.DayPeriodsStandalone]],Y);return sn(lt,U)}(Y,me,ee)[yt<12?0:1];case at.Eras:return function Et(L,Y){return sn((0,p.cg1)(L)[p.wAp.Eras],Y)}(Y,ee)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(me,lt,L,Y,U,ee)}}function Xn(L){return function(Y,U,ee){const me=-1*ee,lt=St(U,He.MinusSign),yt=me>0?Math.floor(me/60):Math.ceil(me/60);switch(L){case be.Short:return(me>=0?"+":"")+Jt(yt,2,lt)+Jt(Math.abs(me%60),2,lt);case be.ShortGMT:return"GMT"+(me>=0?"+":"")+Jt(yt,1,lt);case be.Long:return"GMT"+(me>=0?"+":"")+Jt(yt,2,lt)+":"+Jt(Math.abs(me%60),2,lt);case be.Extended:return 0===ee?"Z":(me>=0?"+":"")+Jt(yt,2,lt)+":"+Jt(Math.abs(me%60),2,lt);default:throw new Error(`Unknown zone width "${L}"`)}}}function Ir(L){return yn(L.getFullYear(),L.getMonth(),L.getDate()+(4-L.getDay()))}function ri(L,Y=!1){return function(U,ee){let me;if(Y){const lt=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,yt=U.getDate();me=1+Math.floor((yt+lt)/7)}else{const lt=Ir(U),yt=function $n(L){const Y=yn(L,0,1).getDay();return yn(L,0,1+(Y<=4?4:11)-Y)}(lt.getFullYear()),un=lt.getTime()-yt.getTime();me=1+Math.round(un/6048e5)}return Jt(me,L,St(ee,He.MinusSign))}}function Ei(L,Y=!1){return function(U,ee){return Jt(Ir(U).getFullYear(),L,St(ee,He.MinusSign),Y)}}const Oe={};function ke(L,Y){L=L.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(U)?Y:U}function Yn(L){return L instanceof Date&&!isNaN(L.valueOf())}const ir=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Me(L,Y,U,ee,me,lt,yt=!1){let un="",Rr=!1;if(isFinite(L)){let Nn=function sr(L){let ee,me,lt,yt,un,Y=Math.abs(L)+"",U=0;for((me=Y.indexOf("."))>-1&&(Y=Y.replace(".","")),(lt=Y.search(/e/i))>0?(me<0&&(me=lt),me+=+Y.slice(lt+1),Y=Y.substring(0,lt)):me<0&&(me=Y.length),lt=0;"0"===Y.charAt(lt);lt++);if(lt===(un=Y.length))ee=[0],me=1;else{for(un--;"0"===Y.charAt(un);)un--;for(me-=lt,ee=[],yt=0;lt<=un;lt++,yt++)ee[yt]=Number(Y.charAt(lt))}return me>22&&(ee=ee.splice(0,21),U=me-1,me=1),{digits:ee,exponent:U,integerLen:me}}(L);yt&&(Nn=function xn(L){if(0===L.digits[0])return L;const Y=L.digits.length-L.integerLen;return L.exponent?L.exponent+=2:(0===Y?L.digits.push(0,0):1===Y&&L.digits.push(0),L.integerLen+=2),L}(Nn));let Qn=Y.minInt,hr=Y.minFrac,ui=Y.maxFrac;if(lt){const gs=lt.match(ir);if(null===gs)throw new Error(`${lt} is not a valid digit info`);const gi=gs[1],$s=gs[3],jt=gs[5];null!=gi&&(Qn=zr(gi)),null!=$s&&(hr=zr($s)),null!=jt?ui=zr(jt):null!=$s&&hr>ui&&(ui=hr)}!function lr(L,Y,U){if(Y>U)throw new Error(`The minimum number of digits after fraction (${Y}) is higher than the maximum (${U}).`);let ee=L.digits,me=ee.length-L.integerLen;const lt=Math.min(Math.max(Y,me),U);let yt=lt+L.integerLen,un=ee[yt];if(yt>0){ee.splice(Math.max(L.integerLen,yt));for(let hr=yt;hr<ee.length;hr++)ee[hr]=0}else{me=Math.max(0,me),L.integerLen=1,ee.length=Math.max(1,yt=lt+1),ee[0]=0;for(let hr=1;hr<yt;hr++)ee[hr]=0}if(un>=5)if(yt-1<0){for(let hr=0;hr>yt;hr--)ee.unshift(0),L.integerLen++;ee.unshift(1),L.integerLen++}else ee[yt-1]++;for(;me<Math.max(0,lt);me++)ee.push(0);let Rr=0!==lt;const Nn=Y+L.integerLen,Qn=ee.reduceRight(function(hr,ui,Or,Ii){return Ii[Or]=(ui+=hr)<10?ui:ui-10,Rr&&(0===Ii[Or]&&Or>=Nn?Ii.pop():Rr=!1),ui>=10?1:0},0);Qn&&(ee.unshift(Qn),L.integerLen++)}(Nn,hr,ui);let Or=Nn.digits,Ii=Nn.integerLen;const ps=Nn.exponent;let $r=[];for(Rr=Or.every(gs=>!gs);Ii<Qn;Ii++)Or.unshift(0);for(;Ii<0;Ii++)Or.unshift(0);Ii>0?$r=Or.splice(Ii,Or.length):($r=Or,Or=[0]);const Ni=[];for(Or.length>=Y.lgSize&&Ni.unshift(Or.splice(-Y.lgSize,Or.length).join(""));Or.length>Y.gSize;)Ni.unshift(Or.splice(-Y.gSize,Or.length).join(""));Or.length&&Ni.unshift(Or.join("")),un=Ni.join(St(U,ee)),$r.length&&(un+=St(U,me)+$r.join("")),ps&&(un+=St(U,He.Exponential)+"+"+ps)}else un=St(U,He.Infinity);return un=L<0&&!Rr?Y.negPre+un+Y.negSuf:Y.posPre+un+Y.posSuf,un}function bn(L,Y="-"){const U={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ee=L.split(";"),me=ee[0],lt=ee[1],yt=-1!==me.indexOf(".")?me.split("."):[me.substring(0,me.lastIndexOf("0")+1),me.substring(me.lastIndexOf("0")+1)],un=yt[0],Rr=yt[1]||"";U.posPre=un.substring(0,un.indexOf("#"));for(let Qn=0;Qn<Rr.length;Qn++){const hr=Rr.charAt(Qn);"0"===hr?U.minFrac=U.maxFrac=Qn+1:"#"===hr?U.maxFrac=Qn+1:U.posSuf+=hr}const Nn=un.split(",");if(U.gSize=Nn[1]?Nn[1].length:0,U.lgSize=Nn[2]||Nn[1]?(Nn[2]||Nn[1]).length:0,lt){const Qn=me.length-U.posPre.length-U.posSuf.length,hr=lt.indexOf("#");U.negPre=lt.substring(0,hr).replace(/'/g,""),U.negSuf=lt.slice(hr+Qn).replace(/'/g,"")}else U.negPre=Y+U.posPre,U.negSuf=U.posSuf;return U}function zr(L){const Y=parseInt(L);if(isNaN(Y))throw new Error("Invalid integer literal when parsing "+L);return Y}function Is(L,Y){Y=encodeURIComponent(Y);for(const U of L.split(";")){const ee=U.indexOf("="),[me,lt]=-1==ee?[U,""]:[U.slice(0,ee),U.slice(ee+1)];if(me.trim()===Y)return decodeURIComponent(lt)}return null}let Bi=(()=>{class L{constructor(U,ee,me,lt){this._iterableDiffers=U,this._keyValueDiffers=ee,this._ngEl=me,this._renderer=lt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),U.forEachChangedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),U.forEachRemovedItem(ee=>{ee.previousValue&&this._toggleClass(ee.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(ee=>{if("string"!=typeof ee.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(ee.item)}`);this._toggleClass(ee.item,!0)}),U.forEachRemovedItem(ee=>this._toggleClass(ee.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ee=>this._toggleClass(ee,!0)):Object.keys(U).forEach(ee=>this._toggleClass(ee,!!U[ee])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ee=>this._toggleClass(ee,!1)):Object.keys(U).forEach(ee=>this._toggleClass(ee,!1)))}_toggleClass(U,ee){(U=U.trim())&&U.split(/\s+/g).forEach(me=>{ee?this._renderer.addClass(this._ngEl.nativeElement,me):this._renderer.removeClass(this._ngEl.nativeElement,me)})}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},L.\u0275dir=p.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),L})();class An{constructor(Y,U,ee,me){this.$implicit=Y,this.ngForOf=U,this.index=ee,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mn=(()=>{class L{constructor(U,ee,me){this._viewContainer=U,this._template=ee,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ee=this._viewContainer;U.forEachOperation((me,lt,yt)=>{if(null==me.previousIndex)ee.createEmbeddedView(this._template,new An(me.item,this._ngForOf,-1,-1),null===yt?void 0:yt);else if(null==yt)ee.remove(null===lt?void 0:lt);else if(null!==lt){const un=ee.get(lt);ee.move(un,yt),fi(un,me)}});for(let me=0,lt=ee.length;me<lt;me++){const un=ee.get(me).context;un.index=me,un.count=lt,un.ngForOf=this._ngForOf}U.forEachIdentityChange(me=>{fi(ee.get(me.currentIndex),me)})}static ngTemplateContextGuard(U,ee){return!0}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},L.\u0275dir=p.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function fi(L,Y){L.context.$implicit=Y.item}let ko=(()=>{class L{constructor(U,ee){this._viewContainer=U,this._context=new fo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){jr("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){jr("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ee){return!0}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.s_b),p.Y36(p.Rgc))},L.\u0275dir=p.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class fo{constructor(){this.$implicit=null,this.ngIf=null}}function jr(L,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,p.AaK)(Y)}'.`)}class ji{constructor(Y,U){this._viewContainerRef=Y,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Y){Y&&!this._created?this.create():!Y&&this._created&&this.destroy()}}let Pr=(()=>{class L{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(U)}_matchCase(U){const ee=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ee,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ee}_updateDefaultCases(U){if(this._defaultViews&&U!==this._defaultUsed){this._defaultUsed=U;for(let ee=0;ee<this._defaultViews.length;ee++)this._defaultViews[ee].enforceState(U)}}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275dir=p.lG2({type:L,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),L})(),er=(()=>{class L{constructor(U,ee,me){this.ngSwitch=me,me._addCase(),this._view=new ji(U,ee)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Pr,9))},L.\u0275dir=p.lG2({type:L,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),L})(),Kr=(()=>{class L{constructor(U,ee,me){me._addDefault(new ji(U,ee))}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Pr,9))},L.\u0275dir=p.lG2({type:L,selectors:[["","ngSwitchDefault",""]],standalone:!0}),L})(),Bs=(()=>{class L{constructor(U,ee,me){this._ngEl=U,this._differs=ee,this._renderer=me,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,ee){const[me,lt]=U.split("."),yt=-1===me.indexOf("-")?void 0:p.JOm.DashCase;null!=ee?this._renderer.setStyle(this._ngEl.nativeElement,me,lt?`${ee}${lt}`:ee,yt):this._renderer.removeStyle(this._ngEl.nativeElement,me,yt)}_applyChanges(U){U.forEachRemovedItem(ee=>this._setStyle(ee.key,null)),U.forEachAddedItem(ee=>this._setStyle(ee.key,ee.currentValue)),U.forEachChangedItem(ee=>this._setStyle(ee.key,ee.currentValue))}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},L.\u0275dir=p.lG2({type:L,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),L})(),bs=(()=>{class L{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:me,ngTemplateOutletContext:lt,ngTemplateOutletInjector:yt}=this;this._viewRef=ee.createEmbeddedView(me,lt,yt?{injector:yt}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.s_b))},L.\u0275dir=p.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]}),L})();function fe(L,Y){return new p.vHH(2100,!1)}class Ze{createSubscription(Y,U){return Y.subscribe({next:U,error:ee=>{throw ee}})}dispose(Y){Y.unsubscribe()}}class Le{createSubscription(Y,U){return Y.then(U,ee=>{throw ee})}dispose(Y){}}const ht=new Le,Xt=new Ze;let Zt=(()=>{class L{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ee=>this._updateLatestValue(U,ee))}_selectStrategy(U){if((0,p.QGY)(U))return ht;if((0,p.F4k)(U))return Xt;throw fe()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ee){U===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.sBO,16))},L.\u0275pipe=p.Yjl({name:"async",type:L,pure:!1,standalone:!0}),L})(),Kn=(()=>{class L{transform(U){if(null==U)return null;if("string"!=typeof U)throw fe();return U.toLowerCase()}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275pipe=p.Yjl({name:"lowercase",type:L,pure:!0,standalone:!0}),L})();const Vr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let _r=(()=>{class L{transform(U){if(null==U)return null;if("string"!=typeof U)throw fe();return U.replace(Vr,ee=>ee[0].toUpperCase()+ee.slice(1).toLowerCase())}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275pipe=p.Yjl({name:"titlecase",type:L,pure:!0,standalone:!0}),L})();const mr=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Rn=(()=>{class L{constructor(U,ee){this.locale=U,this.defaultTimezone=ee}transform(U,ee="mediumDate",me,lt){var yt;if(null==U||""===U||U!=U)return null;try{return _t(U,ee,lt||this.locale,null!==(yt=null!=me?me:this.defaultTimezone)&&void 0!==yt?yt:void 0)}catch(un){throw fe()}}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.soG,16),p.Y36(mr,24))},L.\u0275pipe=p.Yjl({name:"date",type:L,pure:!0,standalone:!0}),L})(),li=(()=>{class L{transform(U){return JSON.stringify(U,null,2)}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275pipe=p.Yjl({name:"json",type:L,pure:!1,standalone:!0}),L})(),Qi=(()=>{class L{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=Zi}transform(U,ee=Zi){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const me=this.differ.diff(U),lt=ee!==this.compareFn;return me&&(this.keyValues=[],me.forEachItem(yt=>{this.keyValues.push(function xi(L,Y){return{key:L,value:Y}}(yt.key,yt.currentValue))})),(me||lt)&&(this.keyValues.sort(ee),this.compareFn=ee),this.keyValues}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.aQg,16))},L.\u0275pipe=p.Yjl({name:"keyvalue",type:L,pure:!1,standalone:!0}),L})();function Zi(L,Y){const U=L.key,ee=Y.key;if(U===ee)return 0;if(void 0===U)return 1;if(void 0===ee)return-1;if(null===U)return 1;if(null===ee)return-1;if("string"==typeof U&&"string"==typeof ee)return U<ee?-1:1;if("number"==typeof U&&"number"==typeof ee)return U-ee;if("boolean"==typeof U&&"boolean"==typeof ee)return U<ee?-1:1;const me=String(U),lt=String(ee);return me==lt?0:me<lt?-1:1}let Hn=(()=>{class L{constructor(U){this._locale=U}transform(U,ee,me){if(!po(U))return null;me=me||this._locale;try{return function Kt(L,Y,U){return Me(L,bn(Tn(Y,Ht.Decimal),St(Y,He.MinusSign)),Y,He.Group,He.Decimal,U)}(Ao(U),me,ee)}catch(lt){throw fe()}}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.soG,16))},L.\u0275pipe=p.Yjl({name:"number",type:L,pure:!0,standalone:!0}),L})(),Ts=(()=>{class L{constructor(U,ee="USD"){this._locale=U,this._defaultCurrencyCode=ee}transform(U,ee=this._defaultCurrencyCode,me="symbol",lt,yt){if(!po(U))return null;yt=yt||this._locale,"boolean"==typeof me&&(me=me?"symbol":"code");let un=ee||this._defaultCurrencyCode;"code"!==me&&(un="symbol"===me||"symbol-narrow"===me?function Ns(L,Y,U="en"){const ee=function Yr(L){return(0,p.cg1)(L)[p.wAp.Currencies]}(U)[L]||it[L]||[],me=ee[1];return"narrow"===Y&&"string"==typeof me?me:ee[0]||L}(un,"symbol"===me?"wide":"narrow",yt):me);try{return function xe(L,Y,U,ee,me){const yt=bn(Tn(Y,Ht.Currency),St(Y,He.MinusSign));return yt.minFrac=function Pi(L){let Y;const U=it[L];return U&&(Y=U[2]),"number"==typeof Y?Y:2}(ee),yt.maxFrac=yt.minFrac,Me(L,yt,Y,He.CurrencyGroup,He.CurrencyDecimal,me).replace("\xa4",U).replace("\xa4","").trim()}(Ao(U),yt,un,ee,lt)}catch(Rr){throw fe()}}}return L.\u0275fac=function(U){return new(U||L)(p.Y36(p.soG,16),p.Y36(p.EJc,16))},L.\u0275pipe=p.Yjl({name:"currency",type:L,pure:!0,standalone:!0}),L})();function po(L){return!(null==L||""===L||L!=L)}function Ao(L){if("string"==typeof L&&!isNaN(Number(L)-parseFloat(L)))return Number(L);if("number"!=typeof L)throw new Error(`${L} is not a number`);return L}let go=(()=>{class L{}return L.\u0275fac=function(U){return new(U||L)},L.\u0275mod=p.oAB({type:L}),L.\u0275inj=p.cJS({}),L})();const ks="browser";function hs(L){return L===ks}let Fo=(()=>{class L{}return L.\u0275prov=(0,p.Yz7)({token:L,providedIn:"root",factory:()=>new Zo((0,p.LFG)(we),window)}),L})();class Zo{constructor(Y,U){this.document=Y,this.window=U,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const U=function pi(L,Y){const U=L.getElementById(Y)||L.getElementsByName(Y)[0];if(U)return U;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const ee=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let me=ee.currentNode;for(;me;){const lt=me.shadowRoot;if(lt){const yt=lt.getElementById(Y)||lt.querySelector(`[name="${Y}"]`);if(yt)return yt}me=ee.nextNode()}}return null}(this.document,Y);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(Y){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=Y)}}scrollToElement(Y){const U=Y.getBoundingClientRect(),ee=U.left+this.window.pageXOffset,me=U.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(ee-lt[0],me-lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Y=mo(this.window.history)||mo(Object.getPrototypeOf(this.window.history));return!(!Y||!Y.writable&&!Y.set)}catch(Y){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Y){return!1}}}function mo(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class mn{}},520:(xt,Pe,A)=>{A.d(Pe,{JF:()=>Pi,LE:()=>Je,TP:()=>Yt,UA:()=>He,WM:()=>re,Zn:()=>pt,eN:()=>dt});var p=A(9808),b=A(5e3),ie=A(9646),H=A(9751),ge=A(4351),pe=A(9300),we=A(4004);class se{}class Se{}class re{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?this.lazyInit="string"==typeof be?()=>{this.headers=new Map,be.split("\n").forEach(Ee=>{const at=Ee.indexOf(":");if(at>0){const _t=Ee.slice(0,at),yn=_t.toLowerCase(),Sn=Ee.slice(at+1).trim();this.maybeSetNormalizedName(_t,yn),this.headers.has(yn)?this.headers.get(yn).push(Sn):this.headers.set(yn,[Sn])}})}:()=>{this.headers=new Map,Object.keys(be).forEach(Ee=>{let at=be[Ee];const _t=Ee.toLowerCase();"string"==typeof at&&(at=[at]),at.length>0&&(this.headers.set(_t,at),this.maybeSetNormalizedName(Ee,_t))})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Ee=this.headers.get(be.toLowerCase());return Ee&&Ee.length>0?Ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Ee){return this.clone({name:be,value:Ee,op:"a"})}set(be,Ee){return this.clone({name:be,value:Ee,op:"s"})}delete(be,Ee){return this.clone({name:be,value:Ee,op:"d"})}maybeSetNormalizedName(be,Ee){this.normalizedNames.has(Ee)||this.normalizedNames.set(Ee,be)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Ee=>{this.headers.set(Ee,be.headers.get(Ee)),this.normalizedNames.set(Ee,be.normalizedNames.get(Ee))})}clone(be){const Ee=new re;return Ee.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,Ee.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Ee}applyUpdate(be){const Ee=be.name.toLowerCase();switch(be.op){case"a":case"s":let at=be.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(be.name,Ee);const _t=("a"===be.op?this.headers.get(Ee):void 0)||[];_t.push(...at),this.headers.set(Ee,_t);break;case"d":const yn=be.value;if(yn){let Sn=this.headers.get(Ee);if(!Sn)return;Sn=Sn.filter(gr=>-1===yn.indexOf(gr)),0===Sn.length?(this.headers.delete(Ee),this.normalizedNames.delete(Ee)):this.headers.set(Ee,Sn)}else this.headers.delete(Ee),this.normalizedNames.delete(Ee)}}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ee=>be(this.normalizedNames.get(Ee),this.headers.get(Ee)))}}class ve{encodeKey(be){return Ye(be)}encodeValue(be){return Ye(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const qe=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye(Ke){return encodeURIComponent(Ke).replace(qe,(be,Ee)=>{var at;return null!==(at=Ne[Ee])&&void 0!==at?at:be})}function $e(Ke){return`${Ke}`}class Je{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new ve,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rt(Ke,be){const Ee=new Map;return Ke.length>0&&Ke.replace(/^\?/,"").split("&").forEach(_t=>{const yn=_t.indexOf("="),[Sn,gr]=-1==yn?[be.decodeKey(_t),""]:[be.decodeKey(_t.slice(0,yn)),be.decodeValue(_t.slice(yn+1))],Jt=Ee.get(Sn)||[];Jt.push(gr),Ee.set(Sn,Jt)}),Ee}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Ee=>{const at=be.fromObject[Ee],_t=Array.isArray(at)?at.map($e):[$e(at)];this.map.set(Ee,_t)})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Ee=this.map.get(be);return Ee?Ee[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Ee){return this.clone({param:be,value:Ee,op:"a"})}appendAll(be){const Ee=[];return Object.keys(be).forEach(at=>{const _t=be[at];Array.isArray(_t)?_t.forEach(yn=>{Ee.push({param:at,value:yn,op:"a"})}):Ee.push({param:at,value:_t,op:"a"})}),this.clone(Ee)}set(be,Ee){return this.clone({param:be,value:Ee,op:"s"})}delete(be,Ee){return this.clone({param:be,value:Ee,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Ee=this.encoder.encodeKey(be);return this.map.get(be).map(at=>Ee+"="+this.encoder.encodeValue(at)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Ee=new Je({encoder:this.encoder});return Ee.cloneFrom=this.cloneFrom||this,Ee.updates=(this.updates||[]).concat(be),Ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Ee=("a"===be.op?this.map.get(be.param):void 0)||[];Ee.push($e(be.value)),this.map.set(be.param,Ee);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let at=this.map.get(be.param)||[];const _t=at.indexOf($e(be.value));-1!==_t&&at.splice(_t,1),at.length>0?this.map.set(be.param,at):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class Qt{constructor(){this.map=new Map}set(be,Ee){return this.map.set(be,Ee),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function je(Ke){return"undefined"!=typeof ArrayBuffer&&Ke instanceof ArrayBuffer}function Ct(Ke){return"undefined"!=typeof Blob&&Ke instanceof Blob}function Rt(Ke){return"undefined"!=typeof FormData&&Ke instanceof FormData}class Ht{constructor(be,Ee,at,_t){let yn;if(this.url=Ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function ze(Ke){switch(Ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_t?(this.body=void 0!==at?at:null,yn=_t):yn=at,yn&&(this.reportProgress=!!yn.reportProgress,this.withCredentials=!!yn.withCredentials,yn.responseType&&(this.responseType=yn.responseType),yn.headers&&(this.headers=yn.headers),yn.context&&(this.context=yn.context),yn.params&&(this.params=yn.params)),this.headers||(this.headers=new re),this.context||(this.context=new Qt),this.params){const Sn=this.params.toString();if(0===Sn.length)this.urlWithParams=Ee;else{const gr=Ee.indexOf("?");this.urlWithParams=Ee+(-1===gr?"?":gr<Ee.length-1?"&":"")+Sn}}else this.params=new Je,this.urlWithParams=Ee}serializeBody(){return null===this.body?null:je(this.body)||Ct(this.body)||Rt(this.body)||function it(Ke){return"undefined"!=typeof URLSearchParams&&Ke instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Rt(this.body)?null:Ct(this.body)?this.body.type||null:je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){var Ee;const at=be.method||this.method,_t=be.url||this.url,yn=be.responseType||this.responseType,Sn=void 0!==be.body?be.body:this.body,gr=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,Jt=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let zn=be.headers||this.headers,nr=be.params||this.params;const di=null!==(Ee=be.context)&&void 0!==Ee?Ee:this.context;return void 0!==be.setHeaders&&(zn=Object.keys(be.setHeaders).reduce((jn,Bn)=>jn.set(Bn,be.setHeaders[Bn]),zn)),be.setParams&&(nr=Object.keys(be.setParams).reduce((jn,Bn)=>jn.set(Bn,be.setParams[Bn]),nr)),new Ht(at,_t,Sn,{params:nr,headers:zn,context:di,reportProgress:Jt,responseType:yn,withCredentials:gr})}}var Ot=(()=>((Ot=Ot||{})[Ot.Sent=0]="Sent",Ot[Ot.UploadProgress=1]="UploadProgress",Ot[Ot.ResponseHeader=2]="ResponseHeader",Ot[Ot.DownloadProgress=3]="DownloadProgress",Ot[Ot.Response=4]="Response",Ot[Ot.User=5]="User",Ot))();class nt{constructor(be,Ee=200,at="OK"){this.headers=be.headers||new re,this.status=void 0!==be.status?be.status:Ee,this.statusText=be.statusText||at,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class We extends nt{constructor(be={}){super(be),this.type=Ot.ResponseHeader}clone(be={}){return new We({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class pt extends nt{constructor(be={}){super(be),this.type=Ot.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new pt({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class He extends nt{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function Vt(Ke,be){return{body:be,headers:Ke.headers,context:Ke.context,observe:Ke.observe,params:Ke.params,reportProgress:Ke.reportProgress,responseType:Ke.responseType,withCredentials:Ke.withCredentials}}let dt=(()=>{class Ke{constructor(Ee){this.handler=Ee}request(Ee,at,_t={}){let yn;if(Ee instanceof Ht)yn=Ee;else{let Jt,zn;Jt=_t.headers instanceof re?_t.headers:new re(_t.headers),_t.params&&(zn=_t.params instanceof Je?_t.params:new Je({fromObject:_t.params})),yn=new Ht(Ee,at,void 0!==_t.body?_t.body:null,{headers:Jt,context:_t.context,params:zn,reportProgress:_t.reportProgress,responseType:_t.responseType||"json",withCredentials:_t.withCredentials})}const Sn=(0,ie.of)(yn).pipe((0,ge.b)(Jt=>this.handler.handle(Jt)));if(Ee instanceof Ht||"events"===_t.observe)return Sn;const gr=Sn.pipe((0,pe.h)(Jt=>Jt instanceof pt));switch(_t.observe||"body"){case"body":switch(yn.responseType){case"arraybuffer":return gr.pipe((0,we.U)(Jt=>{if(null!==Jt.body&&!(Jt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Jt.body}));case"blob":return gr.pipe((0,we.U)(Jt=>{if(null!==Jt.body&&!(Jt.body instanceof Blob))throw new Error("Response is not a Blob.");return Jt.body}));case"text":return gr.pipe((0,we.U)(Jt=>{if(null!==Jt.body&&"string"!=typeof Jt.body)throw new Error("Response is not a string.");return Jt.body}));default:return gr.pipe((0,we.U)(Jt=>Jt.body))}case"response":return gr;default:throw new Error(`Unreachable: unhandled observe type ${_t.observe}}`)}}delete(Ee,at={}){return this.request("DELETE",Ee,at)}get(Ee,at={}){return this.request("GET",Ee,at)}head(Ee,at={}){return this.request("HEAD",Ee,at)}jsonp(Ee,at){return this.request("JSONP",Ee,{params:(new Je).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ee,at={}){return this.request("OPTIONS",Ee,at)}patch(Ee,at,_t={}){return this.request("PATCH",Ee,Vt(_t,at))}post(Ee,at,_t={}){return this.request("POST",Ee,Vt(_t,at))}put(Ee,at,_t={}){return this.request("PUT",Ee,Vt(_t,at))}}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)(b.LFG(se))},Ke.\u0275prov=b.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class zt{constructor(be,Ee){this.next=be,this.interceptor=Ee}handle(be){return this.interceptor.intercept(be,this.next)}}const Yt=new b.OlP("HTTP_INTERCEPTORS");let Bt=(()=>{class Ke{intercept(Ee,at){return at.handle(Ee)}}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)},Ke.\u0275prov=b.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const wr=/^\)\]\}',?\n/;let Yr=(()=>{class Ke{constructor(Ee){this.xhrFactory=Ee}handle(Ee){if("JSONP"===Ee.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new H.y(at=>{const _t=this.xhrFactory.build();if(_t.open(Ee.method,Ee.urlWithParams),Ee.withCredentials&&(_t.withCredentials=!0),Ee.headers.forEach((Bn,Xn)=>_t.setRequestHeader(Bn,Xn.join(","))),Ee.headers.has("Accept")||_t.setRequestHeader("Accept","application/json, text/plain, */*"),!Ee.headers.has("Content-Type")){const Bn=Ee.detectContentTypeHeader();null!==Bn&&_t.setRequestHeader("Content-Type",Bn)}if(Ee.responseType){const Bn=Ee.responseType.toLowerCase();_t.responseType="json"!==Bn?Bn:"text"}const yn=Ee.serializeBody();let Sn=null;const gr=()=>{if(null!==Sn)return Sn;const Bn=_t.statusText||"OK",Xn=new re(_t.getAllResponseHeaders()),ni=function Dr(Ke){return"responseURL"in Ke&&Ke.responseURL?Ke.responseURL:/^X-Request-URL:/m.test(Ke.getAllResponseHeaders())?Ke.getResponseHeader("X-Request-URL"):null}(_t)||Ee.url;return Sn=new We({headers:Xn,status:_t.status,statusText:Bn,url:ni}),Sn},Jt=()=>{let{headers:Bn,status:Xn,statusText:ni,url:Gr}=gr(),$n=null;204!==Xn&&($n=void 0===_t.response?_t.responseText:_t.response),0===Xn&&(Xn=$n?200:0);let Ir=Xn>=200&&Xn<300;if("json"===Ee.responseType&&"string"==typeof $n){const ri=$n;$n=$n.replace(wr,"");try{$n=""!==$n?JSON.parse($n):null}catch(Ei){$n=ri,Ir&&(Ir=!1,$n={error:Ei,text:$n})}}Ir?(at.next(new pt({body:$n,headers:Bn,status:Xn,statusText:ni,url:Gr||void 0})),at.complete()):at.error(new He({error:$n,headers:Bn,status:Xn,statusText:ni,url:Gr||void 0}))},zn=Bn=>{const{url:Xn}=gr(),ni=new He({error:Bn,status:_t.status||0,statusText:_t.statusText||"Unknown Error",url:Xn||void 0});at.error(ni)};let nr=!1;const di=Bn=>{nr||(at.next(gr()),nr=!0);let Xn={type:Ot.DownloadProgress,loaded:Bn.loaded};Bn.lengthComputable&&(Xn.total=Bn.total),"text"===Ee.responseType&&!!_t.responseText&&(Xn.partialText=_t.responseText),at.next(Xn)},jn=Bn=>{let Xn={type:Ot.UploadProgress,loaded:Bn.loaded};Bn.lengthComputable&&(Xn.total=Bn.total),at.next(Xn)};return _t.addEventListener("load",Jt),_t.addEventListener("error",zn),_t.addEventListener("timeout",zn),_t.addEventListener("abort",zn),Ee.reportProgress&&(_t.addEventListener("progress",di),null!==yn&&_t.upload&&_t.upload.addEventListener("progress",jn)),_t.send(yn),at.next({type:Ot.Sent}),()=>{_t.removeEventListener("error",zn),_t.removeEventListener("abort",zn),_t.removeEventListener("load",Jt),_t.removeEventListener("timeout",zn),Ee.reportProgress&&(_t.removeEventListener("progress",di),null!==yn&&_t.upload&&_t.upload.removeEventListener("progress",jn)),_t.readyState!==_t.DONE&&_t.abort()}})}}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)(b.LFG(p.JF))},Ke.\u0275prov=b.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const kr=new b.OlP("XSRF_COOKIE_NAME"),ar=new b.OlP("XSRF_HEADER_NAME");class Wr{}let Ci=(()=>{class Ke{constructor(Ee,at,_t){this.doc=Ee,this.platform=at,this.cookieName=_t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ee=this.doc.cookie||"";return Ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(Ee,this.cookieName),this.lastCookieString=Ee),this.lastToken}}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)(b.LFG(p.K0),b.LFG(b.Lbi),b.LFG(kr))},Ke.\u0275prov=b.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),Mi=(()=>{class Ke{constructor(Ee,at){this.tokenService=Ee,this.headerName=at}intercept(Ee,at){const _t=Ee.url.toLowerCase();if("GET"===Ee.method||"HEAD"===Ee.method||_t.startsWith("http://")||_t.startsWith("https://"))return at.handle(Ee);const yn=this.tokenService.getToken();return null!==yn&&!Ee.headers.has(this.headerName)&&(Ee=Ee.clone({headers:Ee.headers.set(this.headerName,yn)})),at.handle(Ee)}}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)(b.LFG(Wr),b.LFG(ar))},Ke.\u0275prov=b.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),sn=(()=>{class Ke{constructor(Ee,at){this.backend=Ee,this.injector=at,this.chain=null}handle(Ee){if(null===this.chain){const at=this.injector.get(Yt,[]);this.chain=at.reduceRight((_t,yn)=>new zt(_t,yn),this.backend)}return this.chain.handle(Ee)}}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)(b.LFG(Se),b.LFG(b.zs3))},Ke.\u0275prov=b.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),Fr=(()=>{class Ke{static disable(){return{ngModule:Ke,providers:[{provide:Mi,useClass:Bt}]}}static withOptions(Ee={}){return{ngModule:Ke,providers:[Ee.cookieName?{provide:kr,useValue:Ee.cookieName}:[],Ee.headerName?{provide:ar,useValue:Ee.headerName}:[]]}}}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)},Ke.\u0275mod=b.oAB({type:Ke}),Ke.\u0275inj=b.cJS({providers:[Mi,{provide:Yt,useExisting:Mi,multi:!0},{provide:Wr,useClass:Ci},{provide:kr,useValue:"XSRF-TOKEN"},{provide:ar,useValue:"X-XSRF-TOKEN"}]}),Ke})(),Pi=(()=>{class Ke{}return Ke.\u0275fac=function(Ee){return new(Ee||Ke)},Ke.\u0275mod=b.oAB({type:Ke}),Ke.\u0275inj=b.cJS({providers:[dt,{provide:se,useClass:sn},Yr,{provide:Se,useExisting:Yr}],imports:[Fr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ke})()},5e3:(xt,Pe,A)=>{A.d(Pe,{$8M:()=>gt,$Z:()=>Nh,AFp:()=>sE,ALo:()=>D0,AaK:()=>se,Akn:()=>au,AsE:()=>dg,B6R:()=>$n,BQk:()=>Ld,CHM:()=>ma,CRH:()=>k0,CZH:()=>uy,CqO:()=>ng,D6c:()=>MD,DdM:()=>f0,Dn7:()=>T0,EJc:()=>Gw,EiD:()=>Ro,EpF:()=>Lm,F$t:()=>Ud,F4k:()=>Vm,FYo:()=>Pf,FiY:()=>ml,G48:()=>dD,Gf:()=>R0,GfV:()=>nc,GkF:()=>Vd,Gpc:()=>ue,Gre:()=>w_,HOy:()=>hg,HTZ:()=>y0,Hsn:()=>Bd,Ikx:()=>Yo,IyS:()=>I_,JOm:()=>ou,JVY:()=>Nr,Jf7:()=>Ff,Jzz:()=>f,KtG:()=>La,L6k:()=>Li,LAX:()=>vs,LFG:()=>ts,LSH:()=>xa,Lbi:()=>Bw,Lck:()=>jC,MAs:()=>km,MGl:()=>Jc,MMx:()=>R_,MT6:()=>D_,NdJ:()=>df,O4$:()=>un,OlP:()=>ii,Oqu:()=>Zm,PXZ:()=>sD,PiD:()=>Oa,Q6J:()=>Xp,QGY:()=>tg,QP$:()=>Yn,QbO:()=>jw,Qsj:()=>ch,R0b:()=>lu,RDi:()=>ru,Rgc:()=>Eg,SBq:()=>tc,Sil:()=>zw,Suo:()=>N0,TTD:()=>is,TgZ:()=>_c,Tol:()=>Cc,Udp:()=>ug,VKq:()=>p0,W1O:()=>U0,WLB:()=>g0,X6Q:()=>cD,XFs:()=>sn,Xpm:()=>Gr,Xts:()=>Yu,Y36:()=>$c,YKP:()=>r0,YNc:()=>Fd,Yjl:()=>bt,Yz7:()=>Ve,Z0I:()=>rr,ZZ4:()=>rv,_Bn:()=>n0,_UZ:()=>ju,_Vd:()=>Gl,_c5:()=>SD,_uU:()=>__,aQg:()=>iv,c2e:()=>Hw,cJS:()=>St,cg1:()=>b_,d8E:()=>wc,dDg:()=>tD,dqk:()=>_t,eBb:()=>_s,eFA:()=>_E,ekj:()=>Wd,eoX:()=>gE,evT:()=>Og,f3M:()=>pl,g9A:()=>aE,gL8:()=>Jm,h0i:()=>Df,hGG:()=>AD,hij:()=>Ef,iGM:()=>x0,ifc:()=>at,ip1:()=>iE,jDz:()=>o0,kEZ:()=>m0,kL8:()=>Av,kcU:()=>Nn,lG2:()=>ke,lcZ:()=>I0,lnq:()=>td,lqb:()=>mu,lri:()=>fE,mCW:()=>E,n5z:()=>Iu,oAB:()=>Ei,oJD:()=>iu,oxw:()=>ff,pB0:()=>bo,q3G:()=>us,q4F:()=>ud,qLn:()=>Cs,qOj:()=>Ad,qZA:()=>cf,qzn:()=>Un,rWj:()=>pE,s9C:()=>pf,sBO:()=>hD,sIi:()=>Od,s_b:()=>oy,soG:()=>cy,tBr:()=>Fl,tb:()=>lE,tp0:()=>Ka,uIk:()=>Qp,uOi:()=>nd,vHH:()=>Ne,vpe:()=>Gu,wAp:()=>yr,xi3:()=>b0,xp6:()=>Xg,ynx:()=>Hu,z2F:()=>dy,z3N:()=>fn,zSh:()=>Qu,zs3:()=>Nu});var p=A(7579),b=A(727),ie=A(9751),H=A(6451),ge=A(3099);function pe(n){for(let r in n)if(n[r]===pe)return r;throw Error("Could not find renamed property on target object.")}function we(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function se(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(se).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Se(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const re=pe({__forward_ref__:pe});function ue(n){return n.__forward_ref__=ue,n.toString=function(){return se(this())},n}function ve(n){return rt(n)?n():n}function rt(n){return"function"==typeof n&&n.hasOwnProperty(re)&&n.__forward_ref__===ue}class Ne extends Error{constructor(r,s){super(function Ye(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function $e(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n,r){throw new Ne(-201,!1)}function Bt(n,r){null==n&&function Et(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Ve(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tn(n){return wr(n,ar)||wr(n,Ci)}function rr(n){return null!==Tn(n)}function wr(n,r){return n.hasOwnProperty(r)?n[r]:null}function kr(n){return n&&(n.hasOwnProperty(Wr)||n.hasOwnProperty(Mi))?n[Wr]:null}const ar=pe({\u0275prov:pe}),Wr=pe({\u0275inj:pe}),Ci=pe({ngInjectableDef:pe}),Mi=pe({ngInjectorDef:pe});var sn=(()=>((sn=sn||{})[sn.Default=0]="Default",sn[sn.Host=1]="Host",sn[sn.Self=2]="Self",sn[sn.SkipSelf=4]="SkipSelf",sn[sn.Optional=8]="Optional",sn))();let wi;function Fr(n){const r=wi;return wi=n,r}function Pi(n,r,s){const a=Tn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&sn.Optional?null:void 0!==r?r:void je(se(n))}function Lr(n){return{toString:n}.toString()}var Ke=(()=>((Ke=Ke||{})[Ke.OnPush=0]="OnPush",Ke[Ke.Default=1]="Default",Ke))(),at=(()=>{return(n=at||(at={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",at;var n})();const _t=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),gr={},Jt=[],zn=pe({\u0275cmp:pe}),nr=pe({\u0275dir:pe}),di=pe({\u0275pipe:pe}),jn=pe({\u0275mod:pe}),Bn=pe({\u0275fac:pe}),Xn=pe({__NG_ELEMENT_ID__:pe});let ni=0;function Gr(n){return Lr(()=>{const s=!0===n.standalone,a={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Jt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||at.Emulated,id:"c"+ni++,styles:n.styles||Jt,_:null,setInput:null,schemas:n.schemas||null,tView:null},g=n.dependencies,w=n.features;return d.inputs=De(n.inputs,a),d.outputs=De(n.outputs),w&&w.forEach(O=>O(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ir).filter(ri):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(dn).filter(ri):null,d})}function $n(n,r,s){const a=n.\u0275cmp;a.directiveDefs=()=>("function"==typeof r?r():r).map(Ir),a.pipeDefs=()=>("function"==typeof s?s():s).map(dn)}function Ir(n){return Be(n)||en(n)}function ri(n){return null!==n}function Ei(n){return Lr(()=>({type:n.type,bootstrap:n.bootstrap||Jt,declarations:n.declarations||Jt,imports:n.imports||Jt,exports:n.exports||Jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function De(n,r){if(null==n)return gr;const s={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),s[d]=a,r&&(r[d]=g)}return s}const ke=Gr;function bt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Be(n){return n[zn]||null}function en(n){return n[nr]||null}function dn(n){return n[di]||null}function Yn(n){const r=Be(n)||en(n)||dn(n);return null!==r&&r.standalone}function ir(n,r){const s=n[jn]||null;if(!s&&!0===r)throw new Error(`Type ${se(n)} does not have '\u0275mod' property.`);return s}function jr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ji(n){return Array.isArray(n)&&!0===n[1]}function Pr(n){return 0!=(8&n.flags)}function er(n){return 2==(2&n.flags)}function Kr(n){return 1==(1&n.flags)}function rs(n){return null!==n.template}function qs(n){return 0!=(256&n[2])}function Zi(n,r){return n.hasOwnProperty(Bn)?n[Bn]:null}class Hn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function is(){return Ts}function Ts(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ao),po}function po(){const n=Ss(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===gr)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Ao(n,r,s,a){const d=Ss(n)||function go(n,r){return n[Qo]=r}(n,{previous:gr,current:null}),g=d.current||(d.current={}),w=d.previous,O=this.declaredInputs[s],V=w[O];g[O]=new Hn(V&&V.currentValue,r,w===gr),n[a]=r}is.ngInherit=!0;const Qo="__ngSimpleChanges__";function Ss(n){return n[Qo]||null}function Qr(n){for(;Array.isArray(n);)n=n[0];return n}function mo(n,r){return Qr(r[n])}function pi(n,r){return Qr(r[n.index])}function mn(n,r){return n.data[r]}function Zs(n,r){return n[r]}function ur(n,r){const s=r[n];return jr(s)?s:s[0]}function vr(n){return 64==(64&n[2])}function os(n,r){return null==r?null:n[r]}function Vo(n){n[18]=0}function Js(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Dn={lFrame:ea(null),bindingsEnabled:!0};function Jo(){return Dn.bindingsEnabled}function Nt(){return Dn.lFrame.lView}function dr(){return Dn.lFrame.tView}function ma(n){return Dn.lFrame.contextLView=n,n[8]}function La(n){return Dn.lFrame.contextLView=null,n}function Ri(){let n=G();for(;null!==n&&64===n.type;)n=n.parent;return n}function G(){return Dn.lFrame.currentTNode}function k(n,r){const s=Dn.lFrame;s.currentTNode=n,s.isParent=r}function X(){return Dn.lFrame.isParent}function mt(){Dn.lFrame.isParent=!1}function Jr(){const n=Dn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function so(){return Dn.lFrame.bindingIndex}function _o(){return Dn.lFrame.bindingIndex++}function ya(n){const r=Dn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function fs(n,r){const s=Dn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Uo(r)}function Uo(n){Dn.lFrame.currentDirectiveIndex=n}function Ba(n){const r=Dn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function sa(){return Dn.lFrame.currentQueryIndex}function Bo(n){Dn.lFrame.currentQueryIndex=n}function eo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Xo(n,r,s){if(s&sn.SkipSelf){let d=r,g=n;for(;!(d=d.parent,null!==d||s&sn.Host||(d=eo(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;r=d,n=g}const a=Dn.lFrame=Za();return a.currentTNode=r,a.lView=n,!0}function ls(n){const r=Za(),s=n[1];Dn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Za(){const n=Dn.lFrame,r=null===n?null:n.child;return null===r?ea(n):r}function ea(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function va(){const n=Dn.lFrame;return Dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const L=va;function Y(){const n=va();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function me(){return Dn.lFrame.selectedIndex}function lt(n){Dn.lFrame.selectedIndex=n}function yt(){const n=Dn.lFrame;return mn(n.tView,n.selectedIndex)}function un(){Dn.lFrame.currentNamespace="svg"}function Nn(){!function Qn(){Dn.lFrame.currentNamespace=null}()}function Or(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const g=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:O,ngAfterViewInit:V,ngAfterViewChecked:K,ngOnDestroy:ne}=g;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),O&&((n.contentHooks||(n.contentHooks=[])).push(s,O),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,O)),V&&(n.viewHooks||(n.viewHooks=[])).push(-s,V),K&&((n.viewHooks||(n.viewHooks=[])).push(s,K),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,K)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ne)}}function Ii(n,r,s){Ni(n,r,3,s)}function ps(n,r,s,a){(3&n[2])===s&&Ni(n,r,s,a)}function $r(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Ni(n,r,s,a){const g=null!=a?a:-1,w=r.length-1;let O=0;for(let V=void 0!==a?65535&n[18]:0;V<w;V++)if("number"==typeof r[V+1]){if(O=r[V],null!=a&&O>=a)break}else r[V]<0&&(n[18]+=65536),(O<g||-1==g)&&(gs(n,s,r,V),n[18]=(4294901760&n[18])+V+2),V++}function gs(n,r,s,a){const d=s[a]<0,g=s[a+1],O=n[d?-s[a]:s[a]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{g.call(O)}finally{}}}else try{g.call(O)}finally{}}class $s{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ft(n,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const g=s[a++],w=s[a++],O=s[a++];n.setAttribute(r,w,O,g)}else{const g=d,w=s[++a];bi(g)?n.setProperty(r,g,w):n.setAttribute(r,g,w),a++}}return a}function Ut(n){return 3===n||4===n||6===n}function bi(n){return 64===n.charCodeAt(0)}function Cl(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||Ml(n,s,d,null,-1===s||2===s?r[++a]:null)}}return n}function Ml(n,r,s,a,d){let g=0,w=n.length;if(-1===r)w=-1;else for(;g<n.length;){const O=n[g++];if("number"==typeof O){if(O===r){w=-1;break}if(O>r){w=g-1;break}}}for(;g<n.length;){const O=n[g];if("number"==typeof O)break;if(O===s){if(null===a)return void(null!==d&&(n[g+1]=d));if(a===n[g+1])return void(n[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==w&&(n.splice(w,0,r),g=w+1),n.splice(g++,0,s),null!==a&&n.splice(g++,0,a),null!==d&&n.splice(g++,0,d)}function Pl(n){return-1!==n}function Ja(n){return 32767&n}function vo(n,r){let s=function cu(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ja=!0;function Ha(n){const r=ja;return ja=n,r}let tr=0;const Ms={};function ti(n,r){const s=oa(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,On(a.data,n),On(r,null),On(a.blueprint,null));const d=Sr(n,r),g=n.injectorIndex;if(Pl(d)){const w=Ja(d),O=vo(d,r),V=O[1].data;for(let K=0;K<8;K++)r[g+K]=O[w+K]|V[w+K]}return r[g+8]=d,g}function On(n,r){n.push(0,0,0,0,0,0,0,0,r)}function oa(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Sr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=$a(d),null===a)return-1;if(s++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Xi(n,r,s){!function xl(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Xn)&&(a=s[Xn]),null==a&&(a=s[Xn]=tr++);const d=255&a;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function on(n,r,s){if(s&sn.Optional||void 0!==n)return n;je()}function to(n,r,s,a){if(s&sn.Optional&&void 0===a&&(a=null),0==(s&(sn.Self|sn.Host))){const d=n[9],g=Fr(void 0);try{return d?d.get(r,a,s&sn.Optional):Pi(r,a,s&sn.Optional)}finally{Fr(g)}}return on(a,0,s)}function oo(n,r,s,a=sn.Default,d){if(null!==n){if(1024&r[2]){const w=function Eo(n,r,s,a,d){let g=n,w=r;for(;null!==g&&null!==w&&1024&w[2]&&!(256&w[2]);){const O=Po(g,w,s,a|sn.Self,Ms);if(O!==Ms)return O;let V=g.parent;if(!V){const K=w[21];if(K){const ne=K.get(s,Ms,a);if(ne!==Ms)return ne}V=$a(w),w=w[15]}g=V}return d}(n,r,s,a,Ms);if(w!==Ms)return w}const g=Po(n,r,s,a,Ms);if(g!==Ms)return g}return to(r,s,a,d)}function Po(n,r,s,a,d){const g=function tl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Xn)?n[Xn]:void 0;return"number"==typeof r?r>=0?255&r:rl:r}(s);if("function"==typeof g){if(!Xo(r,n,a))return a&sn.Host?on(d,0,a):to(r,s,a,d);try{const w=g(a);if(null!=w||a&sn.Optional)return w;je()}finally{L()}}else if("number"==typeof g){let w=null,O=oa(n,r),V=-1,K=a&sn.Host?r[16][6]:null;for((-1===O||a&sn.SkipSelf)&&(V=-1===O?Sr(n,r):r[O+8],-1!==V&&Ca(a,!1)?(w=r[1],O=Ja(V),r=vo(V,r)):O=-1);-1!==O;){const ne=r[1];if(nl(g,O,ne.data)){const ce=Rl(O,r,s,w,a,K);if(ce!==Ms)return ce}V=r[O+8],-1!==V&&Ca(a,r[1].data[O+8]===K)&&nl(g,O,r)?(w=ne,O=Ja(V),r=vo(V,r)):O=-1}}return d}function Rl(n,r,s,a,d,g){const w=r[1],O=w.data[n+8],ne=Ea(O,w,s,null==a?er(O)&&ja:a!=w&&0!=(3&O.type),d&sn.Host&&g===O);return null!==ne?el(r,w,ne,O):Ms}function Ea(n,r,s,a,d){const g=n.providerIndexes,w=r.data,O=1048575&g,V=n.directiveStart,ne=g>>20,Fe=d?O+ne:n.directiveEnd;for(let ut=a?O:O+ne;ut<Fe;ut++){const kt=w[ut];if(ut<V&&s===kt||ut>=V&&kt.type===s)return ut}if(d){const ut=w[V];if(ut&&rs(ut)&&ut.type===s)return V}return null}function el(n,r,s,a){let d=n[s];const g=r.data;if(function jt(n){return n instanceof $s}(d)){const w=d;w.resolving&&function Pt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$e(n)}(g[s]));const O=Ha(w.canSeeViewProviders);w.resolving=!0;const V=w.injectImpl?Fr(w.injectImpl):null;Xo(n,a,sn.Default);try{d=n[s]=w.factory(void 0,g,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ui(n,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(a){const w=Ts(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,g))}(s,g[s],r)}finally{null!==V&&Fr(V),Ha(O),w.resolving=!1,L()}}return d}function nl(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Ca(n,r){return!(n&sn.Self||n&sn.Host&&r)}class ms{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return oo(this._tNode,this._lView,r,a,s)}}function rl(){return new ms(Ri(),Nt())}function Iu(n){return Lr(()=>{const r=n.prototype.constructor,s=r[Bn]||cl(r),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const g=d[Bn]||cl(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function cl(n){return rt(n)?()=>{const r=cl(ve(n));return r&&r()}:Zi(n)}function $a(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function gt(n){return function Ti(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const g=s[d];if(Ut(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(g===r)return s[d+1];d+=2}}}return null}(Ri(),n)}const Ps="__parameters__";function Da(n,r,s){return Lr(()=>{const a=function Wi(n){return function(...s){if(n){const a=n(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...g){if(this instanceof d)return a.apply(this,g),this;const w=new d(...g);return O.annotation=w,O;function O(V,K,ne){const ce=V.hasOwnProperty(Ps)?V[Ps]:Object.defineProperty(V,Ps,{value:[]})[Ps];for(;ce.length<=ne;)ce.push(null);return(ce[ne]=ce[ne]||[]).push(w),V}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class ii{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ve({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function S(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),S(a,r)):r!==n&&r.push(a)}return r}function D(n,r){n.forEach(s=>Array.isArray(s)?D(s,r):r(s))}function F(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function $(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function J(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function kn(n,r,s){let a=qr(n,r);return a>=0?n[1|a]=s:(a=~a,function et(n,r,s,a){let d=n.length;if(d==r)n.push(s,a);else if(1===d)n.push(a,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Er(n,r){const s=qr(n,r);if(s>=0)return n[1|s]}function qr(n,r){return function no(n,r,s){let a=0,d=n.length>>s;for(;d!==a;){const g=a+(d-a>>1),w=n[g<<s];if(r===w)return g<<s;w>r?d=g:a=g+1}return~(d<<s)}(n,r,1)}const fl={},Aa="__NG_DI_FLAG__",za="ngTempTokenPath",Zl=/\n/gm,si="__source";let ua;function Ma(n){const r=ua;return ua=n,r}function Jl(n,r=sn.Default){if(void 0===ua)throw new Ne(-203,!1);return null===ua?Pi(n,void 0,r):ua.get(n,r&sn.Optional?null:void 0,r)}function ts(n,r=sn.Default){return(function Ns(){return wi}()||Jl)(ve(n),r)}function pl(n,r=sn.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),ts(n,r)}function ta(n){const r=[];for(let s=0;s<n.length;s++){const a=ve(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ne(900,!1);let d,g=sn.Default;for(let w=0;w<a.length;w++){const O=a[w],V=zu(O);"number"==typeof V?-1===V?d=O.token:g|=V:d=O}r.push(ts(d,g))}else r.push(ts(a))}return r}function Pa(n,r){return n[Aa]=r,n.prototype[Aa]=r,n}function zu(n){return n[Aa]}const Fl=Pa(Da("Inject",n=>({token:n})),-1),ml=Pa(Da("Optional"),8),Oa=Pa(Da("Self"),2),Ka=Pa(Da("SkipSelf"),4);let Hl,Il,x;function ru(n){Hl=n}function zi(n){var r;return(null===(r=function ha(){if(void 0===Il&&(Il=null,_t.trustedTypes))try{Il=_t.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Il}())||void 0===r?void 0:r.createHTML(n))||n}function z(){if(void 0===x&&(x=null,_t.trustedTypes))try{x=_t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return x}function te(n){var r;return(null===(r=z())||void 0===r?void 0:r.createHTML(n))||n}function Te(n){var r;return(null===(r=z())||void 0===r?void 0:r.createScriptURL(n))||n}class Qe{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wt extends Qe{getTypeName(){return"HTML"}}class nn extends Qe{getTypeName(){return"Style"}}class gn extends Qe{getTypeName(){return"Script"}}class Vn extends Qe{getTypeName(){return"URL"}}class Gn extends Qe{getTypeName(){return"ResourceURL"}}function fn(n){return n instanceof Qe?n.changingThisBreaksApplicationSecurity:n}function Un(n,r){const s=function Ar(n){return n instanceof Qe&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function Nr(n){return new wt(n)}function Li(n){return new nn(n)}function _s(n){return new gn(n)}function vs(n){return new Vn(n)}function bo(n){return new Gn(n)}class Rs{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(zi(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class ao{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=zi(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=zi(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const w=s.item(d).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function E(n){return(n=String(n)).match(m)?n:"unsafe:"+n}function N(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Z(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const le=N("area,br,col,hr,img,wbr"),ot=N("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tt=N("rp,rt"),qn=Z(le,Z(ot,N("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Z(tt,N("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Z(tt,ot)),ns=N("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oi=Z(ns,N("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),N("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ws=N("script,style,template");class $l{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!qn.hasOwnProperty(s))return this.sanitizedSomething=!0,!Ws.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let d=0;d<a.length;d++){const g=a.item(d),w=g.name,O=w.toLowerCase();if(!oi.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let V=g.value;ns[O]&&(V=E(V)),this.buf.push(" ",w,'="',Vi(V),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();qn.hasOwnProperty(s)&&!le.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Vi(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function Vi(n){return n.replace(/&/g,"&amp;").replace(Cr,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let To;function Ro(n,r){let s=null;try{To=To||function fa(n){const r=new ao(n);return function P(){try{return!!(new window.DOMParser).parseFromString(zi(""),"text/html")}catch(n){return!1}}()?new Rs(r):r}(n);let a=r?String(r):"";s=To.getInertBodyElement(a);let d=5,g=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=g,g=s.innerHTML,s=To.getInertBodyElement(a)}while(a!==g);return zi((new $l).sanitizeChildren(Ku(s)||s))}finally{if(s){const a=Ku(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ku(n){return"content"in n&&function zs(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var us=(()=>((us=us||{})[us.NONE=0]="NONE",us[us.HTML=1]="HTML",us[us.STYLE=2]="STYLE",us[us.SCRIPT=3]="SCRIPT",us[us.URL=4]="URL",us[us.RESOURCE_URL=5]="RESOURCE_URL",us))();function iu(n){const r=su();return r?te(r.sanitize(us.HTML,n)||""):Un(n,"HTML")?te(fn(n)):Ro(function yl(){return void 0!==Hl?Hl:"undefined"!=typeof document?document:void 0}(),$e(n))}function xa(n){const r=su();return r?r.sanitize(us.URL,n)||"":Un(n,"URL")?fn(n):E($e(n))}function nd(n){const r=su();if(r)return Te(r.sanitize(us.RESOURCE_URL,n)||"");if(Un(n,"ResourceURL"))return Te(fn(n));throw new Ne(904,!1)}function su(){const n=Nt();return n&&n[12]}const Yu=new ii("ENVIRONMENT_INITIALIZER"),Zd=new ii("INJECTOR",-1),Jd=new ii("INJECTOR_DEF_TYPES");class rd{get(r,s=fl){if(s===fl){const a=new Error(`NullInjectorError: No provider for ${se(r)}!`);throw a.name="NullInjectorError",a}return s}}function Dg(...n){return{\u0275providers:Tc(0,n)}}function Tc(n,...r){const s=[],a=new Set;let d;return D(r,g=>{const w=g;id(w,s,[],a)&&(d||(d=[]),d.push(w))}),void 0!==d&&Xd(d,s),s}function Xd(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];D(d,g=>{r.push(g)})}}function id(n,r,s,a){if(!(n=ve(n)))return!1;let d=null,g=kr(n);const w=!g&&Be(n);if(g||w){if(w&&!w.standalone)return!1;d=n}else{const V=n.ngModule;if(g=kr(V),!g)return!1;d=V}const O=a.has(d);if(w){if(O)return!1;if(a.add(d),w.dependencies){const V="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const K of V)id(K,r,s,a)}}else{if(!g)return!1;{if(null!=g.imports&&!O){let K;a.add(d);try{D(g.imports,ne=>{id(ne,r,s,a)&&(K||(K=[]),K.push(ne))})}finally{}void 0!==K&&Xd(K,r)}if(!O){const K=Zi(d)||(()=>new d);r.push({provide:d,useFactory:K,deps:Jt},{provide:Jd,useValue:d,multi:!0},{provide:Yu,useValue:()=>ts(d),multi:!0})}const V=g.providers;null==V||O||D(V,ne=>{r.push(ne)})}}return d!==n&&void 0!==n.providers}const eh=pe({provide:String,useValue:pe});function th(n){return null!==n&&"object"==typeof n&&eh in n}function gu(n){return"function"==typeof n}const Qu=new ii("Set Injector scope."),Sc={},Zu={};let _l;function Tu(){return void 0===_l&&(_l=new rd),_l}class mu{}class Su extends mu{constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xu(r,w=>this.processProvider(w)),this.records.set(Zd,Ju(void 0,this)),d.has("environment")&&this.records.set(mu,Ju(void 0,this));const g=this.records.get(Qu);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Jd.multi,Jt,sn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Ma(this),a=Fr(void 0);try{return r()}finally{Ma(s),Fr(a)}}get(r,s=fl,a=sn.Default){this.assertNotDestroyed();const d=Ma(this),g=Fr(void 0);try{if(!(a&sn.SkipSelf)){let O=this.records.get(r);if(void 0===O){const V=function ad(n){return"function"==typeof n||"object"==typeof n&&n instanceof ii}(r)&&Tn(r);O=V&&this.injectableDefInScope(V)?Ju(sd(r),Sc):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}return(a&sn.Self?Tu():this.parent).get(r,s=a&sn.Optional&&s===fl?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[za]=w[za]||[]).unshift(se(r)),d)throw w;return function hu(n,r,s,a){const d=n[za];throw r[si]&&d.unshift(r[si]),n.message=function gl(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=se(r);if(Array.isArray(r))d=r.map(se).join(" -> ");else if("object"==typeof r){let g=[];for(let w in r)if(r.hasOwnProperty(w)){let O=r[w];g.push(w+":"+("string"==typeof O?JSON.stringify(O):se(O)))}d=`{${g.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${n.replace(Zl,"\n  ")}`}("\n"+n.message,d,s,a),n.ngTokenPath=d,n[za]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{Fr(g),Ma(d)}}resolveInjectorInitializers(){const r=Ma(this),s=Fr(void 0);try{const a=this.get(Yu.multi,Jt,sn.Self);for(const d of a)d()}finally{Ma(r),Fr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(se(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(r){let s=gu(r=ve(r))?r:ve(r&&r.provide);const a=function Af(n){return th(n)?Ju(void 0,n.useValue):Ju(ih(n),Sc)}(r);if(gu(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Ju(void 0,Sc,!0),d.factory=()=>ta(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Sc&&(s.value=Zu,s.value=s.factory()),"object"==typeof s.value&&s.value&&function od(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ve(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function sd(n){const r=Tn(n),s=null!==r?r.factory:Zi(n);if(null!==s)return s;if(n instanceof ii)throw new Ne(204,!1);if(n instanceof Function)return function rh(n){const r=n.length;if(r>0)throw J(r,"?"),new Ne(204,!1);const s=function Dr(n){const r=n&&(n[ar]||n[Ci]);if(r){const s=function Yr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ne(204,!1)}function ih(n,r,s){let a;if(gu(n)){const d=ve(n);return Zi(d)||sd(d)}if(th(n))a=()=>ve(n.useValue);else if(function nh(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ta(n.deps||[]));else if(function pu(n){return!(!n||!n.useExisting)}(n))a=()=>ts(ve(n.useExisting));else{const d=ve(n&&(n.useClass||n.provide));if(!function Ac(n){return!!n.deps}(n))return Zi(d)||sd(d);a=()=>new d(...ta(n.deps))}return a}function Ju(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function ld(n){return!!n.\u0275providers}function Xu(n,r){for(const s of n)Array.isArray(s)?Xu(s,r):ld(s)?Xu(s.\u0275providers,r):r(s)}class oh{}class uh{resolveComponentFactory(r){throw function ah(n){const r=Error(`No component factory found for ${se(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Gl=(()=>{class n{}return n.NULL=new uh,n})();function ec(){return yu(Ri(),Nt())}function yu(n,r){return new tc(pi(n,r))}let tc=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=ec,n})();function Mf(n){return n instanceof tc?n.nativeElement:n}class Pf{}let ch=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bl(){const n=Nt(),s=ur(Ri().index,n);return(jr(s)?s:n)[11]}(),n})(),dh=(()=>{class n{}return n.\u0275prov=Ve({token:n,providedIn:"root",factory:()=>null}),n})();class nc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ud=new nc("14.2.4"),hh={};function Tl(n){return n.ngOriginalError}class Cs{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Tl(r);for(;s&&Tl(s);)s=Tl(s);return s||null}}const vu=new Map;let ic=0;const gh="__ngContext__";function pa(n,r){jr(r)?(n[gh]=r[20],function dd(n){vu.set(n[20],n)}(r)):n[gh]=r}function Ff(n){return n.ownerDocument.defaultView}function Og(n){return n.ownerDocument}function Wl(n){return n instanceof Function?n():n}var ou=(()=>((ou=ou||{})[ou.Important=1]="Important",ou[ou.DashCase=2]="DashCase",ou))();function xc(n,r){return undefined(n,r)}function Pu(n){const r=n[3];return ji(r)?r[3]:r}function mh(n){return jf(n[13])}function Na(n){return jf(n[4])}function jf(n){for(;null!==n&&!ji(n);)n=n[4];return n}function Eu(n,r,s,a,d){if(null!=a){let g,w=!1;ji(a)?g=a:jr(a)&&(w=!0,a=a[0]);const O=Qr(a);0===n&&null!==s?null==d?zf(r,s,O):uc(r,s,O,d||null,!0):1===n&&null!==s?uc(r,s,O,d||null,!0):2===n?function Yf(n,r,s){const a=md(n,r);a&&function gd(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,O,w):3===n&&r.destroyNode(O),null!=g&&function Jf(n,r,s,a,d){const g=s[7];g!==Qr(s)&&Eu(r,n,a,g,d);for(let O=10;O<s.length;O++){const V=s[O];Ru(V[1],V,n,r,a,g)}}(r,n,g,s,d)}}function _h(n,r,s){return n.createElement(r,s)}function Ug(n,r){const s=n[9],a=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,Js(d,-1)),s.splice(a,1)}function $f(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const d=a[17];null!==d&&d!==n&&Ug(d,a),r>0&&(n[s-1][4]=a[4]);const g=$(n,10+r);!function lc(n,r){Ru(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const w=g[19];null!==w&&w.detachView(g[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Bg(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Ru(n,r,s,3,null,null),function Lg(n){let r=n[13];if(!r)return Gf(n[1],n);for(;r;){let s=null;if(jr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)jr(r)&&Gf(r[1],r),r=r[3];null===r&&(r=n),jr(r)&&Gf(r[1],r),s=r&&r[4]}r=s}}(r)}}function Gf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function jg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof $s)){const g=s[a+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const O=d[g[w]],V=g[w+1];try{V.call(O)}finally{}}else try{g.call(d)}finally{}}}}(n,r),function vh(n,r){const s=n.cleanup,a=r[7];let d=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const w=s[g+1],O="function"==typeof w?w(r):Qr(r[w]),V=a[d=s[g+2]],K=s[g+3];"boolean"==typeof K?O.removeEventListener(s[g],V,K):K>=0?a[d=K]():a[d=-K].unsubscribe(),g+=2}else{const w=a[d=s[g+1]];s[g].call(w)}if(null!==a){for(let g=d+1;g<a.length;g++)(0,a[g])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&ji(r[3])){s!==r[3]&&Ug(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Rf(n){vu.delete(n[20])}(r)}}function Hg(n,r,s){return function Wf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const d=n.data[a.directiveStart].encapsulation;if(d===at.None||d===at.Emulated)return null}return pi(a,s)}(n,r.parent,s)}function uc(n,r,s,a,d){n.insertBefore(r,s,a,d)}function zf(n,r,s){n.appendChild(r,s)}function xu(n,r,s,a,d){null!==a?uc(n,r,s,a,d):zf(n,r,s)}function md(n,r){return n.parentNode(r)}function Kf(n,r,s){return Gg(n,r,s)}let Gg=function $g(n,r,s){return 40&n.type?pi(n,s):null};function Eh(n,r,s,a){const d=Hg(n,a,r),g=r[11],O=Kf(a.parent||r[6],a,r);if(null!=d)if(Array.isArray(s))for(let V=0;V<s.length;V++)xu(g,d,s[V],O,!1);else xu(g,d,s,O,!1)}function Ch(n,r){if(null!==r){const s=r.type;if(3&s)return pi(r,n);if(4&s)return qf(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Ch(n,a);{const d=n[r.index];return ji(d)?qf(-1,d):Qr(d)}}if(32&s)return xc(r,n)()||Qr(n[r.index]);{const a=Wg(n,r);return null!==a?Array.isArray(a)?a[0]:Ch(Pu(n[16]),a):Ch(n,r.next)}}return null}function Wg(n,r){return null!==r?n[16][6].projection[r.projection]:null}function qf(n,r){const s=10+n+1;if(s<r.length){const a=r[s],d=a[1].firstChild;if(null!==d)return Ch(a,d)}return r[7]}function Qf(n,r,s,a,d,g,w){for(;null!=s;){const O=a[s.index],V=s.type;if(w&&0===r&&(O&&pa(Qr(O),a),s.flags|=4),64!=(64&s.flags))if(8&V)Qf(n,r,s.child,a,d,g,!1),Eu(r,n,d,O,g);else if(32&V){const K=xc(s,a);let ne;for(;ne=K();)Eu(r,n,d,ne,g);Eu(r,n,d,O,g)}else 16&V?Zf(n,r,a,s,d,g):Eu(r,n,d,O,g);s=w?s.projectionNext:s.next}}function Ru(n,r,s,a,d,g){Qf(s,a,n.firstChild,r,d,g,!1)}function Zf(n,r,s,a,d,g){const w=s[16],V=w[6].projection[a.projection];if(Array.isArray(V))for(let K=0;K<V.length;K++)Eu(r,n,d,V[K],g);else Qf(n,r,V,w[3],d,g,!0)}function kc(n,r,s){n.setAttribute(r,"style",s)}function Fc(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function wh(n,r,s){let a=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const g=r.length;if(d+g===a||n.charCodeAt(d+g)<=32)return d}s=d+1}}const ep="ng-template";function by(n,r,s){let a=0;for(;a<n.length;){let d=n[a++];if(s&&"class"===d){if(d=n[a],-1!==wh(d.toLowerCase(),r,0))return!0}else if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function tp(n){return 4===n.type&&n.value!==ep}function Kg(n,r,s){return r===(4!==n.type||s?n.value:ep)}function np(n,r,s){let a=4;const d=n.attrs||[],g=function Ty(n){for(let r=0;r<n.length;r++)if(Ut(n[r]))return r;return n.length}(d);let w=!1;for(let O=0;O<r.length;O++){const V=r[O];if("number"!=typeof V){if(!w)if(4&a){if(a=2|1&a,""!==V&&!Kg(n,V,s)||""===V&&1===r.length){if(zl(a))return!1;w=!0}}else{const K=8&a?V:r[++O];if(8&a&&null!==n.attrs){if(!by(n.attrs,K,s)){if(zl(a))return!1;w=!0}continue}const ce=qg(8&a?"class":V,d,tp(n),s);if(-1===ce){if(zl(a))return!1;w=!0;continue}if(""!==K){let Fe;Fe=ce>g?"":d[ce+1].toLowerCase();const ut=8&a?Fe:null;if(ut&&-1!==wh(ut,K,0)||2&a&&K!==Fe){if(zl(a))return!1;w=!0}}}}else{if(!w&&!zl(a)&&!zl(V))return!1;if(w&&zl(V))continue;w=!1,a=V|1&a}}return zl(a)||w}function zl(n){return 0==(1&n)}function qg(n,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let g=!1;for(;d<r.length;){const w=r[d];if(w===n)return d;if(3===w||6===w)g=!0;else{if(1===w||2===w){let O=r[++d];for(;"string"==typeof O;)O=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=g?1:2}return-1}return function Lc(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Yg(n,r,s=!1){for(let a=0;a<r.length;a++)if(np(n,r[a],s))return!0;return!1}function Vc(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function Dh(n,r){return n?":not("+r.trim()+")":r}function Ih(n){let r=n[0],s=1,a=2,d="",g=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&a){const O=n[++s];d+="["+w+(O.length>0?'="'+O+'"':"")+"]"}else 8&a?d+="."+w:4&a&&(d+=" "+w);else""!==d&&!zl(w)&&(r+=Dh(g,d),d=""),a=w,g=g||!zl(a);s++}return""!==d&&(r+=Dh(g,d)),r}const xr={};function Xg(n){bh(dr(),Nt(),me()+n,!1)}function bh(n,r,s,a){if(!a)if(3==(3&r[2])){const g=n.preOrderCheckHooks;null!==g&&Ii(r,g,s)}else{const g=n.preOrderHooks;null!==g&&ps(r,g,0,s)}lt(s)}function Sh(n,r=null,s=null,a){const d=Ah(n,r,s,a);return d.resolveInjectorInitializers(),d}function Ah(n,r=null,s=null,a,d=new Set){const g=[s||Jt,Dg(n)];return a=a||("object"==typeof n?void 0:se(n)),new Su(g,r||Tu(),a||null,d)}let Nu=(()=>{class n{static create(s,a){var d;if(Array.isArray(s))return Sh({name:""},a,s,"");{const g=null!==(d=s.name)&&void 0!==d?d:"";return Sh({name:g},s.parent,s.providers,g)}}}return n.THROW_IF_NOT_FOUND=fl,n.NULL=new rd,n.\u0275prov=Ve({token:n,providedIn:"any",factory:()=>ts(Zd)}),n.__NG_ELEMENT_ID__=-1,n})();function $c(n,r=sn.Default){const s=Nt();return null===s?ts(n,r):oo(Ri(),s,ve(n),r)}function Nh(){throw new Error("invalid")}function Gc(n,r){return n<<17|r<<2}function ll(n){return n>>17&32767}function Fu(n){return 2|n}function Kl(n){return(131068&n)>>2}function hp(n,r){return-131069&n|r<<2}function Fh(n){return 1|n}function Uh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a],g=s[a+1];if(-1!==g){const w=n.data[g];Bo(d),w.contentQueries(2,r[g],g)}}}function Bh(n,r,s,a,d,g,w,O,V,K,ne){const ce=r.blueprint.slice();return ce[0]=d,ce[2]=76|a,(null!==ne||n&&1024&n[2])&&(ce[2]|=1024),Vo(ce),ce[3]=ce[15]=n,ce[8]=s,ce[10]=w||n&&n[10],ce[11]=O||n&&n[11],ce[12]=V||n&&n[12]||null,ce[9]=K||n&&n[9]||null,ce[6]=g,ce[20]=function sc(){return ic++}(),ce[21]=ne,ce[16]=2==r.type?n[16]:ce,ce}function Vu(n,r,s,a,d){let g=n.data[r];if(null===g)g=function jh(n,r,s,a,d){const g=G(),w=X(),V=n.data[r]=function Dm(n,r,s,a,d,g){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,s,r,a,d);return null===n.firstChild&&(n.firstChild=V),null!==g&&(w?null==g.child&&null!==V.parent&&(g.child=V):null===g.next&&(g.next=V)),V}(n,r,s,a,d),function Ua(){return Dn.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=a,g.attrs=d;const w=function B(){const n=Dn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return k(g,!0),g}function Uu(n,r,s,a){if(0===s)return-1;const d=r.length;for(let g=0;g<s;g++)r.push(a),n.blueprint.push(a),n.data.push(null);return d}function Hh(n,r,s){ls(r);try{const a=n.viewQuery;null!==a&&Jh(1,a,s);const d=n.template;null!==d&&Gh(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Uh(n,r),n.staticViewQueries&&Jh(2,n.viewQuery,s);const g=n.components;null!==g&&function Sp(n,r){for(let s=0;s<r.length;s++)Bp(n,r[s])}(r,g)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Y()}}function $h(n,r,s,a){const d=r[2];if(128!=(128&d)){ls(r);try{Vo(r),function Va(n){return Dn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Gh(n,r,s,2,a);const w=3==(3&d);if(w){const K=n.preOrderCheckHooks;null!==K&&Ii(r,K,null)}else{const K=n.preOrderHooks;null!==K&&ps(r,K,0,null),$r(r,0)}if(function Gy(n){for(let r=mh(n);null!==r;r=Na(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const d=s[a],g=d[3];0==(512&d[2])&&Js(g,1),d[2]|=512}}}(r),function Pm(n){for(let r=mh(n);null!==r;r=Na(r))for(let s=10;s<r.length;s++){const a=r[s],d=a[1];vr(a)&&$h(d,a,d.template,a[8])}}(r),null!==n.contentQueries&&Uh(n,r),w){const K=n.contentCheckHooks;null!==K&&Ii(r,K)}else{const K=n.contentHooks;null!==K&&ps(r,K,1),$r(r,1)}!function Tp(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const d=s[a];if(d<0)lt(~d);else{const g=d,w=s[++a],O=s[++a];fs(w,g),O(2,r[g])}}}finally{lt(-1)}}(n,r);const O=n.components;null!==O&&function Ly(n,r){for(let s=0;s<r.length;s++)Wy(n,r[s])}(r,O);const V=n.viewQuery;if(null!==V&&Jh(2,V,a),w){const K=n.viewCheckHooks;null!==K&&Ii(r,K)}else{const K=n.viewHooks;null!==K&&ps(r,K,2),$r(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Js(r[3],-1))}finally{Y()}}}function Gh(n,r,s,a,d){const g=me(),w=2&a;try{lt(-1),w&&r.length>22&&bh(n,r,22,!1),s(a,d)}finally{lt(g)}}function Cm(n,r,s){if(Pr(r)){const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=n.data[g];w.contentQueries&&w.contentQueries(1,s[g],g)}}}function bd(n,r,s){!Jo()||(function Np(n,r,s,a){const d=s.directiveStart,g=s.directiveEnd;n.firstCreatePass||ti(s,r),pa(a,r);const w=s.initialInputs;for(let O=d;O<g;O++){const V=n.data[O],K=rs(V);K&&$y(r,s,V);const ne=el(r,n,O,s);pa(ne,r),null!==w&&Vp(0,O-d,ne,V,0,w),K&&(ur(s.index,r)[8]=ne)}}(n,r,s,pi(s,r)),128==(128&s.flags)&&function jy(n,r,s){const a=s.directiveStart,d=s.directiveEnd,g=s.index,w=function ia(){return Dn.lFrame.currentDirectiveIndex}();try{lt(g);for(let O=a;O<d;O++){const V=n.data[O],K=r[O];Uo(O),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Yh(V,K)}}finally{lt(-1),Uo(w)}}(n,r,s))}function Ap(n,r,s=pi){const a=r.localNames;if(null!==a){let d=r.index+1;for(let g=0;g<a.length;g+=2){const w=a[g+1],O=-1===w?s(r,n):n[w];n[d++]=O}}}function Wh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Mp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Mp(n,r,s,a,d,g,w,O,V,K){const ne=22+a,ce=ne+d,Fe=function Pp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:xr);return s}(ne,ce),ut="function"==typeof K?K():K;return Fe[1]={type:n,blueprint:Fe,template:s,queries:null,viewQuery:O,declTNode:r,data:Fe.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:V,consts:ut,incompleteFirstPass:!1}}function fc(n,r,s,a){const d=jp(r);null===s?d.push(a):(d.push(s),n.firstCreatePass&&Kc(n).push(a,d.length-1))}function zh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,d):s[a]=[r,d]}return s}function Im(n,r){const a=r.directiveEnd,d=n.data,g=r.attrs,w=[];let O=null,V=null;for(let K=r.directiveStart;K<a;K++){const ne=d[K],ce=ne.inputs,Fe=null===g||tp(r)?null:Up(ce,g);w.push(Fe),O=zh(ce,K,O),V=zh(ne.outputs,K,V)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=16),O.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=O,r.outputs=V}function So(n,r,s,a,d,g,w,O){const V=pi(r,s);let ne,K=r.inputs;!O&&null!=K&&(ne=K[a])?(Ko(n,s,ne,a,d),er(r)&&Kh(s,r.index)):3&r.type&&(a=function xp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=w?w(d,r.value||"",a):d,g.setProperty(V,a,d))}function Kh(n,r){const s=ur(r,n);16&s[2]||(s[2]|=32)}function Rp(n,r,s,a){let d=!1;if(Jo()){const g=function Hy(n,r,s){const a=n.directiveRegistry;let d=null;if(a)for(let g=0;g<a.length;g++){const w=a[g];Yg(s,w.selectors,!1)&&(d||(d=[]),Xi(ti(s,r),n,w.type),rs(w)?(Qh(n,s),d.unshift(w)):d.push(w))}return d}(n,r,s),w=null===a?null:{"":-1};if(null!==g){d=!0,Fp(s,n.data.length,g.length);for(let ne=0;ne<g.length;ne++){const ce=g[ne];ce.providersResolver&&ce.providersResolver(ce)}let O=!1,V=!1,K=Uu(n,r,g.length,null);for(let ne=0;ne<g.length;ne++){const ce=g[ne];s.mergedAttrs=Cl(s.mergedAttrs,ce.hostAttrs),Sm(n,s,r,K,ce),kp(K,ce,w),null!==ce.contentQueries&&(s.flags|=8),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(s.flags|=128);const Fe=ce.type.prototype;!O&&(Fe.ngOnChanges||Fe.ngOnInit||Fe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),O=!0),!V&&(Fe.ngOnChanges||Fe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),V=!0),K++}Im(n,s)}w&&function Tm(n,r,s){if(r){const a=n.localNames=[];for(let d=0;d<r.length;d+=2){const g=s[r[d+1]];if(null==g)throw new Ne(-301,!1);a.push(r[d],g)}}}(s,a,w)}return s.mergedAttrs=Cl(s.mergedAttrs,s.attrs),d}function qh(n,r,s,a,d,g){const w=g.hostBindings;if(w){let O=n.hostBindingOpCodes;null===O&&(O=n.hostBindingOpCodes=[]);const V=~r.index;(function By(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(O)!=V&&O.push(V),O.push(a,d,w)}}function Yh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Qh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function kp(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;rs(r)&&(s[""]=n)}}function Fp(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Sm(n,r,s,a,d){n.data[a]=d;const g=d.factory||(d.factory=Zi(d.type)),w=new $s(g,rs(d),$c);n.blueprint[a]=w,s[a]=w,qh(n,r,0,a,Uu(n,s,d.hostVars,xr),d)}function $y(n,r,s){const a=pi(r,n),d=Wh(s),g=n[10],w=Sd(n,Bh(n,d,null,s.onPush?32:16,a,r,g,g.createRenderer(a,s),null,null,null));n[r.index]=w}function Sl(n,r,s,a,d,g){const w=pi(n,r);!function Lp(n,r,s,a,d,g,w){if(null==g)n.removeAttribute(r,d,s);else{const O=null==w?$e(g):w(g,a||"",d);n.setAttribute(r,d,O,s)}}(r[11],w,g,n.value,s,a,d)}function Vp(n,r,s,a,d,g){const w=g[r];if(null!==w){const O=a.setInput;for(let V=0;V<w.length;){const K=w[V++],ne=w[V++],ce=w[V++];null!==O?a.setInput(s,ce,K,ne):s[ne]=ce}}}function Up(n,r){let s=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Mm(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Wy(n,r){const s=ur(r,n);if(vr(s)){const a=s[1];48&s[2]?$h(a,s,a.template,s[8]):s[5]>0&&Td(s)}}function Td(n){for(let a=mh(n);null!==a;a=Na(a))for(let d=10;d<a.length;d++){const g=a[d];if(vr(g))if(512&g[2]){const w=g[1];$h(w,g,w.template,g[8])}else g[5]>0&&Td(g)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const d=ur(s[a],n);vr(d)&&d[5]>0&&Td(d)}}function Bp(n,r){const s=ur(r,n),a=s[1];(function zy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Hh(a,s,s[8])}function Sd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Zh(n){for(;n;){n[2]|=32;const r=Pu(n);if(qs(n)&&!r)return n;n=r}return null}function pc(n,r,s,a=!0){const d=r[10];d.begin&&d.begin();try{$h(n,r,n.template,s)}catch(w){throw a&&uo(r,w),w}finally{d.end&&d.end()}}function Jh(n,r,s){Bo(0),r(n,s)}function jp(n){return n[7]||(n[7]=[])}function Kc(n){return n.cleanup||(n.cleanup=[])}function uo(n,r){const s=n[9],a=s?s.get(Cs,null):null;a&&a.handleError(r)}function Ko(n,r,s,a,d){for(let g=0;g<s.length;){const w=s[g++],O=s[g++],V=r[w],K=n.data[w];null!==K.setInput?K.setInput(V,d,a,O):V[O]=d}}function na(n,r,s){const a=mo(r,n);!function Cu(n,r,s){n.setValue(r,s)}(n[11],a,s)}function Xh(n,r,s){let a=s?n.styles:null,d=s?n.classes:null,g=0;if(null!==r)for(let w=0;w<r.length;w++){const O=r[w];"number"==typeof O?g=O:1==g?d=Se(d,O):2==g&&(a=Se(a,O+": "+r[++w]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=d:n.classesWithoutHost=d}function Hp(n,r,s,a,d=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&a.push(Qr(g)),ji(g))for(let O=10;O<g.length;O++){const V=g[O],K=V[1].firstChild;null!==K&&Hp(V[1],V,K,a)}const w=s.type;if(8&w)Hp(n,r,s.child,a);else if(32&w){const O=xc(s,r);let V;for(;V=O();)a.push(V)}else if(16&w){const O=Wg(r,s);if(Array.isArray(O))a.push(...O);else{const V=Pu(r[16]);Hp(V[1],V,O,a,!0)}}s=d?s.projectionNext:s.next}return a}class qc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Hp(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ji(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&($f(r,a),$(s,a))}this._attachedToViewContainer=!1}Bg(this._lView[1],this._lView)}onDestroy(r){fc(this._lView[1],this._lView,null,r)}markForCheck(){Zh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nc(n,r){Ru(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=r}}class vv extends qc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;pc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class ef extends Gl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Be(r);return new nf(s,this.ngModule)}}function $p(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class qy{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const d=this.injector.get(r,hh,a);return d!==hh||s===hh?d:this.parentInjector.get(r,s,a)}}class nf extends oh{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Zg(n){return n.map(Ih).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return $p(this.componentDef.inputs)}get outputs(){return $p(this.componentDef.outputs)}create(r,s,a,d){let g=(d=d||this.ngModule)instanceof mu?d:null==d?void 0:d.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new qy(r,g):r,O=w.get(Pf,null);if(null===O)throw new Ne(407,!1);const V=w.get(dh,null),K=O.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",ce=a?function Op(n,r,s){return n.selectRootElement(r,s===at.ShadowDom)}(K,a,this.componentDef.encapsulation):_h(O.createRenderer(null,this.componentDef),ne,function tf(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ne)),Fe=this.componentDef.onPush?288:272,ut=Mp(0,null,null,1,0,null,null,null,null,null),kt=Bh(null,ut,null,Fe,null,null,O,K,V,w,null);let rn,pn;ls(kt);try{const Wn=function Zy(n,r,s,a,d,g){const w=s[1];s[22]=n;const V=Vu(w,22,2,"#host",null),K=V.mergedAttrs=r.hostAttrs;null!==K&&(Xh(V,K,!0),null!==n&&(ft(d,n,K),null!==V.classes&&Fc(d,n,V.classes),null!==V.styles&&kc(d,n,V.styles)));const ne=a.createRenderer(n,r),ce=Bh(s,Wh(r),null,r.onPush?32:16,s[22],V,a,ne,g||null,null,null);return w.firstCreatePass&&(Xi(ti(V,s),w,r.type),Qh(w,V),Fp(V,s.length,1)),Sd(s,ce),s[22]=ce}(ce,this.componentDef,kt,O,K);if(ce)if(a)ft(K,ce,["ng-version",ud.full]);else{const{attrs:cr,classes:Wt}=function Jg(n){const r=[],s=[];let a=1,d=2;for(;a<n.length;){let g=n[a];if("string"==typeof g)2===d?""!==g&&r.push(g,n[++a]):8===d&&s.push(g);else{if(!zl(d))break;d=g}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);cr&&ft(K,ce,cr),Wt&&Wt.length>0&&Fc(K,ce,Wt.join(" "))}if(pn=mn(ut,22),void 0!==s){const cr=pn.projection=[];for(let Wt=0;Wt<this.ngContentSelectors.length;Wt++){const Tr=s[Wt];cr.push(null!=Tr?Array.from(Tr):null)}}rn=function xm(n,r,s,a){const d=s[1],g=function Uy(n,r,s){const a=Ri();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Sm(n,a,r,Uu(n,r,1,null),s),Im(n,a));const d=el(r,n,a.directiveStart,a);pa(d,r);const g=pi(a,r);return g&&pa(g,r),d}(d,s,r);if(n[8]=s[8]=g,null!==a)for(const O of a)O(g,r);if(r.contentQueries){const O=Ri();r.contentQueries(1,g,O.directiveStart)}const w=Ri();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(lt(w.index),qh(s[1],w,0,w.directiveStart,w.directiveEnd,r),Yh(r,g)),g}(Wn,this.componentDef,kt,[Gp]),Hh(ut,kt,null)}finally{Y()}return new Qy(this.componentType,rn,yu(pn,kt),kt,pn)}}class Qy extends class sh{}{constructor(r,s,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new vv(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){const g=this._rootLView;Ko(g[1],g,d,r,s),Kh(g,this._tNode.index)}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Gp(){const n=Ri();Or(Nt()[1],n)}function Ad(n){let r=function Wp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let d;if(rs(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ne(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const w=n;w.inputs=Md(n.inputs),w.declaredInputs=Md(n.declaredInputs),w.outputs=Md(n.outputs);const O=d.hostBindings;O&&Rm(n,O);const V=d.viewQuery,K=d.contentQueries;if(V&&rf(n,V),K&&Kp(n,K),we(n.inputs,d.inputs),we(n.declaredInputs,d.declaredInputs),we(n.outputs,d.outputs),rs(d)&&d.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let w=0;w<g.length;w++){const O=g[w];O&&O.ngInherit&&O(n),O===Ad&&(s=!1)}}r=Object.getPrototypeOf(r)}!function zp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=r+=d.hostVars,d.hostAttrs=Cl(d.hostAttrs,s=Cl(s,d.hostAttrs))}}(a)}function Md(n){return n===gr?{}:n===Jt?[]:n}function rf(n,r){const s=n.viewQuery;n.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function Kp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,d,g)=>{r(a,d,g),s(a,d,g)}:r}function Rm(n,r){const s=n.hostBindings;n.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}let Pd=null;function Al(){if(!Pd){const n=_t.Symbol;if(n&&n.iterator)Pd=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Pd=a)}}}return Pd}function Od(n){return!!af(n)&&(Array.isArray(n)||!(n instanceof Map)&&Al()in n)}function af(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ql(n,r,s){return n[r]=s}function xd(n,r){return n[r]}function ka(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function gc(n,r,s,a){const d=ka(n,r,s);return ka(n,r+1,a)||d}function lf(n,r,s,a,d){const g=gc(n,r,s,a);return ka(n,r+2,d)||g}function ul(n,r,s,a,d,g){const w=gc(n,r,s,a);return gc(n,r+2,d,g)||w}function Qp(n,r,s,a){const d=Nt();return ka(d,_o(),r)&&(dr(),Sl(yt(),d,n,r,s,a)),Qp}function Ki(n,r,s,a){return ka(n,_o(),s)?r+$e(s)+a:xr}function Nd(n,r,s,a,d,g){const O=gc(n,so(),s,d);return ya(2),O?r+$e(s)+a+$e(d)+g:xr}function Yc(n,r,s,a,d,g,w,O){const K=lf(n,so(),s,d,w);return ya(3),K?r+$e(s)+a+$e(d)+g+$e(w)+O:xr}function Fd(n,r,s,a,d,g,w,O){const V=Nt(),K=dr(),ne=n+22,ce=K.firstCreatePass?function wv(n,r,s,a,d,g,w,O,V){const K=r.consts,ne=Vu(r,n,4,w||null,os(K,O));Rp(r,s,ne,os(K,V)),Or(r,ne);const ce=ne.tViews=Mp(2,ne,a,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,K);return null!==r.queries&&(r.queries.template(r,ne),ce.queries=r.queries.embeddedTView(ne)),ne}(ne,K,V,r,s,a,d,g,w):K.data[ne];k(ce,!1);const Fe=V[11].createComment("");Eh(K,V,Fe,ce),pa(Fe,V),Sd(V,V[ne]=Mm(Fe,V,Fe,ce)),Kr(ce)&&bd(K,V,ce),null!=w&&Ap(V,ce,O)}function km(n){return Zs(function Zr(){return Dn.lFrame.contextLView}(),22+n)}function Xp(n,r,s){const a=Nt();return ka(a,_o(),r)&&So(dr(),yt(),a,n,r,a[11],s,!1),Xp}function uf(n,r,s,a,d){const w=d?"class":"style";Ko(n,s,r.inputs[w],w,a)}function _c(n,r,s,a){const d=Nt(),g=dr(),w=22+n,O=d[11],V=d[w]=_h(O,r,function hr(){return Dn.lFrame.currentNamespace}()),K=g.firstCreatePass?function Fm(n,r,s,a,d,g,w){const O=r.consts,K=Vu(r,n,2,d,os(O,g));return Rp(r,s,K,os(O,w)),null!==K.attrs&&Xh(K,K.attrs,!1),null!==K.mergedAttrs&&Xh(K,K.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,K),K}(w,g,d,0,r,s,a):g.data[w];k(K,!0);const ne=K.mergedAttrs;null!==ne&&ft(O,V,ne);const ce=K.classes;null!==ce&&Fc(O,V,ce);const Fe=K.styles;return null!==Fe&&kc(O,V,Fe),64!=(64&K.flags)&&Eh(g,d,V,K),0===function ra(){return Dn.lFrame.elementDepthCount}()&&pa(V,d),function Xs(){Dn.lFrame.elementDepthCount++}(),Kr(K)&&(bd(g,d,K),Cm(g,K,d)),null!==a&&Ap(d,K),_c}function cf(){let n=Ri();X()?mt():(n=n.parent,k(n,!1));const r=n;!function as(){Dn.lFrame.elementDepthCount--}();const s=dr();return s.firstCreatePass&&(Or(s,n),Pr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function hn(n){return 0!=(16&n.flags)}(r)&&uf(s,r,Nt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function In(n){return 0!=(32&n.flags)}(r)&&uf(s,r,Nt(),r.stylesWithoutHost,!1),cf}function ju(n,r,s,a){return _c(n,r,s,a),cf(),ju}function Hu(n,r,s){const a=Nt(),d=dr(),g=n+22,w=d.firstCreatePass?function eg(n,r,s,a,d){const g=r.consts,w=os(g,a),O=Vu(r,n,8,"ng-container",w);return null!==w&&Xh(O,w,!0),Rp(r,s,O,os(g,d)),null!==r.queries&&r.queries.elementStart(r,O),O}(g,d,a,r,s):d.data[g];k(w,!0);const O=a[g]=a[11].createComment("");return Eh(d,a,O,w),pa(O,a),Kr(w)&&(bd(d,a,w),Cm(d,w,a)),null!=s&&Ap(a,w),Hu}function Ld(){let n=Ri();const r=dr();return X()?mt():(n=n.parent,k(n,!1)),r.firstCreatePass&&(Or(r,n),Pr(n)&&r.queries.elementEnd(n)),Ld}function Vd(n,r,s){return Hu(n,r,s),Ld(),Vd}function Lm(){return Nt()}function tg(n){return!!n&&"function"==typeof n.then}function Vm(n){return!!n&&"function"==typeof n.subscribe}const ng=Vm;function df(n,r,s,a){const d=Nt(),g=dr(),w=Ri();return function ig(n,r,s,a,d,g,w,O){const V=Kr(a),ne=n.firstCreatePass&&Kc(n),ce=r[8],Fe=jp(r);let ut=!0;if(3&a.type||O){const pn=pi(a,r),Wn=O?O(pn):pn,cr=Fe.length,Wt=O?Ai=>O(Qr(Ai[a.index])):a.index;let Tr=null;if(!O&&V&&(Tr=function vc(n,r,s,a){const d=n.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const w=d[g];if(w===s&&d[g+1]===a){const O=r[7],V=d[g+2];return O.length>V?O[V]:null}"string"==typeof w&&(g+=2)}return null}(n,r,d,a.index)),null!==Tr)(Tr.__ngLastListenerFn__||Tr).__ngNextListenerFn__=g,Tr.__ngLastListenerFn__=g,ut=!1;else{g=hf(a,r,ce,g,!1);const Ai=s.listen(Wn,d,g);Fe.push(g,Ai),ne&&ne.push(d,Wt,cr,cr+1)}}else g=hf(a,r,ce,g,!1);const kt=a.outputs;let rn;if(ut&&null!==kt&&(rn=kt[d])){const pn=rn.length;if(pn)for(let Wn=0;Wn<pn;Wn+=2){const ho=r[rn[Wn]][rn[Wn+1]].subscribe(g),Yd=Fe.length;Fe.push(g,ho),ne&&ne.push(d,a.index,Yd,-(Yd+1))}}}(g,d,d[11],w,n,r,0,a),df}function sg(n,r,s,a){try{return!1!==s(a)}catch(d){return uo(n,d),!1}}function hf(n,r,s,a,d){return function g(w){if(w===Function)return a;Zh(2&n.flags?ur(n.index,r):r);let V=sg(r,0,a,w),K=g.__ngNextListenerFn__;for(;K;)V=sg(r,0,K,w)&&V,K=K.__ngNextListenerFn__;return d&&!1===V&&(w.preventDefault(),w.returnValue=!1),V}}function ff(n=1){return function U(n){return(Dn.lFrame.contextLView=function ee(n,r){for(;n>0;)r=r[15],n--;return r}(n,Dn.lFrame.contextLView))[8]}(n)}function l_(n,r){let s=null;const a=function Qg(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===a?Yg(n,g,!0):Vc(a,g))return d}else s=d}return s}function Ud(n){const r=Nt()[16][6];if(!r.projection){const a=r.projection=J(n?n.length:1,null),d=a.slice();let g=r.child;for(;null!==g;){const w=n?l_(g,n):0;null!==w&&(d[w]?d[w].projectionNext=g:a[w]=g,d[w]=g),g=g.next}}}function Bd(n,r=0,s){const a=Nt(),d=dr(),g=Vu(d,22+n,16,null,s||null);null===g.projection&&(g.projection=r),mt(),64!=(64&g.flags)&&function Iy(n,r,s){Zf(r[11],0,r,s,Hg(n,s,r),Kf(s.parent||r[6],s,r))}(d,a,g)}function pf(n,r,s){return Jc(n,"",r,"",s),pf}function Jc(n,r,s,a,d){const g=Nt(),w=Ki(g,r,s,a);return w!==xr&&So(dr(),yt(),g,n,w,g[11],d,!1),Jc}function mf(n,r,s,a,d){const g=n[s+1],w=null===r;let O=a?ll(g):Kl(g),V=!1;for(;0!==O&&(!1===V||w);){const ne=n[O+1];c_(n[O],r)&&(V=!0,n[O+1]=a?Fh(ne):Fu(ne)),O=a?ll(ne):Kl(ne)}V&&(n[s+1]=a?Fu(g):Fh(g))}function c_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&qr(n,r)>=0}const co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jm(n){return n.substring(co.key,co.keyEnd)}function bv(n){return n.substring(co.value,co.valueEnd)}function d_(n,r){const s=co.textEnd;return s===r?-1:(r=co.keyEnd=function $m(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,co.key=r,s),Gd(n,r,s))}function $d(n,r){const s=co.textEnd;let a=co.key=Gd(n,r,s);return s===a?-1:(a=co.keyEnd=function Gm(n,r,s){let a;for(;r<s&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,s),a=ag(n,a,s),a=co.value=Gd(n,a,s),a=co.valueEnd=function Wm(n,r,s){let a=-1,d=-1,g=-1,w=r,O=w;for(;w<s;){const V=n.charCodeAt(w++);if(59===V)return O;34===V||39===V?O=w=lg(n,V,w,s):r===w-4&&85===g&&82===d&&76===a&&40===V?O=w=lg(n,41,w,s):V>32&&(O=w),g=d,d=a,a=-33&V}return O}(n,a,s),ag(n,a,s))}function Hm(n){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=n.length}function Gd(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function ag(n,r,s,a){return(r=Gd(n,r,s))<s&&r++,r}function lg(n,r,s,a){let d=-1,g=s;for(;g<a;){const w=n.charCodeAt(g++);if(w==r&&92!==d)return g;d=92==w&&92===d?0:w}throw new Error}function ug(n,r,s){return Fa(n,r,s,!1),ug}function Wd(n,r){return Fa(n,r,null,!0),Wd}function au(n){Yl(qm,Ec,n,!1)}function Ec(n,r){for(let s=function h_(n){return Hm(n),$d(n,Gd(n,0,co.textEnd))}(r);s>=0;s=$d(r,s))qm(n,jm(r),bv(r))}function Cc(n){Yl(kn,vl,n,!0)}function vl(n,r){for(let s=function yf(n){return Hm(n),d_(n,Gd(n,0,co.textEnd))}(r);s>=0;s=d_(r,s))kn(n,jm(r),!0)}function Fa(n,r,s,a){const d=Nt(),g=dr(),w=ya(2);g.firstUpdatePass&&zm(g,n,w,a),r!==xr&&ka(d,w,r)&&Ym(g,g.data[me()],d,d[11],n,d[w+1]=function zd(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=se(fn(n)))),n}(r,s),a,w)}function Yl(n,r,s,a){const d=dr(),g=ya(2);d.firstUpdatePass&&zm(d,null,g,a);const w=Nt();if(s!==xr&&ka(w,g,s)){const O=d.data[me()];if(vf(O,a)&&!p_(d,g)){let V=a?O.classesWithoutHost:O.stylesWithoutHost;null!==V&&(s=Se(V,s||"")),uf(d,O,w,s,a)}else!function y_(n,r,s,a,d,g,w,O){d===xr&&(d=Jt);let V=0,K=0,ne=0<d.length?d[0]:null,ce=0<g.length?g[0]:null;for(;null!==ne||null!==ce;){const Fe=V<d.length?d[V+1]:void 0,ut=K<g.length?g[K+1]:void 0;let rn,kt=null;ne===ce?(V+=2,K+=2,Fe!==ut&&(kt=ce,rn=ut)):null===ce||null!==ne&&ne<ce?(V+=2,kt=ne):(K+=2,kt=ce,rn=ut),null!==kt&&Ym(n,r,s,a,kt,rn,w,O),ne=V<d.length?d[V]:null,ce=K<g.length?g[K]:null}}(d,O,w,w[11],w[g+1],w[g+1]=function Sv(n,r,s){if(null==s||""===s)return Jt;const a=[],d=fn(s);if(Array.isArray(d))for(let g=0;g<d.length;g++)n(a,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&n(a,g,d[g]);else"string"==typeof d&&r(a,d);return a}(n,r,s),a,g)}}function p_(n,r){return r>=n.expandoStartIndex}function zm(n,r,s,a){const d=n.data;if(null===d[s+1]){const g=d[me()],w=p_(n,s);vf(g,a)&&null===r&&!w&&(r=!1),r=function $u(n,r,s,a){const d=Ba(n);let g=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=_f(s=Km(null,n,r,s,a),r.attrs,a),g=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==d)if(s=Km(d,n,r,s,a),null===g){let V=function g_(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Kl(a))return n[ll(a)]}(n,r,a);void 0!==V&&Array.isArray(V)&&(V=Km(null,n,r,V[1],a),V=_f(V,r.attrs,a),function Tv(n,r,s,a){n[ll(s?r.classBindings:r.styleBindings)]=a}(n,r,a,V))}else g=function m_(n,r,s){let a;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)a=_f(a,n[g].hostAttrs,s);return _f(a,r.attrs,s)}(n,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),s}(d,g,r,a),function Dv(n,r,s,a,d,g){let w=g?r.classBindings:r.styleBindings,O=ll(w),V=Kl(w);n[a]=s;let ne,K=!1;if(Array.isArray(s)){const ce=s;ne=ce[1],(null===ne||qr(ce,ne)>0)&&(K=!0)}else ne=s;if(d)if(0!==V){const Fe=ll(n[O+1]);n[a+1]=Gc(Fe,O),0!==Fe&&(n[Fe+1]=hp(n[Fe+1],a)),n[O+1]=function am(n,r){return 131071&n|r<<17}(n[O+1],a)}else n[a+1]=Gc(O,0),0!==O&&(n[O+1]=hp(n[O+1],a)),O=a;else n[a+1]=Gc(V,0),0===O?O=a:n[V+1]=hp(n[V+1],a),V=a;K&&(n[a+1]=Fu(n[a+1])),mf(n,ne,a,!0),mf(n,ne,a,!1),function Iv(n,r,s,a,d){const g=d?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&qr(g,r)>=0&&(s[a+1]=Fh(s[a+1]))}(r,ne,n,a,g),w=Gc(O,V),g?r.classBindings=w:r.styleBindings=w}(d,g,r,s,w,a)}}function Km(n,r,s,a,d){let g=null;const w=s.directiveEnd;let O=s.directiveStylingLast;for(-1===O?O=s.directiveStart:O++;O<w&&(g=r[O],a=_f(a,g.hostAttrs,d),g!==n);)O++;return null!==n&&(s.directiveStylingLast=O),a}function _f(n,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kn(n,w,!!s||r[++g]))}return void 0===n?null:n}function qm(n,r,s){kn(n,r,fn(s))}function Ym(n,r,s,a,d,g,w,O){if(!(3&r.type))return;const V=n.data,K=V[O+1];cg(function lm(n){return 1==(1&n)}(K)?Qm(V,r,s,d,Kl(K),w):void 0)||(cg(g)||function kh(n){return 2==(2&n)}(K)&&(g=Qm(V,null,s,d,O,w)),function Xf(n,r,s,a,d){if(r)d?n.addClass(s,a):n.removeClass(s,a);else{let g=-1===a.indexOf("-")?void 0:ou.DashCase;null==d?n.removeStyle(s,a,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=ou.Important),n.setStyle(s,a,d,g))}}(a,w,mo(me(),s),d,g))}function Qm(n,r,s,a,d,g){const w=null===r;let O;for(;d>0;){const V=n[d],K=Array.isArray(V),ne=K?V[1]:V,ce=null===ne;let Fe=s[d+1];Fe===xr&&(Fe=ce?Jt:void 0);let ut=ce?Er(Fe,a):ne===a?Fe:void 0;if(K&&!cg(ut)&&(ut=Er(V,a)),cg(ut)&&(O=ut,w))return O;const kt=n[d+1];d=w?ll(kt):Kl(kt)}if(null!==r){let V=g?r.residualClasses:r.residualStyles;null!=V&&(O=Er(V,a))}return O}function cg(n){return void 0!==n}function vf(n,r){return 0!=(n.flags&(r?16:32))}function __(n,r=""){const s=Nt(),a=dr(),d=n+22,g=a.firstCreatePass?Vu(a,d,1,r,null):a.data[d],w=s[d]=function yh(n,r){return n.createText(r)}(s[11],r);Eh(a,s,w,g),k(g,!1)}function Zm(n){return Ef("",n,""),Zm}function Ef(n,r,s){const a=Nt(),d=Ki(a,n,r,s);return d!==xr&&na(a,me(),d),Ef}function dg(n,r,s,a,d){const g=Nt(),w=Nd(g,n,r,s,a,d);return w!==xr&&na(g,me(),w),dg}function td(n,r,s,a,d,g,w){const O=Nt(),V=Yc(O,n,r,s,a,d,g,w);return V!==xr&&na(O,me(),V),td}function hg(n,r,s,a,d,g,w,O,V){const K=Nt(),ne=function Us(n,r,s,a,d,g,w,O,V,K){const ce=ul(n,so(),s,d,w,V);return ya(4),ce?r+$e(s)+a+$e(d)+g+$e(w)+O+$e(V)+K:xr}(K,n,r,s,a,d,g,w,O,V);return ne!==xr&&na(K,me(),ne),hg}function Jm(n,r,s,a,d,g,w,O,V,K,ne,ce,Fe){const ut=Nt(),kt=function Qc(n,r,s,a,d,g,w,O,V,K,ne,ce,Fe,ut){const kt=so();let rn=ul(n,kt,s,d,w,V);return rn=gc(n,kt+4,ne,Fe)||rn,ya(6),rn?r+$e(s)+a+$e(d)+g+$e(w)+O+$e(V)+K+$e(ne)+ce+$e(Fe)+ut:xr}(ut,n,r,s,a,d,g,w,O,V,K,ne,ce,Fe);return kt!==xr&&na(ut,me(),kt),Jm}function w_(n,r,s){Yl(kn,vl,Ki(Nt(),n,r,s),!0)}function D_(n,r,s,a,d){Yl(kn,vl,Nd(Nt(),n,r,s,a,d),!0)}function I_(n,r,s,a,d,g,w){Yl(kn,vl,Yc(Nt(),n,r,s,a,d,g,w),!0)}function f(n,r,s){au(Ki(Nt(),n,r,s))}function Yo(n,r,s){const a=Nt();return ka(a,_o(),r)&&So(dr(),yt(),a,n,r,a[11],s,!0),Yo}function wc(n,r,s){const a=Nt();if(ka(a,_o(),r)){const g=dr(),w=yt();So(g,w,a,n,r,function Om(n,r,s){return(null===n||rs(n))&&(s=function Fo(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}(Ba(g.data),w,a),s,!0)}return wc}const Kd=void 0;var HE=["en",[["a","p"],["AM","PM"],Kd],[["AM","PM"],Kd,Kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kd,"{1} 'at' {0}",Kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jE(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Cf={};function b_(n){const r=function $E(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Mv(r);if(s)return s;const a=r.split("-")[0];if(s=Mv(a),s)return s;if("en"===a)return HE;throw new Ne(701,!1)}function Av(n){return b_(n)[yr.PluralCase]}function Mv(n){return n in Cf||(Cf[n]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[n]),Cf[n]}var yr=(()=>((yr=yr||{})[yr.LocaleId=0]="LocaleId",yr[yr.DayPeriodsFormat=1]="DayPeriodsFormat",yr[yr.DayPeriodsStandalone=2]="DayPeriodsStandalone",yr[yr.DaysFormat=3]="DaysFormat",yr[yr.DaysStandalone=4]="DaysStandalone",yr[yr.MonthsFormat=5]="MonthsFormat",yr[yr.MonthsStandalone=6]="MonthsStandalone",yr[yr.Eras=7]="Eras",yr[yr.FirstDayOfWeek=8]="FirstDayOfWeek",yr[yr.WeekendRange=9]="WeekendRange",yr[yr.DateFormat=10]="DateFormat",yr[yr.TimeFormat=11]="TimeFormat",yr[yr.DateTimeFormat=12]="DateTimeFormat",yr[yr.NumberSymbols=13]="NumberSymbols",yr[yr.NumberFormats=14]="NumberFormats",yr[yr.CurrencyCode=15]="CurrencyCode",yr[yr.CurrencySymbol=16]="CurrencySymbol",yr[yr.CurrencyName=17]="CurrencyName",yr[yr.Currencies=18]="Currencies",yr[yr.Directionality=19]="Directionality",yr[yr.PluralCase=20]="PluralCase",yr[yr.ExtraData=21]="ExtraData",yr))();const wf="en-US";let Pv=wf;function A_(n,r,s,a,d){if(n=ve(n),Array.isArray(n))for(let g=0;g<n.length;g++)A_(n[g],r,s,a,d);else{const g=dr(),w=Nt();let O=gu(n)?n:ve(n.provide),V=ih(n);const K=Ri(),ne=1048575&K.providerIndexes,ce=K.directiveStart,Fe=K.providerIndexes>>20;if(gu(n)||!n.multi){const ut=new $s(V,d,$c),kt=P_(O,r,d?ne:ne+Fe,ce);-1===kt?(Xi(ti(K,w),g,O),M_(g,n,r.length),r.push(O),K.directiveStart++,K.directiveEnd++,d&&(K.providerIndexes+=1048576),s.push(ut),w.push(ut)):(s[kt]=ut,w[kt]=ut)}else{const ut=P_(O,r,ne+Fe,ce),kt=P_(O,r,ne,ne+Fe),rn=ut>=0&&s[ut],pn=kt>=0&&s[kt];if(d&&!pn||!d&&!rn){Xi(ti(K,w),g,O);const Wn=function BC(n,r,s,a,d){const g=new $s(n,s,$c);return g.multi=[],g.index=r,g.componentProviders=0,t0(g,d,a&&!s),g}(d?UC:VC,s.length,d,a,V);!d&&pn&&(s[kt].providerFactory=Wn),M_(g,n,r.length,0),r.push(O),K.directiveStart++,K.directiveEnd++,d&&(K.providerIndexes+=1048576),s.push(Wn),w.push(Wn)}else M_(g,n,ut>-1?ut:kt,t0(s[d?kt:ut],V,!d&&a));!d&&a&&pn&&s[kt].componentProviders++}}}function M_(n,r,s,a){const d=gu(r),g=function lo(n){return!!n.useClass}(r);if(d||g){const V=(g?ve(r.useClass):r).prototype.ngOnDestroy;if(V){const K=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const ne=K.indexOf(s);-1===ne?K.push(s,[a,V]):K[ne+1].push(a,V)}else K.push(s,V)}}}function t0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function P_(n,r,s,a){for(let d=s;d<a;d++)if(r[d]===n)return d;return-1}function VC(n,r,s,a){return O_(this.multi,[])}function UC(n,r,s,a){const d=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,O=el(s,s[1],this.providerFactory.index,a);g=O.slice(0,w),O_(d,g);for(let V=w;V<O.length;V++)g.push(O[V])}else g=[],O_(d,g);return g}function O_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function n0(n,r=[]){return s=>{s.providersResolver=(a,d)=>function LC(n,r,s){const a=dr();if(a.firstCreatePass){const d=rs(n);A_(s,a.data,a.blueprint,d,!0),A_(r,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,r)}}class Df{}class r0{}function jC(n,r){return new s0(n,null!=r?r:null)}class s0 extends Df{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ef(this);const a=ir(r);this._bootstrapComponents=Wl(a.bootstrap),this._r3Injector=Ah(r,s,[{provide:Df,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],se(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class x_ extends r0{constructor(r){super(),this.moduleType=r}create(r){return new s0(this.moduleType,r)}}class HC extends Df{constructor(r,s,a){super(),this.componentFactoryResolver=new ef(this),this.instance=null;const d=new Su([...r,{provide:Df,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],s||Tu(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function R_(n,r,s=null){return new HC(n,r,s).injector}let $C=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Tc(0,s.type),d=a.length>0?R_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ve({token:n,providedIn:"environment",factory:()=>new n(ts(mu))}),n})();function o0(n){n.getStandaloneInjector=r=>r.get($C).getOrCreateStandaloneInjector(n)}function f0(n,r,s){const a=Jr()+n,d=Nt();return d[a]===xr?ql(d,a,s?r.call(s):r()):xd(d,a)}function p0(n,r,s,a){return _0(Nt(),Jr(),n,r,s,a)}function g0(n,r,s,a,d){return v0(Nt(),Jr(),n,r,s,a,d)}function m0(n,r,s,a,d,g){return E0(Nt(),Jr(),n,r,s,a,d,g)}function y0(n,r,s,a,d,g,w,O,V){const K=Jr()+n,ne=Nt(),ce=ul(ne,K,s,a,d,g);return gc(ne,K+4,w,O)||ce?ql(ne,K+6,V?r.call(V,s,a,d,g,w,O):r(s,a,d,g,w,O)):xd(ne,K+6)}function _g(n,r){const s=n[r];return s===xr?void 0:s}function _0(n,r,s,a,d,g){const w=r+s;return ka(n,w,d)?ql(n,w+1,g?a.call(g,d):a(d)):_g(n,w+1)}function v0(n,r,s,a,d,g,w){const O=r+s;return gc(n,O,d,g)?ql(n,O+2,w?a.call(w,d,g):a(d,g)):_g(n,O+2)}function E0(n,r,s,a,d,g,w,O){const V=r+s;return lf(n,V,d,g,w)?ql(n,V+3,O?a.call(O,d,g,w):a(d,g,w)):_g(n,V+3)}function D0(n,r){const s=dr();let a;const d=n+22;s.firstCreatePass?(a=function rw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,a.onDestroy)):a=s.data[d];const g=a.factory||(a.factory=Zi(a.type)),w=Fr($c);try{const O=Ha(!1),V=g();return Ha(O),function Jp(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Nt(),d,V),V}finally{Fr(w)}}function I0(n,r,s){const a=n+22,d=Nt(),g=Zs(d,a);return vg(d,a)?_0(d,Jr(),r,g.transform,s,g):g.transform(s)}function b0(n,r,s,a){const d=n+22,g=Nt(),w=Zs(g,d);return vg(g,d)?v0(g,Jr(),r,w.transform,s,a,w):w.transform(s,a)}function T0(n,r,s,a,d){const g=n+22,w=Nt(),O=Zs(w,g);return vg(w,g)?E0(w,Jr(),r,O.transform,s,a,d,O):O.transform(s,a,d)}function vg(n,r){return n[1].data[r].pure}function k_(n){return r=>{setTimeout(n,void 0,r)}}const Gu=class ow extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var d,g,w;let O=r,V=s||(()=>null),K=a;if(r&&"object"==typeof r){const ce=r;O=null===(d=ce.next)||void 0===d?void 0:d.bind(ce),V=null===(g=ce.error)||void 0===g?void 0:g.bind(ce),K=null===(w=ce.complete)||void 0===w?void 0:w.bind(ce)}this.__isAsync&&(V=k_(V),O&&(O=k_(O)),K&&(K=k_(K)));const ne=super.subscribe({next:O,error:V,complete:K});return r instanceof b.w0&&r.add(ne),ne}};function aw(){return this._results[Al()]()}class F_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Al(),a=F_.prototype;a[s]||(a[s]=aw)}get changes(){return this._changes||(this._changes=new Gu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=S(r);(this._changesDetected=!function T(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],g=r[a];if(s&&(d=s(d),g=s(g)),g!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Eg=(()=>{class n{}return n.__NG_ELEMENT_ID__=cw,n})();const lw=Eg,uw=class extends lw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,d=Bh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(d[19]=w.createEmbeddedView(a)),Hh(a,d,r),new qc(d)}};function cw(){return sy(Ri(),Nt())}function sy(n,r){return 4&n.type?new uw(r,n,yu(n,r)):null}let oy=(()=>{class n{}return n.__NG_ELEMENT_ID__=dw,n})();function dw(){return M0(Ri(),Nt())}const hw=oy,S0=class extends hw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const r=Sr(this._hostTNode,this._hostLView);if(Pl(r)){const s=vo(r,this._hostLView),a=Ja(r);return new ms(s[1].data[a+8],s)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=A0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let d,g;"number"==typeof a?d=a:null!=a&&(d=a.index,g=a.injector);const w=r.createEmbeddedView(s||{},g);return this.insert(w,d),w}createComponent(r,s,a,d,g){const w=r&&!function Fi(n){return"function"==typeof n}(r);let O;if(w)O=s;else{const ce=s||{};O=ce.index,a=ce.injector,d=ce.projectableNodes,g=ce.environmentInjector||ce.ngModuleRef}const V=w?r:new nf(Be(r)),K=a||this.parentInjector;if(!g&&null==V.ngModule){const Fe=(w?K:this.parentInjector).get(mu,null);Fe&&(g=Fe)}const ne=V.create(K,d,void 0,g);return this.insert(ne.hostView,O),ne}insert(r,s){const a=r._lView,d=a[1];if(function Lo(n){return ji(n[3])}(a)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const ce=a[3],Fe=new S0(ce,ce[6],ce[3]);Fe.detach(Fe.indexOf(r))}}const g=this._adjustIndex(s),w=this._lContainer;!function Ou(n,r,s,a){const d=10+a,g=s.length;a>0&&(s[d-1][4]=r),a<g-10?(r[4]=s[d],F(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function Vg(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(w,r);const O=r[19];null!==O&&O.insertView(n),r[2]|=64}(d,a,w,g);const O=qf(g,w),V=a[11],K=md(V,w[7]);return null!==K&&function Cy(n,r,s,a,d,g){a[0]=d,a[6]=r,Ru(n,a,s,1,d,g)}(d,w[6],V,a,K,O),r.attachToViewContainerRef(),F(L_(w),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=A0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=$f(this._lContainer,s);a&&($(L_(this._lContainer),s),Bg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=$f(this._lContainer,s);return a&&null!=$(L_(this._lContainer),s)?new qc(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function A0(n){return n[8]}function L_(n){return n[8]||(n[8]=[])}function M0(n,r){let s;const a=r[n.index];if(ji(a))s=a;else{let d;if(8&n.type)d=Qr(a);else{const g=r[11];d=g.createComment("");const w=pi(n,r);uc(g,md(g,w),d,function Dy(n,r){return n.nextSibling(r)}(g,w),!1)}r[n.index]=s=Mm(a,r,d,n),Sd(r,s)}return new S0(s,n,r)}class V_{constructor(r){this.queryList=r,this.matches=null}clone(){return new V_(this.queryList)}setDirty(){this.queryList.setDirty()}}class U_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let g=0;g<a;g++){const w=s.getByIndex(g);d.push(this.queries[w.indexInDeclarationView].clone())}return new U_(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==V0(r,s).matches&&this.queries[s].setDirty()}}class P0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class B_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,g=this.getByIndex(a).embeddedTView(r,d);g&&(g.indexInDeclarationView=a,null!==s?s.push(g):s=[g])}return null!==s?new B_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class j_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new j_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(r,s,gw(s,g)),this.matchTNodeWithReadOption(r,s,Ea(s,r,g,!1,!1))}else a===Eg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ea(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===tc||d===oy||d===Eg&&4&s.type)this.addMatch(s.index,-2);else{const g=Ea(s,r,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function yw(n,r,s,a){return-1===s?function mw(n,r){return 11&n.type?yu(n,r):4&n.type?sy(n,r):null}(r,n):-2===s?function _w(n,r,s){return s===tc?yu(r,n):s===Eg?sy(r,n):s===oy?M0(r,n):void 0}(n,r,a):el(n,n[1],s,r)}function O0(n,r,s,a){const d=r[19].queries[a];if(null===d.matches){const g=n.data,w=s.matches,O=[];for(let V=0;V<w.length;V+=2){const K=w[V];O.push(K<0?null:yw(r,g[K],w[V+1],s.metadata.read))}d.matches=O}return d.matches}function H_(n,r,s,a){const d=n.queries.getByIndex(s),g=d.matches;if(null!==g){const w=O0(n,r,d,s);for(let O=0;O<g.length;O+=2){const V=g[O];if(V>0)a.push(w[O/2]);else{const K=g[O+1],ne=r[-V];for(let ce=10;ce<ne.length;ce++){const Fe=ne[ce];Fe[17]===Fe[3]&&H_(Fe[1],Fe,K,a)}if(null!==ne[9]){const ce=ne[9];for(let Fe=0;Fe<ce.length;Fe++){const ut=ce[Fe];H_(ut[1],ut,K,a)}}}}}return a}function x0(n){const r=Nt(),s=dr(),a=sa();Bo(a+1);const d=V0(s,a);if(n.dirty&&function Qa(n){return 4==(4&n[2])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const g=d.crossesNgTemplate?H_(s,r,a,[]):O0(s,r,d,a);n.reset(g,Mf),n.notifyOnChanges()}return!0}return!1}function R0(n,r,s){const a=dr();a.firstCreatePass&&(L0(a,new P0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),F0(a,Nt(),r)}function N0(n,r,s,a){const d=dr();if(d.firstCreatePass){const g=Ri();L0(d,new P0(r,s,a),g.index),function Ew(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}F0(d,Nt(),s)}function k0(){return function vw(n,r){return n[19].queries[r].queryList}(Nt(),sa())}function F0(n,r,s){const a=new F_(4==(4&s));fc(n,r,a,a.destroy),null===r[19]&&(r[19]=new U_),r[19].queries.push(new V_(a))}function L0(n,r,s){null===n.queries&&(n.queries=new B_),n.queries.track(new j_(r,s))}function V0(n,r){return n.queries.getByIndex(r)}function U0(n,r){return sy(n,r)}function ly(...n){}const iE=new ii("Application Initializer");let uy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=ly,this.reject=ly,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(tg(g))s.push(g);else if(ng(g)){const w=new Promise((O,V)=>{g.subscribe({complete:O,error:V})});s.push(w)}}Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ts(iE,8))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sE=new ii("AppId",{providedIn:"root",factory:function oE(){return`${K_()}${K_()}${K_()}`}});function K_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aE=new ii("Platform Initializer"),Bw=new ii("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lE=new ii("appBootstrapListener"),jw=new ii("AnimationModuleType");let Hw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const cy=new ii("LocaleId",{providedIn:"root",factory:()=>pl(cy,sn.Optional|sn.SkipSelf)||function $w(){return"undefined"!=typeof $localize&&$localize.locale||wf}()}),Gw=new ii("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ww{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zw=(()=>{class n{compileModuleSync(s){return new x_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),g=Wl(ir(s).declarations).reduce((w,O)=>{const V=Be(O);return V&&w.push(new nf(V)),w},[]);return new Ww(a,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=(()=>Promise.resolve(0))();function q_(n){"undefined"==typeof Zone?Yw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class lu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gu(!1),this.onMicrotaskEmpty=new Gu(!1),this.onStable=new Gu(!1),this.onError=new Gu(!1),"undefined"==typeof Zone)throw new Ne(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Qw(){let n=_t.requestAnimationFrame,r=_t.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Xw(n){const r=()=>{!function Jw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_t,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Q_(n),n.isCheckStableRunning=!0,Y_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Q_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,g,w,O)=>{try{return dE(n),s.invokeTask(d,g,w,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),hE(n)}},onInvoke:(s,a,d,g,w,O,V)=>{try{return dE(n),s.invoke(d,g,w,O,V)}finally{n.shouldCoalesceRunChangeDetection&&r(),hE(n)}},onHasTask:(s,a,d,g)=>{s.hasTask(d,g),a===d&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,Q_(n),Y_(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,a,d,g)=>(s.handleError(d,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lu.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(lu.isInAngularZone())throw new Ne(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+d,r,Zw,ly,ly);try{return g.runTask(w,s,a)}finally{g.cancelTask(w)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Zw={};function Y_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Q_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function dE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function hE(n){n._nesting--,Y_(n)}class eD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gu,this.onMicrotaskEmpty=new Gu,this.onStable=new Gu,this.onError=new Gu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const fE=new ii(""),pE=new ii("");let wg,tD=(()=>{class n{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wg||(function nD(n){wg=n}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lu.assertNotInAngularZone(),q_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())q_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(ts(lu),ts(gE),ts(pE))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac}),n})(),gE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){var d;return null!==(d=null==wg?void 0:wg.findTestabilityInTree(this,s,a))&&void 0!==d?d:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Wu=null;const mE=new ii("AllowMultipleToken"),Z_=new ii("PlatformDestroyListeners");class sD{constructor(r,s){this.name=r,this.token=s}}function _E(n,r,s=[]){const a=`Platform: ${r}`,d=new ii(a);return(g=[])=>{let w=J_();if(!w||w.injector.get(mE,!1)){const O=[...s,...g,{provide:d,useValue:!0}];n?n(O):function oD(n){if(Wu&&!Wu.get(mE,!1))throw new Ne(400,!1);Wu=n;const r=n.get(EE);(function yE(n){const r=n.get(aE,null);r&&r.forEach(s=>s())})(n)}(function vE(n=[],r){return Nu.create({name:r,providers:[{provide:Qu,useValue:"platform"},{provide:Z_,useValue:new Set([()=>Wu=null])},...n]})}(O,a))}return function lD(n){const r=J_();if(!r)throw new Ne(401,!1);return r}()}}function J_(){var n;return null!==(n=null==Wu?void 0:Wu.get(EE))&&void 0!==n?n:null}let EE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function wE(n,r){let s;return s="noop"===n?new eD:("zone.js"===n?void 0:n)||new lu(r),s}(null==a?void 0:a.ngZone,function CE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),g=[{provide:lu,useValue:d}];return d.run(()=>{const w=Nu.create({providers:g,parent:this.injector,name:s.moduleType.name}),O=s.create(w),V=O.injector.get(Cs,null);if(!V)throw new Ne(402,!1);return d.runOutsideAngular(()=>{const K=d.onError.subscribe({next:ne=>{V.handleError(ne)}});O.onDestroy(()=>{hy(this._modules,O),K.unsubscribe()})}),function DE(n,r,s){try{const a=s();return tg(a)?a.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(V,d,()=>{const K=O.injector.get(uy);return K.runInitializers(),K.donePromise.then(()=>(function Ov(n){Bt(n,"Expected localeId to be defined"),"string"==typeof n&&(Pv=n.toLowerCase().replace(/_/g,"-"))}(O.injector.get(cy,wf)||wf),this._moduleDoBootstrap(O),O))})})}bootstrapModule(s,a=[]){const d=IE({},a);return function rD(n,r,s){const a=new x_(s);return Promise.resolve(a)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(s){const a=s.injector.get(dy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new Ne(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Z_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ts(Nu))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function IE(n,r){return Array.isArray(r)?r.reduce(IE,n):Object.assign(Object.assign({},n),r)}let dy=(()=>{class n{constructor(s,a,d){this._zone=s,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new ie.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),w=new ie.y(O=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{lu.assertNotInAngularZone(),q_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{lu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{V.unsubscribe(),K.unsubscribe()}});this.isStable=(0,H.T)(g,w.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof oh;if(!this._injector.get(uy).done)throw!d&&Yn(s),new Ne(405,false);let w;w=d?s:this._injector.get(Gl).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const O=function iD(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Df),K=w.create(Nu.NULL,[],a||w.selector,O),ne=K.location.nativeElement,ce=K.injector.get(fE,null);return null==ce||ce.registerApplication(ne),K.onDestroy(()=>{this.detachView(K.hostView),hy(this.components,K),null==ce||ce.unregisterApplication(ne)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;hy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(lE,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>hy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ne(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(ts(lu),ts(mu),ts(Cs))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let TE=!0,SE=!1;function cD(){return SE=!0,TE}function dD(){if(SE)throw new Error("Cannot enable prod mode after platform setup.");TE=!1}let hD=(()=>{class n{}return n.__NG_ELEMENT_ID__=fD,n})();function fD(n){return function pD(n,r,s){if(er(n)&&!s){const a=ur(n.index,r);return new qc(a,a)}return 47&n.type?new qc(r[16],r):null}(Ri(),Nt(),16==(16&n))}class OE{constructor(){}supports(r){return Od(r)}create(r){return new ED(r)}}const vD=(n,r)=>r;class ED{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,g=null;for(;s||a;){const w=!a||s&&s.currentIndex<RE(a,d,g)?s:a,O=RE(w,d,g),V=w.currentIndex;if(w===a)d--,a=a._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{g||(g=[]);const K=O-d,ne=V-d;if(K!=ne){for(let Fe=0;Fe<K;Fe++){const ut=Fe<g.length?g[Fe]:g[Fe]=0,kt=ut+Fe;ne<=kt&&kt<K&&(g[Fe]=ut+1)}g[w.previousIndex]=ne-K}}O!==V&&r(w,O,V)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Od(r))throw new Ne(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,w,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let O=0;O<this.length;O++)g=r[O],w=this._trackByFn(O,g),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,g,w,O)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,w,O),a=!0),s=s._next}else d=0,function Xy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Al()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,O=>{w=this._trackByFn(d,O),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,O,w,d)),Object.is(s.item,O)||this._addIdentityChange(s,O)):(s=this._mismatch(s,O,w,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,d)):r=this._addAfter(new CD(s,a),g,d),r}_verifyReinsertion(r,s,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new xE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class CD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class xE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new wD,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RE(n,r,s){const a=n.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class NE{constructor(){}supports(r){return r instanceof Map||af(r)}create(){return new DD}}class DD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||af(r)))throw new Ne(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const g=d._prev,w=d._next;return g&&(g._next=w),w&&(w._prev=g),d._next=null,d._prev=null,d}const a=new ID(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class ID{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kE(){return new rv([new OE])}let rv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||kE()),deps:[[n,new Ka,new ml]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new Ne(901,!1)}}return n.\u0275prov=Ve({token:n,providedIn:"root",factory:kE}),n})();function FE(){return new iv([new NE])}let iv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||FE()),deps:[[n,new Ka,new ml]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new Ne(901,!1)}}return n.\u0275prov=Ve({token:n,providedIn:"root",factory:FE}),n})();const SD=_E(null,"core",[]);let AD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ts(dy))},n.\u0275mod=Ei({type:n}),n.\u0275inj=St({}),n})();function MD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},3075:(xt,Pe,A)=>{A.d(Pe,{CE:()=>xi,Cf:()=>Je,EJ:()=>Ao,F:()=>Ln,Fd:()=>Qr,Fj:()=>qe,JJ:()=>sn,JL:()=>wi,JU:()=>se,Kr:()=>ds,NI:()=>fi,Oe:()=>Jo,On:()=>Bs,Q7:()=>Qs,UX:()=>as,Wl:()=>re,YN:()=>Qo,_:()=>Zt,_Y:()=>bs,a5:()=>kr,c5:()=>Js,cw:()=>Be,eT:()=>Vr,kI:()=>ze,nD:()=>os,oH:()=>mr,qQ:()=>Zo,qu:()=>dr,sg:()=>Hi,u:()=>Hn,u5:()=>Xs,wO:()=>vr,wV:()=>fe,x0:()=>$i});var p=A(5e3),b=A(9808),ie=A(457),H=A(4128),ge=A(4004);let pe=(()=>{class G{constructor(k,X){this._renderer=k,this._elementRef=X,this.onChange=mt=>{},this.onTouched=()=>{}}setProperty(k,X){this._renderer.setProperty(this._elementRef.nativeElement,k,X)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(p.Qsj),p.Y36(p.SBq))},G.\u0275dir=p.lG2({type:G}),G})(),we=(()=>{class G extends pe{}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,features:[p.qOj]}),G})();const se=new p.OlP("NgValueAccessor"),Se={provide:se,useExisting:(0,p.Gpc)(()=>re),multi:!0};let re=(()=>{class G extends we{writeValue(k){this.setProperty("checked",k)}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(k,X){1&k&&p.NdJ("change",function(cn){return X.onChange(cn.target.checked)})("blur",function(){return X.onTouched()})},features:[p._Bn([Se]),p.qOj]}),G})();const ue={provide:se,useExisting:(0,p.Gpc)(()=>qe),multi:!0},rt=new p.OlP("CompositionEventMode");let qe=(()=>{class G extends pe{constructor(k,X,mt){super(k,X),this._compositionMode=mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ve(){const G=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(rt,8))},G.\u0275dir=p.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,X){1&k&&p.NdJ("input",function(cn){return X._handleInput(cn.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(cn){return X._compositionEnd(cn.target.value)})},features:[p._Bn([ue]),p.qOj]}),G})();function Ye(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function $e(G){return null!=G&&"number"==typeof G.length}const Je=new p.OlP("NgValidators"),Pt=new p.OlP("NgAsyncValidators"),Qt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ze{static min(B){return je(B)}static max(B){return Ct(B)}static required(B){return Rt(B)}static requiredTrue(B){return function it(G){return!0===G.value?null:{required:!0}}(B)}static email(B){return function Ht(G){return Ye(G.value)||Qt.test(G.value)?null:{email:!0}}(B)}static minLength(B){return Ot(B)}static maxLength(B){return nt(B)}static pattern(B){return We(B)}static nullValidator(B){return null}static compose(B){return Et(B)}static composeAsync(B){return Tt(B)}}function je(G){return B=>{if(Ye(B.value)||Ye(G))return null;const k=parseFloat(B.value);return!isNaN(k)&&k<G?{min:{min:G,actual:B.value}}:null}}function Ct(G){return B=>{if(Ye(B.value)||Ye(G))return null;const k=parseFloat(B.value);return!isNaN(k)&&k>G?{max:{max:G,actual:B.value}}:null}}function Rt(G){return Ye(G.value)?{required:!0}:null}function Ot(G){return B=>Ye(B.value)||!$e(B.value)?null:B.value.length<G?{minlength:{requiredLength:G,actualLength:B.value.length}}:null}function nt(G){return B=>$e(B.value)&&B.value.length>G?{maxlength:{requiredLength:G,actualLength:B.value.length}}:null}function We(G){if(!G)return pt;let B,k;return"string"==typeof G?(k="","^"!==G.charAt(0)&&(k+="^"),k+=G,"$"!==G.charAt(G.length-1)&&(k+="$"),B=new RegExp(k)):(k=G.toString(),B=G),X=>{if(Ye(X.value))return null;const mt=X.value;return B.test(mt)?null:{pattern:{requiredPattern:k,actualValue:mt}}}}function pt(G){return null}function He(G){return null!=G}function Vt(G){return(0,p.QGY)(G)?(0,ie.D)(G):G}function dt(G){let B={};return G.forEach(k=>{B=null!=k?Object.assign(Object.assign({},B),k):B}),0===Object.keys(B).length?null:B}function zt(G,B){return B.map(k=>k(G))}function Bt(G){return G.map(B=>function Yt(G){return!G.validate}(B)?B:k=>B.validate(k))}function Et(G){if(!G)return null;const B=G.filter(He);return 0==B.length?null:function(k){return dt(zt(k,B))}}function pr(G){return null!=G?Et(Bt(G)):null}function Tt(G){if(!G)return null;const B=G.filter(He);return 0==B.length?null:function(k){const X=zt(k,B).map(Vt);return(0,H.D)(X).pipe((0,ge.U)(dt))}}function st(G){return null!=G?Tt(Bt(G)):null}function Ve(G,B){return null===G?[B]:Array.isArray(G)?[...G,B]:[G,B]}function Xe(G){return G._rawValidators}function St(G){return G._rawAsyncValidators}function Tn(G){return G?Array.isArray(G)?G:[G]:[]}function rr(G,B){return Array.isArray(G)?G.includes(B):G===B}function wr(G,B){const k=Tn(B);return Tn(G).forEach(mt=>{rr(k,mt)||k.push(mt)}),k}function Dr(G,B){return Tn(B).filter(k=>!rr(G,k))}class Yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=pr(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,k){return!!this.control&&this.control.hasError(B,k)}getError(B,k){return this.control?this.control.getError(B,k):null}}class kr extends Yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ar extends Yr{get formDirective(){return null}get path(){return null}}class Wr{constructor(B){this._cd=B}get isTouched(){var B,k;return!(null===(k=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===k||!k.touched)}get isUntouched(){var B,k;return!(null===(k=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===k||!k.untouched)}get isPristine(){var B,k;return!(null===(k=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===k||!k.pristine)}get isDirty(){var B,k;return!(null===(k=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===k||!k.dirty)}get isValid(){var B,k;return!(null===(k=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===k||!k.valid)}get isInvalid(){var B,k;return!(null===(k=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===k||!k.invalid)}get isPending(){var B,k;return!(null===(k=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===k||!k.pending)}get isSubmitted(){var B;return!(null===(B=this._cd)||void 0===B||!B.submitted)}}let sn=(()=>{class G extends Wr{constructor(k){super(k)}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(kr,2))},G.\u0275dir=p.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[p.qOj]}),G})(),wi=(()=>{class G extends Wr{constructor(k){super(k)}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(ar,10))},G.\u0275dir=p.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[p.qOj]}),G})();const Bn="VALID",Xn="INVALID",ni="PENDING",Gr="DISABLED";function $n(G){return(Oe(G)?G.validators:G)||null}function Ir(G){return Array.isArray(G)?pr(G):G||null}function ri(G,B){return(Oe(B)?B.asyncValidators:G)||null}function Ei(G){return Array.isArray(G)?st(G):G||null}function Oe(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function De(G,B,k){const X=G.controls;if(!(B?Object.keys(X):X).length)throw new p.vHH(1e3,"");if(!X[k])throw new p.vHH(1001,"")}function ke(G,B,k){G._forEachChild((X,mt)=>{if(void 0===k[mt])throw new p.vHH(1002,"")})}class bt{constructor(B,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=k,this._composedValidatorFn=Ir(this._rawValidators),this._composedAsyncValidatorFn=Ei(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===Bn}get invalid(){return this.status===Xn}get pending(){return this.status==ni}get disabled(){return this.status===Gr}get enabled(){return this.status!==Gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=Ir(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=Ei(B)}addValidators(B){this.setValidators(wr(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(wr(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Dr(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Dr(B,this._rawAsyncValidators))}hasValidator(B){return rr(this._rawValidators,B)}hasAsyncValidator(B){return rr(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=ni,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const k=this._parentMarkedDirty(B.onlySelf);this.status=Gr,this.errors=null,this._forEachChild(X=>{X.disable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:k})),this._onDisabledChange.forEach(X=>X(!0))}enable(B={}){const k=this._parentMarkedDirty(B.onlySelf);this.status=Bn,this._forEachChild(X=>{X.enable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:k})),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bn||this.status===ni)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gr:Bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=ni,this._hasOwnPendingAsyncValidator=!0;const k=Vt(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,k={}){this.errors=B,this._updateControlsErrors(!1!==k.emitEvent)}get(B){let k=B;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((X,mt)=>X&&X._find(mt),this)}getError(B,k){const X=k?this.get(k):this;return X&&X.errors?X.errors[B]:null}hasError(B,k){return!!this.getError(B,k)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Gr:this.errors?Xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ni)?ni:this._anyControlsHaveStatus(Xn)?Xn:Bn}_anyControlsHaveStatus(B){return this._anyControls(k=>k.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Oe(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}}class Be extends bt{constructor(B,k,X){super($n(k),ri(X,k)),this.controls=B,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,k){return this.controls[B]?this.controls[B]:(this.controls[B]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(B,k,X={}){this.registerControl(B,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(B,k={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(B,k,X={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],k&&this.registerControl(B,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,k={}){ke(this,0,B),Object.keys(B).forEach(X=>{De(this,!0,X),this.controls[X].setValue(B[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(B,k={}){null!=B&&(Object.keys(B).forEach(X=>{const mt=this.controls[X];mt&&mt.patchValue(B[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(B={},k={}){this._forEachChild((X,mt)=>{X.reset(B[mt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(B,k,X)=>(B[X]=k.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(k,X)=>!!X._syncPendingControls()||k);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(k=>{const X=this.controls[k];X&&B(X,k)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[k,X]of Object.entries(this.controls))if(this.contains(k)&&B(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,X,mt)=>((X.enabled||this.disabled)&&(k[mt]=X.value),k))}_reduceChildren(B,k){let X=B;return this._forEachChild((mt,cn)=>{X=k(X,mt,cn)}),X}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}class Yn extends Be{}function Br(G,B){return[...B.path,G]}function Ue(G,B){var k,X;vt(G,B),B.valueAccessor.writeValue(G.value),G.disabled&&(null===(X=(k=B.valueAccessor).setDisabledState)||void 0===X||X.call(k,!0)),function wn(G,B){B.valueAccessor.registerOnChange(k=>{G._pendingValue=k,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&xe(G,B)})}(G,B),function Dt(G,B){const k=(X,mt)=>{B.valueAccessor.writeValue(X),mt&&B.viewToModelUpdate(X)};G.registerOnChange(k),B._registerOnDestroy(()=>{G._unregisterOnChange(k)})}(G,B),function Me(G,B){B.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&xe(G,B),"submit"!==G.updateOn&&G.markAsTouched()})}(G,B),function Ge(G,B){if(B.valueAccessor.setDisabledState){const k=X=>{B.valueAccessor.setDisabledState(X)};G.registerOnDisabledChange(k),B._registerOnDestroy(()=>{G._unregisterOnDisabledChange(k)})}}(G,B)}function Ce(G,B,k=!0){const X=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(X),B.valueAccessor.registerOnTouched(X)),En(G,B),G&&(B._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function de(G,B){G.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(B)})}function vt(G,B){const k=Xe(G);null!==B.validator?G.setValidators(Ve(k,B.validator)):"function"==typeof k&&G.setValidators([k]);const X=St(G);null!==B.asyncValidator?G.setAsyncValidators(Ve(X,B.asyncValidator)):"function"==typeof X&&G.setAsyncValidators([X]);const mt=()=>G.updateValueAndValidity();de(B._rawValidators,mt),de(B._rawAsyncValidators,mt)}function En(G,B){let k=!1;if(null!==G){if(null!==B.validator){const mt=Xe(G);if(Array.isArray(mt)&&mt.length>0){const cn=mt.filter(Zr=>Zr!==B.validator);cn.length!==mt.length&&(k=!0,G.setValidators(cn))}}if(null!==B.asyncValidator){const mt=St(G);if(Array.isArray(mt)&&mt.length>0){const cn=mt.filter(Zr=>Zr!==B.asyncValidator);cn.length!==mt.length&&(k=!0,G.setAsyncValidators(cn))}}}const X=()=>{};return de(B._rawValidators,X),de(B._rawAsyncValidators,X),k}function xe(G,B){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Kt(G,B){vt(G,B)}function Xr(G,B){if(!G.hasOwnProperty("model"))return!1;const k=G.model;return!!k.isFirstChange()||!Object.is(B,k.currentValue)}function hi(G,B){G._syncPendingControls(),B.forEach(k=>{const X=k.control;"submit"===X.updateOn&&X._pendingChange&&(k.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}function Ds(G,B){if(!B)return null;let k,X,mt;return Array.isArray(B),B.forEach(cn=>{cn.constructor===qe?k=cn:function Fn(G){return Object.getPrototypeOf(G.constructor)===we}(cn)?X=cn:mt=cn}),mt||X||k||null}const or={provide:ar,useExisting:(0,p.Gpc)(()=>Ln)},Mr=(()=>Promise.resolve())();let Ln=(()=>{class G extends ar{constructor(k,X){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Be({},pr(k),st(X))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){Mr.then(()=>{const X=this._findContainer(k.path);k.control=X.registerControl(k.name,k.control),Ue(k.control,k),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){Mr.then(()=>{const X=this._findContainer(k.path);X&&X.removeControl(k.name),this._directives.delete(k)})}addFormGroup(k){Mr.then(()=>{const X=this._findContainer(k.path),mt=new Be({});Kt(mt,k),X.registerControl(k.name,mt),mt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){Mr.then(()=>{const X=this._findContainer(k.path);X&&X.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,X){Mr.then(()=>{this.form.get(k.path).setValue(X)})}setValue(k){this.control.setValue(k)}onSubmit(k){var X;return this.submitted=!0,hi(this.form,this._directives),this.ngSubmit.emit(k),"dialog"===(null===(X=null==k?void 0:k.target)||void 0===X?void 0:X.method)}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(Je,10),p.Y36(Pt,10))},G.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,X){1&k&&p.NdJ("submit",function(cn){return X.onSubmit(cn)})("reset",function(){return X.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([or]),p.qOj]}),G})();function An(G,B){const k=G.indexOf(B);k>-1&&G.splice(k,1)}function Mn(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const fi=class extends bt{constructor(B=null,k,X){super($n(k),ri(X,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oe(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Mn(B)?B.value:B)}setValue(B,k={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(B,k={}){this.setValue(B,k)}reset(B=this.defaultValue,k={}){this._applyFormState(B),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){An(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){An(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){Mn(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}};let fo=(()=>{class G extends ar{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Br(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,features:[p.qOj]}),G})();const qs={provide:kr,useExisting:(0,p.Gpc)(()=>Bs)},Yi=(()=>Promise.resolve())();let Bs=(()=>{class G extends kr{constructor(k,X,mt,cn,Zr){super(),this._changeDetectorRef=Zr,this.control=new fi,this._registered=!1,this.update=new p.vpe,this._parent=k,this._setValidators(X),this._setAsyncValidators(mt),this.valueAccessor=Ds(0,cn)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const X=k.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),Xr(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ue(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){Yi.then(()=>{var X;this.control.setValue(k,{emitViewToModelChange:!1}),null===(X=this._changeDetectorRef)||void 0===X||X.markForCheck()})}_updateDisabled(k){const X=k.isDisabled.currentValue,mt=0!==X&&(0,p.D6c)(X);Yi.then(()=>{var cn;mt&&!this.control.disabled?this.control.disable():!mt&&this.control.disabled&&this.control.enable(),null===(cn=this._changeDetectorRef)||void 0===cn||cn.markForCheck()})}_getPath(k){return this._parent?Br(k,this._parent):[k]}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(ar,9),p.Y36(Je,10),p.Y36(Pt,10),p.Y36(se,10),p.Y36(p.sBO,8))},G.\u0275dir=p.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([qs]),p.qOj,p.TTD]}),G})(),bs=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})();const js={provide:se,useExisting:(0,p.Gpc)(()=>fe),multi:!0};let fe=(()=>{class G extends we{writeValue(k){this.setProperty("value",null==k?"":k)}registerOnChange(k){this.onChange=X=>{k(""==X?null:parseFloat(X))}}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(k,X){1&k&&p.NdJ("input",function(cn){return X.onChange(cn.target.value)})("blur",function(){return X.onTouched()})},features:[p._Bn([js]),p.qOj]}),G})();const Ze={provide:se,useExisting:(0,p.Gpc)(()=>Zt),multi:!0};let ht=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({}),G})(),Xt=(()=>{class G{constructor(){this._accessors=[]}add(k,X){this._accessors.push([k,X])}remove(k){for(let X=this._accessors.length-1;X>=0;--X)if(this._accessors[X][1]===k)return void this._accessors.splice(X,1)}select(k){this._accessors.forEach(X=>{this._isSameGroup(X,k)&&X[1]!==k&&X[1].fireUncheck(k.value)})}_isSameGroup(k,X){return!!k[0].control&&k[0]._parent===X._control._parent&&k[1].name===X.name}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275prov=p.Yz7({token:G,factory:G.\u0275fac,providedIn:ht}),G})(),Zt=(()=>{class G extends we{constructor(k,X,mt,cn){super(k,X),this._registry=mt,this._injector=cn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(kr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(k){this._state=k===this.value,this.setProperty("checked",this._state)}registerOnChange(k){this._fn=k,this.onChange=()=>{k(this.value),this._registry.select(this)}}fireUncheck(k){this.writeValue(k)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Xt),p.Y36(p.zs3))},G.\u0275dir=p.lG2({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(k,X){1&k&&p.NdJ("change",function(){return X.onChange()})("blur",function(){return X.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[p._Bn([Ze]),p.qOj]}),G})();const Kn={provide:se,useExisting:(0,p.Gpc)(()=>Vr),multi:!0};let Vr=(()=>{class G extends we{writeValue(k){this.setProperty("value",parseFloat(k))}registerOnChange(k){this.onChange=X=>{k(""==X?null:parseFloat(X))}}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(k,X){1&k&&p.NdJ("change",function(cn){return X.onChange(cn.target.value)})("input",function(cn){return X.onChange(cn.target.value)})("blur",function(){return X.onTouched()})},features:[p._Bn([Kn]),p.qOj]}),G})();const _r=new p.OlP("NgModelWithFormControlWarning"),Oi={provide:kr,useExisting:(0,p.Gpc)(()=>mr)};let mr=(()=>{class G extends kr{constructor(k,X,mt,cn){super(),this._ngModelWarningConfig=cn,this.update=new p.vpe,this._ngModelWarningSent=!1,this._setValidators(k),this._setAsyncValidators(X),this.valueAccessor=Ds(0,mt)}set isDisabled(k){}ngOnChanges(k){if(this._isControlChanged(k)){const X=k.form.previousValue;X&&Ce(X,this,!1),Ue(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Xr(k,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ce(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_isControlChanged(k){return k.hasOwnProperty("form")}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(k){return new(k||G)(p.Y36(Je,10),p.Y36(Pt,10),p.Y36(se,10),p.Y36(_r,8))},G.\u0275dir=p.lG2({type:G,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p._Bn([Oi]),p.qOj,p.TTD]}),G})();const Rn={provide:ar,useExisting:(0,p.Gpc)(()=>Hi)};let Hi=(()=>{class G extends ar{constructor(k,X){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(k),this._setAsyncValidators(X)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(En(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const X=this.form.get(k.path);return Ue(X,k),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),X}getControl(k){return this.form.get(k.path)}removeControl(k){Ce(k.control||null,k,!1),function Is(G,B){const k=G.indexOf(B);k>-1&&G.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,X){this.form.get(k.path).setValue(X)}onSubmit(k){var X;return this.submitted=!0,hi(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===(null===(X=null==k?void 0:k.target)||void 0===X?void 0:X.method)}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const X=k.control,mt=this.form.get(k.path);X!==mt&&(Ce(X||null,k),(G=>G instanceof fi)(mt)&&(Ue(mt,k),k.control=mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const X=this.form.get(k.path);Kt(X,k),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const X=this.form.get(k.path);X&&function bn(G,B){return En(G,B)}(X,k)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vt(this.form,this),this._oldForm&&En(this._oldForm,this)}_checkFormPresent(){}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(Je,10),p.Y36(Pt,10))},G.\u0275dir=p.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(k,X){1&k&&p.NdJ("submit",function(cn){return X.onSubmit(cn)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Rn]),p.qOj,p.TTD]}),G})();const Ys={provide:ar,useExisting:(0,p.Gpc)(()=>$i)};let $i=(()=>{class G extends fo{constructor(k,X,mt){super(),this._parent=k,this._setValidators(X),this._setAsyncValidators(mt)}_checkParentType(){Qi(this._parent)}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(ar,13),p.Y36(Je,10),p.Y36(Pt,10))},G.\u0275dir=p.lG2({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[p._Bn([Ys]),p.qOj]}),G})();const li={provide:ar,useExisting:(0,p.Gpc)(()=>xi)};let xi=(()=>{class G extends ar{constructor(k,X,mt){super(),this._parent=k,this._setValidators(X),this._setAsyncValidators(mt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Br(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Qi(this._parent)}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(ar,13),p.Y36(Je,10),p.Y36(Pt,10))},G.\u0275dir=p.lG2({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[p._Bn([li]),p.qOj]}),G})();function Qi(G){return!(G instanceof $i||G instanceof Hi||G instanceof xi)}const Zi={provide:kr,useExisting:(0,p.Gpc)(()=>Hn)};let Hn=(()=>{class G extends kr{constructor(k,X,mt,cn,Zr){super(),this._ngModelWarningConfig=Zr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(X),this._setAsyncValidators(mt),this.valueAccessor=Ds(0,cn)}set isDisabled(k){}ngOnChanges(k){this._added||this._setUpControl(),Xr(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return Br(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(k){return new(k||G)(p.Y36(ar,13),p.Y36(Je,10),p.Y36(Pt,10),p.Y36(se,10),p.Y36(_r,8))},G.\u0275dir=p.lG2({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Zi]),p.qOj,p.TTD]}),G})();const is={provide:se,useExisting:(0,p.Gpc)(()=>Ao),multi:!0};function Ts(G,B){return null==G?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${G}: ${B}`.slice(0,50))}let Ao=(()=>{class G extends we{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){this.value=k;const mt=Ts(this._getOptionId(k),k);this.setProperty("value",mt)}registerOnChange(k){this.onChange=X=>{this.value=this._getOptionValue(X),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const X of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(X),k))return X;return null}_getOptionValue(k){const X=function po(G){return G.split(":")[0]}(k);return this._optionMap.has(X)?this._optionMap.get(X):k}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,X){1&k&&p.NdJ("change",function(cn){return X.onChange(cn.target.value)})("blur",function(){return X.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([is]),p.qOj]}),G})(),Qo=(()=>{class G{constructor(k,X,mt){this._element=k,this._renderer=X,this._select=mt,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(Ts(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._setElementValue(k),this._select&&this._select.writeValue(this._select.value)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Ao,9))},G.\u0275dir=p.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();const Ss={provide:se,useExisting:(0,p.Gpc)(()=>Di),multi:!0};function go(G,B){return null==G?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${G}: ${B}`.slice(0,50))}let Di=(()=>{class G extends we{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){let X;if(this.value=k,Array.isArray(k)){const mt=k.map(cn=>this._getOptionId(cn));X=(cn,Zr)=>{cn._setSelected(mt.indexOf(Zr.toString())>-1)}}else X=(mt,cn)=>{mt._setSelected(!1)};this._optionMap.forEach(X)}registerOnChange(k){this.onChange=X=>{const mt=[],cn=X.selectedOptions;if(void 0!==cn){const Zr=cn;for(let Gi=0;Gi<Zr.length;Gi++){const Jr=this._getOptionValue(Zr[Gi].value);mt.push(Jr)}}else{const Zr=X.options;for(let Gi=0;Gi<Zr.length;Gi++){const Hs=Zr[Gi];if(Hs.selected){const Jr=this._getOptionValue(Hs.value);mt.push(Jr)}}}this.value=mt,k(mt)}}_registerOption(k){const X=(this._idCounter++).toString();return this._optionMap.set(X,k),X}_getOptionId(k){for(const X of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(X)._value,k))return X;return null}_getOptionValue(k){const X=function ks(G){return G.split(":")[0]}(k);return this._optionMap.has(X)?this._optionMap.get(X)._value:k}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,X){1&k&&p.NdJ("change",function(cn){return X.onChange(cn.target)})("blur",function(){return X.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Ss]),p.qOj]}),G})(),ds=(()=>{class G{constructor(k,X,mt){this._element=k,this._renderer=X,this._select=mt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(go(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(go(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(k){return new(k||G)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Di,9))},G.\u0275dir=p.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();function hs(G){return"number"==typeof G?G:parseInt(G,10)}function ss(G){return"number"==typeof G?G:parseFloat(G)}let Ur=(()=>{class G{constructor(){this._validator=pt}ngOnChanges(k){if(this.inputName in k){const X=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):pt,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275dir=p.lG2({type:G,features:[p.TTD]}),G})();const Mo={provide:Je,useExisting:(0,p.Gpc)(()=>Qr),multi:!0};let Qr=(()=>{class G extends Ur{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=k=>ss(k),this.createValidator=k=>Ct(k)}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(k,X){2&k&&p.uIk("max",X._enabled?X.max:null)},inputs:{max:"max"},features:[p._Bn([Mo]),p.qOj]}),G})();const Fo={provide:Je,useExisting:(0,p.Gpc)(()=>Zo),multi:!0};let Zo=(()=>{class G extends Ur{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=k=>ss(k),this.createValidator=k=>je(k)}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(k,X){2&k&&p.uIk("min",X._enabled?X.min:null)},inputs:{min:"min"},features:[p._Bn([Fo]),p.qOj]}),G})();const mo={provide:Je,useExisting:(0,p.Gpc)(()=>Qs),multi:!0};let Qs=(()=>{class G extends Ur{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=k=>Rt}enabled(k){return k}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,X){2&k&&p.uIk("required",X._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([mo]),p.qOj]}),G})();const Qa={provide:Je,useExisting:(0,p.Gpc)(()=>vr),multi:!0};let vr=(()=>{class G extends Ur{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=k=>hs(k),this.createValidator=k=>Ot(k)}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(k,X){2&k&&p.uIk("minlength",X._enabled?X.minlength:null)},inputs:{minlength:"minlength"},features:[p._Bn([Qa]),p.qOj]}),G})();const Lo={provide:Je,useExisting:(0,p.Gpc)(()=>os),multi:!0};let os=(()=>{class G extends Ur{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=k=>hs(k),this.createValidator=k=>nt(k)}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(k,X){2&k&&p.uIk("maxlength",X._enabled?X.maxlength:null)},inputs:{maxlength:"maxlength"},features:[p._Bn([Lo]),p.qOj]}),G})();const Vo={provide:Je,useExisting:(0,p.Gpc)(()=>Js),multi:!0};let Js=(()=>{class G extends Ur{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=k=>k,this.createValidator=k=>We(k)}}return G.\u0275fac=function(){let B;return function(X){return(B||(B=p.n5z(G)))(X||G)}}(),G.\u0275dir=p.lG2({type:G,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(k,X){2&k&&p.uIk("pattern",X._enabled?X.pattern:null)},inputs:{pattern:"pattern"},features:[p._Bn([Vo]),p.qOj]}),G})(),ra=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({imports:[ht]}),G})(),Xs=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({imports:[ra]}),G})(),as=(()=>{class G{static withConfig(k){return{ngModule:G,providers:[{provide:_r,useValue:k.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=p.oAB({type:G}),G.\u0275inj=p.cJS({imports:[ra]}),G})();class Jo extends bt{constructor(B,k,X){super($n(k),ri(X,k)),this.controls=B,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[this._adjustIndex(B)]}push(B,k={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(B,k,X={}){this.controls.splice(B,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(B,k={}){let X=this._adjustIndex(B);X<0&&(X=0),this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),this.controls.splice(X,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(B,k,X={}){let mt=this._adjustIndex(B);mt<0&&(mt=0),this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),this.controls.splice(mt,1),k&&(this.controls.splice(mt,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,k={}){ke(this,0,B),B.forEach((X,mt)=>{De(this,!1,mt),this.at(mt).setValue(X,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(B,k={}){null!=B&&(B.forEach((X,mt)=>{this.at(mt)&&this.at(mt).patchValue(X,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(B=[],k={}){this._forEachChild((X,mt)=>{X.reset(B[mt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(B=>B.getRawValue())}clear(B={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_adjustIndex(B){return B<0?B+this.length:B}_syncPendingControls(){let B=this.controls.reduce((k,X)=>!!X._syncPendingControls()||k,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((k,X)=>{B(k,X)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(k=>k.enabled&&B(k))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}_find(B){var k;return null!==(k=this.at(B))&&void 0!==k?k:null}}function Nt(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let dr=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const k=new G;return k.useNonNullable=!0,k}group(k,X=null){const mt=this._reduceControls(k);let cn={};return Nt(X)?cn=X:null!==X&&(cn.validators=X.validator,cn.asyncValidators=X.asyncValidator),new Be(mt,cn)}record(k,X=null){const mt=this._reduceControls(k);return new Yn(mt,X)}control(k,X,mt){let cn={};return this.useNonNullable?(Nt(X)?cn=X:(cn.validators=X,cn.asyncValidators=mt),new fi(k,Object.assign(Object.assign({},cn),{nonNullable:!0}))):new fi(k,X,mt)}array(k,X,mt){const cn=k.map(Zr=>this._createControl(Zr));return new Jo(cn,X,mt)}_reduceControls(k){const X={};return Object.keys(k).forEach(mt=>{X[mt]=this._createControl(k[mt])}),X}_createControl(k){return k instanceof fi||k instanceof bt?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275prov=p.Yz7({token:G,factory:G.\u0275fac,providedIn:as}),G})()},2313:(xt,Pe,A)=>{A.d(Pe,{Dx:()=>Ke,H7:()=>dn,b2:()=>Ns,q6:()=>Ci,se:()=>He});var p=A(9808),b=A(5e3);class ie extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends ie{static makeCurrent(){(0,p.HT)(new H)}onAndCancel(Ce,de,Ge){return Ce.addEventListener(de,Ge,!1),()=>{Ce.removeEventListener(de,Ge,!1)}}dispatchEvent(Ce,de){Ce.dispatchEvent(de)}remove(Ce){Ce.parentNode&&Ce.parentNode.removeChild(Ce)}createElement(Ce,de){return(de=de||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,de){return"window"===de?window:"document"===de?Ce:"body"===de?Ce.body:null}getBaseHref(Ce){const de=function pe(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==de?null:function se(Ue){we=we||document.createElement("a"),we.setAttribute("href",Ue);const Ce=we.pathname;return"/"===Ce.charAt(0)?Ce:`/${Ce}`}(de)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,p.Mx)(document.cookie,Ce)}}let we,ge=null;const Se=new b.OlP("TRANSITION_ID"),ue=[{provide:b.ip1,useFactory:function re(Ue,Ce,de){return()=>{de.get(b.CZH).donePromise.then(()=>{const Ge=(0,p.q)(),vt=Ce.querySelectorAll(`style[ng-transition="${Ue}"]`);for(let En=0;En<vt.length;En++)Ge.remove(vt[En])})}},deps:[Se,p.K0,b.zs3],multi:!0}];let rt=(()=>{class Ue{build(){return new XMLHttpRequest}}return Ue.\u0275fac=function(de){return new(de||Ue)},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const qe=new b.OlP("EventManagerPlugins");let Ne=(()=>{class Ue{constructor(de,Ge){this._zone=Ge,this._eventNameToPlugin=new Map,de.forEach(vt=>vt.manager=this),this._plugins=de.slice().reverse()}addEventListener(de,Ge,vt){return this._findPluginFor(Ge).addEventListener(de,Ge,vt)}addGlobalEventListener(de,Ge,vt){return this._findPluginFor(Ge).addGlobalEventListener(de,Ge,vt)}getZone(){return this._zone}_findPluginFor(de){const Ge=this._eventNameToPlugin.get(de);if(Ge)return Ge;const vt=this._plugins;for(let En=0;En<vt.length;En++){const wn=vt[En];if(wn.supports(de))return this._eventNameToPlugin.set(de,wn),wn}throw new Error(`No event manager plugin found for event ${de}`)}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(qe),b.LFG(b.R0b))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class Ye{constructor(Ce){this._doc=Ce}addGlobalEventListener(Ce,de,Ge){const vt=(0,p.q)().getGlobalEventTarget(this._doc,Ce);if(!vt)throw new Error(`Unsupported event target ${vt} for event ${de}`);return this.addEventListener(vt,de,Ge)}}let $e=(()=>{class Ue{constructor(){this._stylesSet=new Set}addStyles(de){const Ge=new Set;de.forEach(vt=>{this._stylesSet.has(vt)||(this._stylesSet.add(vt),Ge.add(vt))}),this.onStylesAdded(Ge)}onStylesAdded(de){}getAllStyles(){return Array.from(this._stylesSet)}}return Ue.\u0275fac=function(de){return new(de||Ue)},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),Je=(()=>{class Ue extends $e{constructor(de){super(),this._doc=de,this._hostNodes=new Map,this._hostNodes.set(de.head,[])}_addStylesToHost(de,Ge,vt){de.forEach(En=>{const wn=this._doc.createElement("style");wn.textContent=En,vt.push(Ge.appendChild(wn))})}addHost(de){const Ge=[];this._addStylesToHost(this._stylesSet,de,Ge),this._hostNodes.set(de,Ge)}removeHost(de){const Ge=this._hostNodes.get(de);Ge&&Ge.forEach(Pt),this._hostNodes.delete(de)}onStylesAdded(de){this._hostNodes.forEach((Ge,vt)=>{this._addStylesToHost(de,vt,Ge)})}ngOnDestroy(){this._hostNodes.forEach(de=>de.forEach(Pt))}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(p.K0))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();function Pt(Ue){(0,p.q)().remove(Ue)}const Qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g;function nt(Ue,Ce,de){for(let Ge=0;Ge<Ce.length;Ge++){let vt=Ce[Ge];Array.isArray(vt)?nt(Ue,vt,de):(vt=vt.replace(ze,Ue),de.push(vt))}return de}function We(Ue){return Ce=>{if("__ngUnwrap__"===Ce)return Ue;!1===Ue(Ce)&&(Ce.preventDefault(),Ce.returnValue=!1)}}let He=(()=>{class Ue{constructor(de,Ge,vt){this.eventManager=de,this.sharedStylesHost=Ge,this.appId=vt,this.rendererByCompId=new Map,this.defaultRenderer=new Vt(de)}createRenderer(de,Ge){if(!de||!Ge)return this.defaultRenderer;switch(Ge.encapsulation){case b.ifc.Emulated:{let vt=this.rendererByCompId.get(Ge.id);return vt||(vt=new Bt(this.eventManager,this.sharedStylesHost,Ge,this.appId),this.rendererByCompId.set(Ge.id,vt)),vt.applyToHost(de),vt}case 1:case b.ifc.ShadowDom:return new Et(this.eventManager,this.sharedStylesHost,de,Ge);default:if(!this.rendererByCompId.has(Ge.id)){const vt=nt(Ge.id,Ge.styles,[]);this.sharedStylesHost.addStyles(vt),this.rendererByCompId.set(Ge.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(Ne),b.LFG(Je),b.LFG(b.AFp))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class Vt{constructor(Ce){this.eventManager=Ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ce,de){return de?document.createElementNS(Qt[de]||de,Ce):document.createElement(Ce)}createComment(Ce){return document.createComment(Ce)}createText(Ce){return document.createTextNode(Ce)}appendChild(Ce,de){(Yt(Ce)?Ce.content:Ce).appendChild(de)}insertBefore(Ce,de,Ge){Ce&&(Yt(Ce)?Ce.content:Ce).insertBefore(de,Ge)}removeChild(Ce,de){Ce&&Ce.removeChild(de)}selectRootElement(Ce,de){let Ge="string"==typeof Ce?document.querySelector(Ce):Ce;if(!Ge)throw new Error(`The selector "${Ce}" did not match any elements`);return de||(Ge.textContent=""),Ge}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,de,Ge,vt){if(vt){de=vt+":"+de;const En=Qt[vt];En?Ce.setAttributeNS(En,de,Ge):Ce.setAttribute(de,Ge)}else Ce.setAttribute(de,Ge)}removeAttribute(Ce,de,Ge){if(Ge){const vt=Qt[Ge];vt?Ce.removeAttributeNS(vt,de):Ce.removeAttribute(`${Ge}:${de}`)}else Ce.removeAttribute(de)}addClass(Ce,de){Ce.classList.add(de)}removeClass(Ce,de){Ce.classList.remove(de)}setStyle(Ce,de,Ge,vt){vt&(b.JOm.DashCase|b.JOm.Important)?Ce.style.setProperty(de,Ge,vt&b.JOm.Important?"important":""):Ce.style[de]=Ge}removeStyle(Ce,de,Ge){Ge&b.JOm.DashCase?Ce.style.removeProperty(de):Ce.style[de]=""}setProperty(Ce,de,Ge){Ce[de]=Ge}setValue(Ce,de){Ce.nodeValue=de}listen(Ce,de,Ge){return"string"==typeof Ce?this.eventManager.addGlobalEventListener(Ce,de,We(Ge)):this.eventManager.addEventListener(Ce,de,We(Ge))}}function Yt(Ue){return"TEMPLATE"===Ue.tagName&&void 0!==Ue.content}class Bt extends Vt{constructor(Ce,de,Ge,vt){super(Ce),this.component=Ge;const En=nt(vt+"-"+Ge.id,Ge.styles,[]);de.addStyles(En),this.contentAttr=function Ht(Ue){return"_ngcontent-%COMP%".replace(ze,Ue)}(vt+"-"+Ge.id),this.hostAttr=function Ot(Ue){return"_nghost-%COMP%".replace(ze,Ue)}(vt+"-"+Ge.id)}applyToHost(Ce){super.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,de){const Ge=super.createElement(Ce,de);return super.setAttribute(Ge,this.contentAttr,""),Ge}}class Et extends Vt{constructor(Ce,de,Ge,vt){super(Ce),this.sharedStylesHost=de,this.hostEl=Ge,this.shadowRoot=Ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const En=nt(vt.id,vt.styles,[]);for(let wn=0;wn<En.length;wn++){const Me=document.createElement("style");Me.textContent=En[wn],this.shadowRoot.appendChild(Me)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ce,de){return super.appendChild(this.nodeOrShadowRoot(Ce),de)}insertBefore(Ce,de,Ge){return super.insertBefore(this.nodeOrShadowRoot(Ce),de,Ge)}removeChild(Ce,de){return super.removeChild(this.nodeOrShadowRoot(Ce),de)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}}let pr=(()=>{class Ue extends Ye{constructor(de){super(de)}supports(de){return!0}addEventListener(de,Ge,vt){return de.addEventListener(Ge,vt,!1),()=>this.removeEventListener(de,Ge,vt)}removeEventListener(de,Ge,vt){return de.removeEventListener(Ge,vt)}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(p.K0))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Tt=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:Ue=>Ue.altKey,control:Ue=>Ue.ctrlKey,meta:Ue=>Ue.metaKey,shift:Ue=>Ue.shiftKey};let Xe=(()=>{class Ue extends Ye{constructor(de){super(de)}supports(de){return null!=Ue.parseEventName(de)}addEventListener(de,Ge,vt){const En=Ue.parseEventName(Ge),wn=Ue.eventCallback(En.fullKey,vt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(de,En.domEventName,wn))}static parseEventName(de){const Ge=de.toLowerCase().split("."),vt=Ge.shift();if(0===Ge.length||"keydown"!==vt&&"keyup"!==vt)return null;const En=Ue._normalizeKey(Ge.pop());let wn="",Me=Ge.indexOf("code");if(Me>-1&&(Ge.splice(Me,1),wn="code."),Tt.forEach(Dt=>{const Kt=Ge.indexOf(Dt);Kt>-1&&(Ge.splice(Kt,1),wn+=Dt+".")}),wn+=En,0!=Ge.length||0===En.length)return null;const xe={};return xe.domEventName=vt,xe.fullKey=wn,xe}static matchEventFullKeyCode(de,Ge){let vt=st[de.key]||de.key,En="";return Ge.indexOf("code.")>-1&&(vt=de.code,En="code."),!(null==vt||!vt)&&(vt=vt.toLowerCase()," "===vt?vt="space":"."===vt&&(vt="dot"),Tt.forEach(wn=>{wn!==vt&&(0,Ve[wn])(de)&&(En+=wn+".")}),En+=vt,En===Ge)}static eventCallback(de,Ge,vt){return En=>{Ue.matchEventFullKeyCode(En,de)&&vt.runGuarded(()=>Ge(En))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(p.K0))},Ue.\u0275prov=b.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Ci=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:p.bD},{provide:b.g9A,useValue:function Yr(){H.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function ar(){return(0,b.RDi)(document),document},deps:[]}]),Mi=new b.OlP(""),sn=[{provide:b.rWj,useClass:class ve{addToWindow(Ce){b.dqk.getAngularTestability=(Ge,vt=!0)=>{const En=Ce.findTestabilityInTree(Ge,vt);if(null==En)throw new Error("Could not find testability for element.");return En},b.dqk.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>Ce.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(Ge=>{const vt=b.dqk.getAllAngularTestabilities();let En=vt.length,wn=!1;const Me=function(xe){wn=wn||xe,En--,0==En&&Ge(wn)};vt.forEach(function(xe){xe.whenStable(Me)})})}findTestabilityInTree(Ce,de,Ge){if(null==de)return null;const vt=Ce.getTestability(de);return null!=vt?vt:Ge?(0,p.q)().isShadowRoot(de)?this.findTestabilityInTree(Ce,de.host,!0):this.findTestabilityInTree(Ce,de.parentElement,!0):null}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],wi=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function kr(){return new b.qLn},deps:[]},{provide:qe,useClass:pr,multi:!0,deps:[p.K0,b.R0b,b.Lbi]},{provide:qe,useClass:Xe,multi:!0,deps:[p.K0]},{provide:He,useClass:He,deps:[Ne,Je,b.AFp]},{provide:b.FYo,useExisting:He},{provide:$e,useExisting:Je},{provide:Je,useClass:Je,deps:[p.K0]},{provide:Ne,useClass:Ne,deps:[qe,b.R0b]},{provide:p.JF,useClass:rt,deps:[]},[]];let Ns=(()=>{class Ue{constructor(de){}static withServerTransition(de){return{ngModule:Ue,providers:[{provide:b.AFp,useValue:de.appId},{provide:Se,useExisting:b.AFp},ue]}}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(Mi,12))},Ue.\u0275mod=b.oAB({type:Ue}),Ue.\u0275inj=b.cJS({providers:[...wi,...sn],imports:[p.ez,b.hGG]}),Ue})(),Ke=(()=>{class Ue{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(p.K0))},Ue.\u0275prov=b.Yz7({token:Ue,factory:function(de){let Ge=null;return Ge=de?new de:function Lr(){return new Ke((0,b.LFG)(p.K0))}(),Ge},providedIn:"root"}),Ue})();"undefined"!=typeof window&&window;let dn=(()=>{class Ue{}return Ue.\u0275fac=function(de){return new(de||Ue)},Ue.\u0275prov=b.Yz7({token:Ue,factory:function(de){let Ge=null;return Ge=de?new(de||Ue):b.LFG(ir),Ge},providedIn:"root"}),Ue})(),ir=(()=>{class Ue extends dn{constructor(de){super(),this._doc=de}sanitize(de,Ge){if(null==Ge)return null;switch(de){case b.q3G.NONE:return Ge;case b.q3G.HTML:return(0,b.qzn)(Ge,"HTML")?(0,b.z3N)(Ge):(0,b.EiD)(this._doc,String(Ge)).toString();case b.q3G.STYLE:return(0,b.qzn)(Ge,"Style")?(0,b.z3N)(Ge):Ge;case b.q3G.SCRIPT:if((0,b.qzn)(Ge,"Script"))return(0,b.z3N)(Ge);throw new Error("unsafe value used in a script context");case b.q3G.URL:return(0,b.qzn)(Ge,"URL")?(0,b.z3N)(Ge):(0,b.mCW)(String(Ge));case b.q3G.RESOURCE_URL:if((0,b.qzn)(Ge,"ResourceURL"))return(0,b.z3N)(Ge);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${de} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(de){return(0,b.JVY)(de)}bypassSecurityTrustStyle(de){return(0,b.L6k)(de)}bypassSecurityTrustScript(de){return(0,b.eBb)(de)}bypassSecurityTrustUrl(de){return(0,b.LAX)(de)}bypassSecurityTrustResourceUrl(de){return(0,b.pB0)(de)}}return Ue.\u0275fac=function(de){return new(de||Ue)(b.LFG(p.K0))},Ue.\u0275prov=b.Yz7({token:Ue,factory:function(de){let Ge=null;return Ge=de?new de:function Yn(Ue){return new ir(Ue.get(p.K0))}(b.LFG(b.zs3)),Ge},providedIn:"root"}),Ue})()},4202:(xt,Pe,A)=>{A.d(Pe,{Bz:()=>$o,F0:()=>Xi,OD:()=>Mr,Od:()=>Po,Q3:()=>Mn,gk:()=>An,gz:()=>Kn,lC:()=>ks,m2:()=>Ln,rH:()=>to,wN:()=>Ml,yS:()=>oo});var p=A(5e3),b=A(457),ie=A(9646),H=A(1135),ge=A(6805),pe=A(9841),we=A(7272),se=A(9770),Se=A(9635),re=A(2843),ue=A(9751),ve=A(515),rt=A(4033),qe=A(7579),Ne=A(9808),Ye=A(4004),$e=A(3900),Je=A(5698),Pt=A(8675),Qt=A(9300),ze=A(5577),je=A(590),Ct=A(4351),Rt=A(8505),it=A(262),Ht=A(5026),Ot=A(3103),nt=A(2529),We=A(6590),pt=A(2035),He=A(9718),Vt=A(8746),dt=A(8343),zt=A(8189),Yt=A(2313);const Bt="primary",Et=Symbol("RouteTitle");class pr{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const D=this.params[S];return Array.isArray(D)?D[0]:D}return null}getAll(S){if(this.has(S)){const D=this.params[S];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Tt(T){return new pr(T)}function st(T,S,D){const F=D.path.split("/");if(F.length>T.length||"full"===D.pathMatch&&(S.hasChildren()||F.length<T.length))return null;const $={};for(let J=0;J<F.length;J++){const he=F[J],_e=T[J];if(he.startsWith(":"))$[he.substring(1)]=_e;else if(he!==_e.path)return null}return{consumed:T.slice(0,F.length),posParams:$}}function Xe(T,S){const D=T?Object.keys(T):void 0,F=S?Object.keys(S):void 0;if(!D||!F||D.length!=F.length)return!1;let $;for(let J=0;J<D.length;J++)if($=D[J],!St(T[$],S[$]))return!1;return!0}function St(T,S){if(Array.isArray(T)&&Array.isArray(S)){if(T.length!==S.length)return!1;const D=[...T].sort(),F=[...S].sort();return D.every(($,J)=>F[J]===$)}return T===S}function Tn(T){return Array.prototype.concat.apply([],T)}function rr(T){return T.length>0?T[T.length-1]:null}function Dr(T,S){for(const D in T)T.hasOwnProperty(D)&&S(T[D],D)}function Yr(T){return(0,p.CqO)(T)?T:(0,p.QGY)(T)?(0,b.D)(Promise.resolve(T)):(0,ie.of)(T)}const Wr={exact:function wi(T,S,D){if(!at(T.segments,S.segments)||!vi(T.segments,S.segments,D)||T.numberOfChildren!==S.numberOfChildren)return!1;for(const F in S.children)if(!T.children[F]||!wi(T.children[F],S.children[F],D))return!1;return!0},subset:Fr},Ci={exact:function sn(T,S){return Xe(T,S)},subset:function Ns(T,S){return Object.keys(S).length<=Object.keys(T).length&&Object.keys(S).every(D=>St(T[D],S[D]))},ignored:()=>!0};function Mi(T,S,D){return Wr[D.paths](T.root,S.root,D.matrixParams)&&Ci[D.queryParams](T.queryParams,S.queryParams)&&!("exact"===D.fragment&&T.fragment!==S.fragment)}function Fr(T,S,D){return Pi(T,S,S.segments,D)}function Pi(T,S,D,F){if(T.segments.length>D.length){const $=T.segments.slice(0,D.length);return!(!at($,D)||S.hasChildren()||!vi($,D,F))}if(T.segments.length===D.length){if(!at(T.segments,D)||!vi(T.segments,D,F))return!1;for(const $ in S.children)if(!T.children[$]||!Fr(T.children[$],S.children[$],F))return!1;return!0}{const $=D.slice(0,T.segments.length),J=D.slice(T.segments.length);return!!(at(T.segments,$)&&vi(T.segments,$,F)&&T.children[Bt])&&Pi(T.children[Bt],S,J,F)}}function vi(T,S,D){return S.every((F,$)=>Ci[D](T[$].parameters,F.parameters))}class Lr{constructor(S,D,F){this.root=S,this.queryParams=D,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return gr.serialize(this)}}class Ke{constructor(S,D){this.segments=S,this.children=D,this.parent=null,Dr(D,(F,$)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class be{constructor(S,D){this.path=S,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return Gr(this)}}function at(T,S){return T.length===S.length&&T.every((D,F)=>D.path===S[F].path)}let yn=(()=>{class T{}return T.\u0275fac=function(D){return new(D||T)},T.\u0275prov=p.Yz7({token:T,factory:function(){return new Sn},providedIn:"root"}),T})();class Sn{parse(S){const D=new Be(S);return new Lr(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(S){const D=`/${zn(S.root,!0)}`,F=function Ir(T){const S=Object.keys(T).map(D=>{const F=T[D];return Array.isArray(F)?F.map($=>`${di(D)}=${di($)}`).join("&"):`${di(D)}=${di(F)}`}).filter(D=>!!D);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${D}${F}${"string"==typeof S.fragment?`#${function jn(T){return encodeURI(T)}(S.fragment)}`:""}`}}const gr=new Sn;function Jt(T){return T.segments.map(S=>Gr(S)).join("/")}function zn(T,S){if(!T.hasChildren())return Jt(T);if(S){const D=T.children[Bt]?zn(T.children[Bt],!1):"",F=[];return Dr(T.children,($,J)=>{J!==Bt&&F.push(`${J}:${zn($,!1)}`)}),F.length>0?`${D}(${F.join("//")})`:D}{const D=function _t(T,S){let D=[];return Dr(T.children,(F,$)=>{$===Bt&&(D=D.concat(S(F,$)))}),Dr(T.children,(F,$)=>{$!==Bt&&(D=D.concat(S(F,$)))}),D}(T,(F,$)=>$===Bt?[zn(T.children[Bt],!1)]:[`${$}:${zn(F,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Bt]?`${Jt(T)}/${D[0]}`:`${Jt(T)}/(${D.join("//")})`}}function nr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function di(T){return nr(T).replace(/%3B/gi,";")}function Bn(T){return nr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xn(T){return decodeURIComponent(T)}function ni(T){return Xn(T.replace(/\+/g,"%20"))}function Gr(T){return`${Bn(T.path)}${function $n(T){return Object.keys(T).map(S=>`;${Bn(S)}=${Bn(T[S])}`).join("")}(T.parameters)}`}const ri=/^[^\/()?;=#]+/;function Ei(T){const S=T.match(ri);return S?S[0]:""}const Oe=/^[^=?&#]+/,ke=/^[^&#]+/;class Be{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(S.length>0||Object.keys(D).length>0)&&(F[Bt]=new Ke(S,D)),F}parseSegment(){const S=Ei(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(S),new be(Xn(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const D=Ei(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const $=Ei(this.remaining);$&&(F=$,this.capture(F))}S[Xn(D)]=Xn(F)}parseQueryParam(S){const D=function De(T){const S=T.match(Oe);return S?S[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const he=function bt(T){const S=T.match(ke);return S?S[0]:""}(this.remaining);he&&(F=he,this.capture(F))}const $=ni(D),J=ni(F);if(S.hasOwnProperty($)){let he=S[$];Array.isArray(he)||(he=[he],S[$]=he),he.push(J)}else S[$]=J}parseParens(S){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Ei(this.remaining),$=this.remaining[F.length];if("/"!==$&&")"!==$&&";"!==$)throw new p.vHH(4010,!1);let J;F.indexOf(":")>-1?(J=F.slice(0,F.indexOf(":")),this.capture(J),this.capture(":")):S&&(J=Bt);const he=this.parseChildren();D[J]=1===Object.keys(he).length?he[Bt]:new Ke([],he),this.consumeOptional("//")}return D}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new p.vHH(4011,!1)}}function en(T){return T.segments.length>0?new Ke([],{[Bt]:T}):T}function dn(T){const S={};for(const F of Object.keys(T.children)){const J=dn(T.children[F]);(J.segments.length>0||J.hasChildren())&&(S[F]=J)}return function Yn(T){if(1===T.numberOfChildren&&T.children[Bt]){const S=T.children[Bt];return new Ke(T.segments.concat(S.segments),S.children)}return T}(new Ke(T.segments,S))}function ir(T){return T instanceof Lr}function Ge(T,S,D,F,$){var J;if(0===D.length)return wn(S.root,S.root,S.root,F,$);const _e=function Dt(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new xe(!0,0,T);let S=0,D=!1;const F=T.reduce(($,J,he)=>{if("object"==typeof J&&null!=J){if(J.outlets){const _e={};return Dr(J.outlets,(et,Gt)=>{_e[Gt]="string"==typeof et?et.split("/"):et}),[...$,{outlets:_e}]}if(J.segmentPath)return[...$,J.segmentPath]}return"string"!=typeof J?[...$,J]:0===he?(J.split("/").forEach((_e,et)=>{0==et&&"."===_e||(0==et&&""===_e?D=!0:".."===_e?S++:""!=_e&&$.push(_e))}),$):[...$,J]},[]);return new xe(D,S,F)}(D);return _e.toRoot()?wn(S.root,S.root,new Ke([],{}),F,$):function et(_n){var tn;const kn=function xn(T,S,D,F){if(T.isAbsolute)return new Kt(S.root,!0,0);if(-1===F)return new Kt(D,D===S.root,0);return function sr(T,S,D){let F=T,$=S,J=D;for(;J>$;){if(J-=$,F=F.parent,!F)throw new p.vHH(4005,!1);$=F.segments.length}return new Kt(F,!1,$-J)}(D,F+(vt(T.commands[0])?0:1),T.numberOfDoubleDots)}(_e,S,null===(tn=T.snapshot)||void 0===tn?void 0:tn._urlSegment,_n),Er=kn.processChildren?Xr(kn.segmentGroup,kn.index,_e.commands):zr(kn.segmentGroup,kn.index,_e.commands);return wn(S.root,kn.segmentGroup,Er,F,$)}(null===(J=T.snapshot)||void 0===J?void 0:J._lastPathIndex)}function vt(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function En(T){return"object"==typeof T&&null!=T&&T.outlets}function wn(T,S,D,F,$){let he,J={};F&&Dr(F,(et,Gt)=>{J[Gt]=Array.isArray(et)?et.map(_n=>`${_n}`):`${et}`}),he=T===S?D:Me(T,S,D);const _e=en(dn(he));return new Lr(_e,J,$)}function Me(T,S,D){const F={};return Dr(T.children,($,J)=>{F[J]=$===S?D:Me($,S,D)}),new Ke(T.segments,F)}class xe{constructor(S,D,F){if(this.isAbsolute=S,this.numberOfDoubleDots=D,this.commands=F,S&&F.length>0&&vt(F[0]))throw new p.vHH(4003,!1);const $=F.find(En);if($&&$!==rr(F))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kt{constructor(S,D,F){this.segmentGroup=S,this.processChildren=D,this.index=F}}function zr(T,S,D){if(T||(T=new Ke([],{})),0===T.segments.length&&T.hasChildren())return Xr(T,S,D);const F=function Fn(T,S,D){let F=0,$=S;const J={match:!1,pathIndex:0,commandIndex:0};for(;$<T.segments.length;){if(F>=D.length)return J;const he=T.segments[$],_e=D[F];if(En(_e))break;const et=`${_e}`,Gt=F<D.length-1?D[F+1]:null;if($>0&&void 0===et)break;if(et&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!Bi(et,Gt,he))return J;F+=2}else{if(!Bi(et,{},he))return J;F++}$++}return{match:!0,pathIndex:$,commandIndex:F}}(T,S,D),$=D.slice(F.commandIndex);if(F.match&&F.pathIndex<T.segments.length){const J=new Ke(T.segments.slice(0,F.pathIndex),{});return J.children[Bt]=new Ke(T.segments.slice(F.pathIndex),T.children),Xr(J,0,$)}return F.match&&0===$.length?new Ke(T.segments,{}):F.match&&!T.hasChildren()?hi(T,S,D):F.match?Xr(T,0,$):hi(T,S,D)}function Xr(T,S,D){if(0===D.length)return new Ke(T.segments,{});{const F=function lr(T){return En(T[0])?T[0].outlets:{[Bt]:T}}(D),$={};return Dr(F,(J,he)=>{"string"==typeof J&&(J=[J]),null!==J&&($[he]=zr(T.children[he],S,J))}),Dr(T.children,(J,he)=>{void 0===F[he]&&($[he]=J)}),new Ke(T.segments,$)}}function hi(T,S,D){const F=T.segments.slice(0,S);let $=0;for(;$<D.length;){const J=D[$];if(En(J)){const et=Ds(J.outlets);return new Ke(F,et)}if(0===$&&vt(D[0])){F.push(new be(T.segments[S].path,Is(D[0]))),$++;continue}const he=En(J)?J.outlets[Bt]:`${J}`,_e=$<D.length-1?D[$+1]:null;he&&_e&&vt(_e)?(F.push(new be(he,Is(_e))),$+=2):(F.push(new be(he,{})),$++)}return new Ke(F,{})}function Ds(T){const S={};return Dr(T,(D,F)=>{"string"==typeof D&&(D=[D]),null!==D&&(S[F]=hi(new Ke([],{}),0,D))}),S}function Is(T){const S={};return Dr(T,(D,F)=>S[F]=`${D}`),S}function Bi(T,S,D){return T==D.path&&Xe(S,D.parameters)}class or{constructor(S,D){this.id=S,this.url=D}}class Mr extends or{constructor(S,D,F="imperative",$=null){super(S,D),this.type=0,this.navigationTrigger=F,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ln extends or{constructor(S,D,F){super(S,D),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class An extends or{constructor(S,D,F,$){super(S,D),this.reason=F,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mn extends or{constructor(S,D,F,$){super(S,D),this.error=F,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fi extends or{constructor(S,D,F,$){super(S,D),this.urlAfterRedirects=F,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends or{constructor(S,D,F,$){super(S,D),this.urlAfterRedirects=F,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends or{constructor(S,D,F,$,J){super(S,D),this.urlAfterRedirects=F,this.state=$,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fo extends or{constructor(S,D,F,$){super(S,D),this.urlAfterRedirects=F,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends or{constructor(S,D,F,$){super(S,D),this.urlAfterRedirects=F,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pr{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class er{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yi{constructor(S,D,F){this.routerEvent=S,this.position=D,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bs{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const D=this.pathFromRoot(S);return D.length>1?D[D.length-2]:null}children(S){const D=js(S,this._root);return D?D.children.map(F=>F.value):[]}firstChild(S){const D=js(S,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(S){const D=fe(S,this._root);return D.length<2?[]:D[D.length-2].children.map($=>$.value).filter($=>$!==S)}pathFromRoot(S){return fe(S,this._root).map(D=>D.value)}}function js(T,S){if(T===S.value)return S;for(const D of S.children){const F=js(T,D);if(F)return F}return null}function fe(T,S){if(T===S.value)return[S];for(const D of S.children){const F=fe(T,D);if(F.length)return F.unshift(S),F}return[]}class Ze{constructor(S,D){this.value=S,this.children=D}toString(){return`TreeNode(${this.value})`}}function Le(T){const S={};return T&&T.children.forEach(D=>S[D.value.outlet]=D),S}class ht extends bs{constructor(S,D){super(S),this.snapshot=D,Rn(this,S)}toString(){return this.snapshot.toString()}}function Xt(T,S){const D=function Zt(T,S){const he=new Oi([],{},{},"",{},Bt,S,null,T.root,-1,{});return new mr("",new Ze(he,[]))}(T,S),F=new H.X([new be("",{})]),$=new H.X({}),J=new H.X({}),he=new H.X({}),_e=new H.X(""),et=new Kn(F,$,he,_e,J,Bt,S,D.root);return et.snapshot=D.root,new ht(new Ze(et,[]),D)}class Kn{constructor(S,D,F,$,J,he,_e,et){var Gt,_n;this.url=S,this.params=D,this.queryParams=F,this.fragment=$,this.data=J,this.outlet=he,this.component=_e,this.title=null!==(_n=null===(Gt=this.data)||void 0===Gt?void 0:Gt.pipe((0,Ye.U)(tn=>tn[Et])))&&void 0!==_n?_n:(0,ie.of)(void 0),this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(S=>Tt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(S=>Tt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vr(T,S="emptyOnly"){const D=T.pathFromRoot;let F=0;if("always"!==S)for(F=D.length-1;F>=1;){const $=D[F],J=D[F-1];if($.routeConfig&&""===$.routeConfig.path)F--;else{if(J.component)break;F--}}return function _r(T){return T.reduce((S,D)=>{var F;return{params:Object.assign(Object.assign({},S.params),D.params),data:Object.assign(Object.assign({},S.data),D.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},D.data),S.resolve),null===(F=D.routeConfig)||void 0===F?void 0:F.data),D._resolvedData)}},{params:{},data:{},resolve:{}})}(D.slice(F))}class Oi{constructor(S,D,F,$,J,he,_e,et,Gt,_n,tn,kn){var Er;this.url=S,this.params=D,this.queryParams=F,this.fragment=$,this.data=J,this.outlet=he,this.component=_e,this.title=null===(Er=this.data)||void 0===Er?void 0:Er[Et],this.routeConfig=et,this._urlSegment=Gt,this._lastPathIndex=_n,this._correctedLastPathIndex=null!=kn?kn:_n,this._resolve=tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mr extends bs{constructor(S,D){super(D),this.url=S,Rn(this,D)}toString(){return Hi(this._root)}}function Rn(T,S){S.value._routerState=T,S.children.forEach(D=>Rn(T,D))}function Hi(T){const S=T.children.length>0?` { ${T.children.map(Hi).join(", ")} } `:"";return`${T.value}${S}`}function Ys(T){if(T.snapshot){const S=T.snapshot,D=T._futureSnapshot;T.snapshot=D,Xe(S.queryParams,D.queryParams)||T.queryParams.next(D.queryParams),S.fragment!==D.fragment&&T.fragment.next(D.fragment),Xe(S.params,D.params)||T.params.next(D.params),function Ve(T,S){if(T.length!==S.length)return!1;for(let D=0;D<T.length;++D)if(!Xe(T[D],S[D]))return!1;return!0}(S.url,D.url)||T.url.next(D.url),Xe(S.data,D.data)||T.data.next(D.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function $i(T,S){const D=Xe(T.params,S.params)&&function Ee(T,S){return at(T,S)&&T.every((D,F)=>Xe(D.parameters,S[F].parameters))}(T.url,S.url);return D&&!(!T.parent!=!S.parent)&&(!T.parent||$i(T.parent,S.parent))}function xi(T,S,D){if(D&&T.shouldReuseRoute(S.value,D.value.snapshot)){const F=D.value;F._futureSnapshot=S.value;const $=function Qi(T,S,D){return S.children.map(F=>{for(const $ of D.children)if(T.shouldReuseRoute(F.value,$.value.snapshot))return xi(T,F,$);return xi(T,F)})}(T,S,D);return new Ze(F,$)}{if(T.shouldAttach(S.value)){const J=T.retrieve(S.value);if(null!==J){const he=J.route;return he.value._futureSnapshot=S.value,he.children=S.children.map(_e=>xi(T,_e)),he}}const F=function Zi(T){return new Kn(new H.X(T.url),new H.X(T.params),new H.X(T.queryParams),new H.X(T.fragment),new H.X(T.data),T.outlet,T.component,T)}(S.value),$=S.children.map(J=>xi(T,J));return new Ze(F,$)}}const Hn="ngNavigationCancelingError";function is(T,S){const{redirectTo:D,navigationBehaviorOptions:F}=ir(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,$=Ts(!1,0,S);return $.url=D,$.navigationBehaviorOptions=F,$}function Ts(T,S,D){const F=new Error("NavigationCancelingError: "+(T||""));return F[Hn]=!0,F.cancellationCode=S,D&&(F.url=D),F}function po(T){return Ao(T)&&ir(T.url)}function Ao(T){return T&&T[Hn]}class Qo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ss,this.attachRef=null}}let Ss=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(D,F){const $=this.getOrCreateContext(D);$.outlet=F,this.contexts.set(D,$)}onChildOutletDestroyed(D){const F=this.getContext(D);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let F=this.getContext(D);return F||(F=new Qo,this.contexts.set(D,F)),F}getContext(D){return this.contexts.get(D)||null}}return T.\u0275fac=function(D){return new(D||T)},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const go=!1;let ks=(()=>{class T{constructor(D,F,$,J,he){this.parentContexts=D,this.location=F,this.changeDetector=J,this.environmentInjector=he,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=$||Bt,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){var D;(null===(D=this.parentContexts.getContext(this.name))||void 0===D?void 0:D.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,go);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,go);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,go);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,F){this.activated=D,this._activatedRoute=F,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,F){if(this.isActivated)throw new p.vHH(4013,go);this._activatedRoute=D;const $=this.location,he=D._futureSnapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,et=new Ya(D,_e,$.injector);if(F&&function Di(T){return!!T.resolveComponentFactory}(F)){const Gt=F.resolveComponentFactory(he);this.activated=$.createComponent(Gt,$.length,et)}else this.activated=$.createComponent(he,{index:$.length,injector:et,environmentInjector:null!=F?F:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(D){return new(D||T)(p.Y36(Ss),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},T.\u0275dir=p.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),T})();class Ya{constructor(S,D,F){this.route=S,this.childContexts=D,this.parent=F}get(S,D){return S===Kn?this.route:S===Ss?this.childContexts:this.parent.get(S,D)}}let ds=(()=>{class T{}return T.\u0275fac=function(D){return new(D||T)},T.\u0275cmp=p.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(D,F){1&D&&p._UZ(0,"router-outlet")},dependencies:[ks],encapsulation:2}),T})();function hs(T,S){var D;return T.providers&&!T._injector&&(T._injector=(0,p.MMx)(T.providers,S,`Route: ${T.path}`)),null!==(D=T._injector)&&void 0!==D?D:S}function Qs(T){const S=T.children&&T.children.map(Qs),D=S?Object.assign(Object.assign({},T),{children:S}):Object.assign({},T);return!D.component&&!D.loadComponent&&(S||D.loadChildren)&&D.outlet&&D.outlet!==Bt&&(D.component=ds),D}function mn(T){return T.outlet||Bt}function Zs(T,S){const D=T.filter(F=>mn(F)===S);return D.push(...T.filter(F=>mn(F)!==S)),D}function ur(T){var S;if(!T)return null;if(null!==(S=T.routeConfig)&&void 0!==S&&S._injector)return T.routeConfig._injector;for(let D=T.parent;D;D=D.parent){const F=D.routeConfig;if(null!=F&&F._loadedInjector)return F._loadedInjector;if(null!=F&&F._injector)return F._injector}return null}class vr{constructor(S,D,F,$){this.routeReuseStrategy=S,this.futureState=D,this.currState=F,this.forwardEvent=$}activate(S){const D=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,F,S),Ys(this.futureState.root),this.activateChildRoutes(D,F,S)}deactivateChildRoutes(S,D,F){const $=Le(D);S.children.forEach(J=>{const he=J.value.outlet;this.deactivateRoutes(J,$[he],F),delete $[he]}),Dr($,(J,he)=>{this.deactivateRouteAndItsChildren(J,F)})}deactivateRoutes(S,D,F){const $=S.value,J=D?D.value:null;if($===J)if($.component){const he=F.getContext($.outlet);he&&this.deactivateChildRoutes(S,D,he.children)}else this.deactivateChildRoutes(S,D,F);else J&&this.deactivateRouteAndItsChildren(D,F)}deactivateRouteAndItsChildren(S,D){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,D):this.deactivateRouteAndOutlet(S,D)}detachAndStoreRouteSubtree(S,D){const F=D.getContext(S.value.outlet),$=F&&S.value.component?F.children:D,J=Le(S);for(const he of Object.keys(J))this.deactivateRouteAndItsChildren(J[he],$);if(F&&F.outlet){const he=F.outlet.detach(),_e=F.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:he,route:S,contexts:_e})}}deactivateRouteAndOutlet(S,D){const F=D.getContext(S.value.outlet),$=F&&S.value.component?F.children:D,J=Le(S);for(const he of Object.keys(J))this.deactivateRouteAndItsChildren(J[he],$);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(S,D,F){const $=Le(D);S.children.forEach(J=>{this.activateRoutes(J,$[J.value.outlet],F),this.forwardEvent(new qs(J.value.snapshot))}),S.children.length&&this.forwardEvent(new Kr(S.value.snapshot))}activateRoutes(S,D,F){var $;const J=S.value,he=D?D.value:null;if(Ys(J),J===he)if(J.component){const _e=F.getOrCreateContext(J.outlet);this.activateChildRoutes(S,D,_e.children)}else this.activateChildRoutes(S,D,F);else if(J.component){const _e=F.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const et=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),_e.children.onOutletReAttached(et.contexts),_e.attachRef=et.componentRef,_e.route=et.route.value,_e.outlet&&_e.outlet.attach(et.componentRef,et.route.value),Ys(et.route.value),this.activateChildRoutes(S,null,_e.children)}else{const et=ur(J.snapshot),Gt=null!==($=null==et?void 0:et.get(p._Vd))&&void 0!==$?$:null;_e.attachRef=null,_e.route=J,_e.resolver=Gt,_e.injector=et,_e.outlet&&_e.outlet.activateWith(J,_e.injector),this.activateChildRoutes(S,null,_e.children)}}else this.activateChildRoutes(S,null,F)}}class Lo{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class os{constructor(S,D){this.component=S,this.route=D}}function Vo(T,S,D){const F=T._root;return As(F,S?S._root:null,D,[F.value])}function Dn(T,S){const D=Symbol(),F=S.get(T,D);return F===D?"function"!=typeof T||(0,p.Z0I)(T)?S.get(T):T:F}function As(T,S,D,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const J=Le(S);return T.children.forEach(he=>{(function ga(T,S,D,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const J=T.value,he=S?S.value:null,_e=D?D.getContext(T.value.outlet):null;if(he&&J.routeConfig===he.routeConfig){const et=function ra(T,S,D){if("function"==typeof D)return D(T,S);switch(D){case"pathParamsChange":return!at(T.url,S.url);case"pathParamsOrQueryParamsChange":return!at(T.url,S.url)||!Xe(T.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$i(T,S)||!Xe(T.queryParams,S.queryParams);default:return!$i(T,S)}}(he,J,J.routeConfig.runGuardsAndResolvers);et?$.canActivateChecks.push(new Lo(F)):(J.data=he.data,J._resolvedData=he._resolvedData),As(T,S,J.component?_e?_e.children:null:D,F,$),et&&_e&&_e.outlet&&_e.outlet.isActivated&&$.canDeactivateChecks.push(new os(_e.outlet.component,he))}else he&&Xs(S,_e,$),$.canActivateChecks.push(new Lo(F)),As(T,null,J.component?_e?_e.children:null:D,F,$)})(he,J[he.value.outlet],D,F.concat([he.value]),$),delete J[he.value.outlet]}),Dr(J,(he,_e)=>Xs(he,D.getContext(_e),$)),$}function Xs(T,S,D){const F=Le(T),$=T.value;Dr(F,(J,he)=>{Xs(J,$.component?S?S.children.getContext(he):null:S,D)}),D.canDeactivateChecks.push(new os($.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,$))}function as(T){return"function"==typeof T}function G(T){return T instanceof ge.K||"EmptyError"===(null==T?void 0:T.name)}const B=Symbol("INITIAL_VALUE");function k(){return(0,$e.w)(T=>(0,pe.a)(T.map(S=>S.pipe((0,Je.q)(1),(0,Pt.O)(B)))).pipe((0,Ye.U)(S=>{for(const D of S)if(!0!==D){if(D===B)return B;if(!1===D||D instanceof Lr)return D}return!0}),(0,Qt.h)(S=>S!==B),(0,Je.q)(1)))}function _o(T){return(0,Se.z)((0,Rt.b)(S=>{if(ir(S))throw is(0,S)}),(0,Ye.U)(S=>!0===S))}const Ua={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(T,S,D,F,$){const J=fs(T,S,D);return J.matched?function ya(T,S,D,F){const $=S.canMatch;if(!$||0===$.length)return(0,ie.of)(!0);const J=$.map(he=>{const _e=Dn(he,T);return Yr(function ma(T){return T&&as(T.canMatch)}(_e)?_e.canMatch(S,D):T.runInContext(()=>_e(S,D)))});return(0,ie.of)(J).pipe(k(),_o())}(F=hs(S,F),S,D).pipe((0,Ye.U)(he=>!0===he?J:Object.assign({},Ua))):(0,ie.of)(J)}function fs(T,S,D){var F;if(""===S.path)return"full"===S.pathMatch&&(T.hasChildren()||D.length>0)?Object.assign({},Ua):{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const J=(S.matcher||st)(D,T,S);if(!J)return Object.assign({},Ua);const he={};Dr(J.posParams,(et,Gt)=>{he[Gt]=et.path});const _e=J.consumed.length>0?Object.assign(Object.assign({},he),J.consumed[J.consumed.length-1].parameters):he;return{matched:!0,consumedSegments:J.consumed,remainingSegments:D.slice(J.consumed.length),parameters:_e,positionalParamSegments:null!==(F=J.posParams)&&void 0!==F?F:{}}}function ia(T,S,D,F,$="corrected"){if(D.length>0&&function sa(T,S,D){return D.some(F=>eo(T,S,F)&&mn(F)!==Bt)}(T,D,F)){const he=new Ke(S,function Ba(T,S,D,F){const $={};$[Bt]=F,F._sourceSegment=T,F._segmentIndexShift=S.length;for(const J of D)if(""===J.path&&mn(J)!==Bt){const he=new Ke([],{});he._sourceSegment=T,he._segmentIndexShift=S.length,$[mn(J)]=he}return $}(T,S,F,new Ke(D,T.children)));return he._sourceSegment=T,he._segmentIndexShift=S.length,{segmentGroup:he,slicedSegments:[]}}if(0===D.length&&function Bo(T,S,D){return D.some(F=>eo(T,S,F))}(T,D,F)){const he=new Ke(T.segments,function Uo(T,S,D,F,$,J){const he={};for(const _e of F)if(eo(T,D,_e)&&!$[mn(_e)]){const et=new Ke([],{});et._sourceSegment=T,et._segmentIndexShift="legacy"===J?T.segments.length:S.length,he[mn(_e)]=et}return Object.assign(Object.assign({},$),he)}(T,S,D,F,T.children,$));return he._sourceSegment=T,he._segmentIndexShift=S.length,{segmentGroup:he,slicedSegments:D}}const J=new Ke(T.segments,T.children);return J._sourceSegment=T,J._segmentIndexShift=S.length,{segmentGroup:J,slicedSegments:D}}function eo(T,S,D){return(!(T.hasChildren()||S.length>0)||"full"!==D.pathMatch)&&""===D.path}function Xo(T,S,D,F){return!!(mn(T)===F||F!==Bt&&eo(S,D,T))&&("**"===T.path||fs(S,T,D).matched)}function ls(T,S,D){return 0===S.length&&!T.children[D]}const Za=!1;class ea{constructor(S){this.segmentGroup=S||null}}class va{constructor(S){this.urlTree=S}}function L(T){return(0,re._)(new ea(T))}function Y(T){return(0,re._)(new va(T))}class lt{constructor(S,D,F,$,J){this.injector=S,this.configLoader=D,this.urlSerializer=F,this.urlTree=$,this.config=J,this.allowRedirects=!0}apply(){const S=ia(this.urlTree.root,[],[],this.config).segmentGroup,D=new Ke(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,D,Bt).pipe((0,Ye.U)(J=>this.createUrlTree(dn(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,it.K)(J=>{if(J instanceof va)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof ea?this.noMatchError(J):J}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,Bt).pipe((0,Ye.U)($=>this.createUrlTree(dn($),S.queryParams,S.fragment))).pipe((0,it.K)($=>{throw $ instanceof ea?this.noMatchError($):$}))}noMatchError(S){return new p.vHH(4002,Za)}createUrlTree(S,D,F){const $=en(S);return new Lr($,D,F)}expandSegmentGroup(S,D,F,$){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(S,D,F).pipe((0,Ye.U)(J=>new Ke([],J))):this.expandSegment(S,F,D,F.segments,$,!0)}expandChildren(S,D,F){const $=[];for(const J of Object.keys(F.children))"primary"===J?$.unshift(J):$.push(J);return(0,b.D)($).pipe((0,Ct.b)(J=>{const he=F.children[J],_e=Zs(D,J);return this.expandSegmentGroup(S,_e,he,J).pipe((0,Ye.U)(et=>({segment:et,outlet:J})))}),(0,Ht.R)((J,he)=>(J[he.outlet]=he.segment,J),{}),(0,Ot.Z)())}expandSegment(S,D,F,$,J,he){return(0,b.D)(F).pipe((0,Ct.b)(_e=>this.expandSegmentAgainstRoute(S,D,F,_e,$,J,he).pipe((0,it.K)(Gt=>{if(Gt instanceof ea)return(0,ie.of)(null);throw Gt}))),(0,je.P)(_e=>!!_e),(0,it.K)((_e,et)=>{if(G(_e))return ls(D,$,J)?(0,ie.of)(new Ke([],{})):L(D);throw _e}))}expandSegmentAgainstRoute(S,D,F,$,J,he,_e){return Xo($,D,J,he)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(S,D,$,J,he):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,D,F,$,J,he):L(D):L(D)}expandSegmentAgainstRouteUsingRedirect(S,D,F,$,J,he){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,F,$,he):this.expandRegularSegmentAgainstRouteUsingRedirect(S,D,F,$,J,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,D,F,$){const J=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Y(J):this.lineralizeSegments(F,J).pipe((0,ze.z)(he=>{const _e=new Ke(he,{});return this.expandSegment(S,_e,D,he,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,D,F,$,J,he){const{matched:_e,consumedSegments:et,remainingSegments:Gt,positionalParamSegments:_n}=fs(D,$,J);if(!_e)return L(D);const tn=this.applyRedirectCommands(et,$.redirectTo,_n);return $.redirectTo.startsWith("/")?Y(tn):this.lineralizeSegments($,tn).pipe((0,ze.z)(kn=>this.expandSegment(S,D,F,kn.concat(Gt),he,!1)))}matchSegmentAgainstRoute(S,D,F,$,J){return"**"===F.path?(S=hs(F,S),F.loadChildren?(F._loadedRoutes?(0,ie.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(S,F)).pipe((0,Ye.U)(_e=>(F._loadedRoutes=_e.routes,F._loadedInjector=_e.injector,new Ke($,{})))):(0,ie.of)(new Ke($,{}))):_a(D,F,$,S).pipe((0,$e.w)(({matched:he,consumedSegments:_e,remainingSegments:et})=>{var Gt;return he?(S=null!==(Gt=F._injector)&&void 0!==Gt?Gt:S,this.getChildConfig(S,F,$).pipe((0,ze.z)(tn=>{var kn;const Er=null!==(kn=tn.injector)&&void 0!==kn?kn:S,qr=tn.routes,{segmentGroup:Os,slicedSegments:no}=ia(D,_e,et,qr),Do=new Ke(Os.segments,Os.children);if(0===no.length&&Do.hasChildren())return this.expandChildren(Er,qr,Do).pipe((0,Ye.U)(Sa=>new Ke(_e,Sa)));if(0===qr.length&&0===no.length)return(0,ie.of)(new Ke(_e,{}));const Fs=mn(F)===J;return this.expandSegment(Er,Do,qr,no,Fs?Bt:J,!0).pipe((0,Ye.U)(es=>new Ke(_e.concat(es.segments),es.children)))}))):L(D)}))}getChildConfig(S,D,F){return D.children?(0,ie.of)({routes:D.children,injector:S}):D.loadChildren?void 0!==D._loadedRoutes?(0,ie.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Va(T,S,D,F){const $=S.canLoad;if(void 0===$||0===$.length)return(0,ie.of)(!0);const J=$.map(he=>{const _e=Dn(he,T);return Yr(function ei(T){return T&&as(T.canLoad)}(_e)?_e.canLoad(S,D):T.runInContext(()=>_e(S,D)))});return(0,ie.of)(J).pipe(k(),_o())}(S,D,F).pipe((0,ze.z)($=>$?this.configLoader.loadChildren(S,D).pipe((0,Rt.b)(J=>{D._loadedRoutes=J.routes,D._loadedInjector=J.injector})):function ee(T){return(0,re._)(Ts(Za,3))}())):(0,ie.of)({routes:[],injector:S})}lineralizeSegments(S,D){let F=[],$=D.root;for(;;){if(F=F.concat($.segments),0===$.numberOfChildren)return(0,ie.of)(F);if($.numberOfChildren>1||!$.children[Bt])return(0,re._)(new p.vHH(4e3,Za));$=$.children[Bt]}}applyRedirectCommands(S,D,F){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),S,F)}applyRedirectCreateUrlTree(S,D,F,$){const J=this.createSegmentGroup(S,D.root,F,$);return new Lr(J,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(S,D){const F={};return Dr(S,($,J)=>{if("string"==typeof $&&$.startsWith(":")){const _e=$.substring(1);F[J]=D[_e]}else F[J]=$}),F}createSegmentGroup(S,D,F,$){const J=this.createSegments(S,D.segments,F,$);let he={};return Dr(D.children,(_e,et)=>{he[et]=this.createSegmentGroup(S,_e,F,$)}),new Ke(J,he)}createSegments(S,D,F,$){return D.map(J=>J.path.startsWith(":")?this.findPosParam(S,J,$):this.findOrReturn(J,F))}findPosParam(S,D,F){const $=F[D.path.substring(1)];if(!$)throw new p.vHH(4001,Za);return $}findOrReturn(S,D){let F=0;for(const $ of D){if($.path===S.path)return D.splice(F),$;F++}return S}}class Rr{}class hr{constructor(S,D,F,$,J,he,_e,et){this.injector=S,this.rootComponentType=D,this.config=F,this.urlTree=$,this.url=J,this.paramsInheritanceStrategy=he,this.relativeLinkResolution=_e,this.urlSerializer=et}recognize(){const S=ia(this.urlTree.root,[],[],this.config.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Bt).pipe((0,Ye.U)(D=>{if(null===D)return null;const F=new Oi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Ze(F,D),J=new mr(this.url,$);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(S){const D=S.value,F=Vr(D,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data),S.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(S,D,F,$){return 0===F.segments.length&&F.hasChildren()?this.processChildren(S,D,F):this.processSegment(S,D,F,F.segments,$)}processChildren(S,D,F){return(0,b.D)(Object.keys(F.children)).pipe((0,Ct.b)($=>{const J=F.children[$],he=Zs(D,$);return this.processSegmentGroup(S,he,J,$)}),(0,Ht.R)(($,J)=>$&&J?($.push(...J),$):null),(0,nt.o)($=>null!==$),(0,We.d)(null),(0,Ot.Z)(),(0,Ye.U)($=>{if(null===$)return null;const J=ps($);return function ui(T){T.sort((S,D)=>S.value.outlet===Bt?-1:D.value.outlet===Bt?1:S.value.outlet.localeCompare(D.value.outlet))}(J),J}))}processSegment(S,D,F,$,J){return(0,b.D)(D).pipe((0,Ct.b)(he=>{var _e;return this.processSegmentAgainstRoute(null!==(_e=he._injector)&&void 0!==_e?_e:S,he,F,$,J)}),(0,je.P)(he=>!!he),(0,it.K)(he=>{if(G(he))return ls(F,$,J)?(0,ie.of)([]):(0,ie.of)(null);throw he}))}processSegmentAgainstRoute(S,D,F,$,J){var he,_e;if(D.redirectTo||!Xo(D,F,$,J))return(0,ie.of)(null);let et;if("**"===D.path){const Gt=$.length>0?rr($).parameters:{},_n=gs(F)+$.length,tn=new Oi($,Gt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$s(D),mn(D),null!==(_e=null!==(he=D.component)&&void 0!==he?he:D._loadedComponent)&&void 0!==_e?_e:null,D,Ni(F),_n,jt(D),_n);et=(0,ie.of)({snapshot:tn,consumedSegments:[],remainingSegments:[]})}else et=_a(F,D,$,S).pipe((0,Ye.U)(({matched:Gt,consumedSegments:_n,remainingSegments:tn,parameters:kn})=>{var Er,qr;if(!Gt)return null;const Os=gs(F)+_n.length;return{snapshot:new Oi(_n,kn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$s(D),mn(D),null!==(qr=null!==(Er=D.component)&&void 0!==Er?Er:D._loadedComponent)&&void 0!==qr?qr:null,D,Ni(F),Os,jt(D),Os),consumedSegments:_n,remainingSegments:tn}}));return et.pipe((0,$e.w)(Gt=>{var _n,tn;if(null===Gt)return(0,ie.of)(null);const{snapshot:kn,consumedSegments:Er,remainingSegments:qr}=Gt;S=null!==(_n=D._injector)&&void 0!==_n?_n:S;const Os=null!==(tn=D._loadedInjector)&&void 0!==tn?tn:S,no=function Or(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(D),{segmentGroup:Do,slicedSegments:Fs}=ia(F,Er,qr,no.filter(es=>void 0===es.redirectTo),this.relativeLinkResolution);if(0===Fs.length&&Do.hasChildren())return this.processChildren(Os,no,Do).pipe((0,Ye.U)(es=>null===es?null:[new Ze(kn,es)]));if(0===no.length&&0===Fs.length)return(0,ie.of)([new Ze(kn,[])]);const il=mn(D)===J;return this.processSegment(Os,no,Do,Fs,il?Bt:J).pipe((0,Ye.U)(es=>null===es?null:[new Ze(kn,es)]))}))}}function Ii(T){const S=T.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function ps(T){const S=[],D=new Set;for(const F of T){if(!Ii(F)){S.push(F);continue}const $=S.find(J=>F.value.routeConfig===J.value.routeConfig);void 0!==$?($.children.push(...F.children),D.add($)):S.push(F)}for(const F of D){const $=ps(F.children);S.push(new Ze(F.value,$))}return S.filter(F=>!D.has(F))}function Ni(T){let S=T;for(;S._sourceSegment;)S=S._sourceSegment;return S}function gs(T){var S,D;let F=T,$=null!==(S=F._segmentIndexShift)&&void 0!==S?S:0;for(;F._sourceSegment;)F=F._sourceSegment,$+=null!==(D=F._segmentIndexShift)&&void 0!==D?D:0;return $-1}function $s(T){return T.data||{}}function jt(T){return T.resolve||{}}function ln(T){return"string"==typeof T.title||null===T.title}function ft(T){return(0,$e.w)(S=>{const D=T(S);return D?(0,b.D)(D).pipe((0,Ye.U)(()=>S)):(0,ie.of)(S)})}let Ut=(()=>{class T{buildTitle(D){var F;let $,J=D.root;for(;void 0!==J;)$=null!==(F=this.getResolvedTitleForRoute(J))&&void 0!==F?F:$,J=J.children.find(he=>he.outlet===Bt);return $}getResolvedTitleForRoute(D){return D.data[Et]}}return T.\u0275fac=function(D){return new(D||T)},T.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(bi)},providedIn:"root"}),T})(),bi=(()=>{class T extends Ut{constructor(D){super(),this.title=D}updateTitle(D){const F=this.buildTitle(D);void 0!==F&&this.title.setTitle(F)}}return T.\u0275fac=function(D){return new(D||T)(p.LFG(Yt.Dx))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class Ml{}class Ja extends class Pl{shouldDetach(S){return!1}store(S,D){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,D){return S.routeConfig===D.routeConfig}}{}const vo=new p.OlP("",{providedIn:"root",factory:()=>({})}),Ha=new p.OlP("ROUTES");let Xa=(()=>{class T{constructor(D,F){this.injector=D,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,ie.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const F=Yr(D.loadComponent()).pipe((0,Rt.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=J}),(0,Vt.x)(()=>{this.componentLoaders.delete(D)})),$=new rt.c(F,()=>new qe.x).pipe((0,dt.x)());return this.componentLoaders.set(D,$),$}loadChildren(D,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,ie.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const J=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ye.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(F);let et,Gt,_n=!1;Array.isArray(_e)?Gt=_e:(et=_e.create(D).injector,Gt=Tn(et.get(Ha,[],p.XFs.Self|p.XFs.Optional)));return{routes:Gt.map(Qs),injector:et}}),(0,Vt.x)(()=>{this.childrenLoaders.delete(F)})),he=new rt.c(J,()=>new qe.x).pipe((0,dt.x)());return this.childrenLoaders.set(F,he),he}loadModuleFactoryOrRoutes(D){return Yr(D()).pipe((0,ze.z)(F=>F instanceof p.YKP||Array.isArray(F)?(0,ie.of)(F):(0,b.D)(this.compiler.compileModuleAsync(F))))}}return T.\u0275fac=function(D){return new(D||T)(p.LFG(p.zs3),p.LFG(p.Sil))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class Ol{}class mi{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,D){return S}}function Ms(T){throw T}function xl(T,S,D){return S.parse("/")}const ti={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},On={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Sr(){var T,S;const D=(0,p.f3M)(yn),F=(0,p.f3M)(Ss),$=(0,p.f3M)(Ne.Ye),J=(0,p.f3M)(p.zs3),he=(0,p.f3M)(p.Sil),_e=null!==(T=(0,p.f3M)(Ha,{optional:!0}))&&void 0!==T?T:[],et=null!==(S=(0,p.f3M)(vo,{optional:!0}))&&void 0!==S?S:{},Gt=(0,p.f3M)(bi),_n=(0,p.f3M)(Ut,{optional:!0}),tn=(0,p.f3M)(Ol,{optional:!0}),kn=(0,p.f3M)(Ml,{optional:!0}),Er=new Xi(null,D,F,$,J,he,Tn(_e));return tn&&(Er.urlHandlingStrategy=tn),kn&&(Er.routeReuseStrategy=kn),Er.titleStrategy=null!=_n?_n:Gt,function oa(T,S){T.errorHandler&&(S.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(S.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(S.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(S.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(S.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(S.canceledNavigationResolution=T.canceledNavigationResolution)}(et,Er),Er}let Xi=(()=>{class T{constructor(D,F,$,J,he,_e,et){this.rootComponentType=D,this.urlSerializer=F,this.rootContexts=$,this.location=J,this.config=et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qe.x,this.errorHandler=Ms,this.malformedUriErrorHandler=xl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ie.of)(void 0),this.urlHandlingStrategy=new mi,this.routeReuseStrategy=new Ja,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=he.get(Xa),this.configLoader.onLoadEndListener=kn=>this.triggerEvent(new Pr(kn)),this.configLoader.onLoadStartListener=kn=>this.triggerEvent(new ji(kn)),this.ngModule=he.get(p.h0i),this.console=he.get(p.c2e);const tn=he.get(p.R0b);this.isNgZoneEnabled=tn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(et),this.currentUrlTree=function ar(){return new Lr(new Ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xt(this.currentUrlTree,this.rootComponentType),this.transitions=new H.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const F=this.events;return D.pipe((0,Qt.h)($=>0!==$.id),(0,Ye.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,$e.w)($=>{let J=!1,he=!1;return(0,ie.of)($).pipe((0,Rt.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,$e.w)(_e=>{const et=this.browserUrlTree.toString(),Gt=!this.navigated||_e.extractedUrl.toString()!==et||et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Gt)&&this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return on(_e.source)&&(this.browserUrlTree=_e.extractedUrl),(0,ie.of)(_e).pipe((0,$e.w)(tn=>{const kn=this.transitions.getValue();return F.next(new Mr(tn.id,this.serializeUrl(tn.extractedUrl),tn.source,tn.restoredState)),kn!==this.transitions.getValue()?ve.E:Promise.resolve(tn)}),function yt(T,S,D,F){return(0,$e.w)($=>function me(T,S,D,F,$){return new lt(T,S,D,F,$).apply()}(T,S,D,$.extractedUrl,F).pipe((0,Ye.U)(J=>Object.assign(Object.assign({},$),{urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rt.b)(tn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:tn.urlAfterRedirects}),$.urlAfterRedirects=tn.urlAfterRedirects}),function Ji(T,S,D,F,$,J){return(0,ze.z)(he=>function Qn(T,S,D,F,$,J,he="emptyOnly",_e="legacy"){return new hr(T,S,D,F,$,he,_e,J).recognize().pipe((0,$e.w)(et=>null===et?function Nn(T){return new ue.y(S=>S.error(T))}(new Rr):(0,ie.of)(et)))}(T,S,D,he.urlAfterRedirects,F.serialize(he.urlAfterRedirects),F,$,J).pipe((0,Ye.U)(_e=>Object.assign(Object.assign({},he),{targetSnapshot:_e}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rt.b)(tn=>{if($.targetSnapshot=tn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!tn.extras.skipLocationChange){const Er=this.urlHandlingStrategy.merge(tn.urlAfterRedirects,tn.rawUrl);this.setBrowserUrl(Er,tn)}this.browserUrlTree=tn.urlAfterRedirects}const kn=new fi(tn.id,this.serializeUrl(tn.extractedUrl),this.serializeUrl(tn.urlAfterRedirects),tn.targetSnapshot);F.next(kn)}));if(Gt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:kn,extractedUrl:Er,source:qr,restoredState:Os,extras:no}=_e,Do=new Mr(kn,this.serializeUrl(Er),qr,Os);F.next(Do);const Fs=Xt(Er,this.rootComponentType).snapshot;return $=Object.assign(Object.assign({},_e),{targetSnapshot:Fs,urlAfterRedirects:Er,extras:Object.assign(Object.assign({},no),{skipLocationChange:!1,replaceUrl:!1})}),(0,ie.of)($)}return this.rawUrlTree=_e.rawUrl,_e.resolve(null),ve.E}),(0,Rt.b)(_e=>{const et=new Pn(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(et)}),(0,Ye.U)(_e=>$=Object.assign(Object.assign({},_e),{guards:Vo(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)})),function X(T,S){return(0,ze.z)(D=>{const{targetSnapshot:F,currentSnapshot:$,guards:{canActivateChecks:J,canDeactivateChecks:he}}=D;return 0===he.length&&0===J.length?(0,ie.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function mt(T,S,D,F){return(0,b.D)(T).pipe((0,ze.z)($=>function so(T,S,D,F,$){const J=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,ie.of)(!0);const he=J.map(_e=>{var et;const Gt=null!==(et=ur(S))&&void 0!==et?et:$,_n=Dn(_e,Gt);return Yr(function dr(T){return T&&as(T.canDeactivate)}(_n)?_n.canDeactivate(T,S,D,F):Gt.runInContext(()=>_n(T,S,D,F))).pipe((0,je.P)())});return(0,ie.of)(he).pipe(k())}($.component,$.route,D,S,F)),(0,je.P)($=>!0!==$,!0))}(he,F,$,T).pipe((0,ze.z)(_e=>_e&&function Jo(T){return"boolean"==typeof T}(_e)?function cn(T,S,D,F){return(0,b.D)(S).pipe((0,Ct.b)($=>(0,we.z)(function Gi(T,S){return null!==T&&S&&S(new er(T)),(0,ie.of)(!0)}($.route.parent,F),function Zr(T,S){return null!==T&&S&&S(new rs(T)),(0,ie.of)(!0)}($.route,F),function Jr(T,S,D){const F=S[S.length-1],J=S.slice(0,S.length-1).reverse().map(he=>function Js(T){const S=T.routeConfig?T.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:T,guards:S}:null}(he)).filter(he=>null!==he).map(he=>(0,se.P)(()=>{const _e=he.guards.map(et=>{var Gt;const _n=null!==(Gt=ur(he.node))&&void 0!==Gt?Gt:D,tn=Dn(et,_n);return Yr(function Nt(T){return T&&as(T.canActivateChild)}(tn)?tn.canActivateChild(F,T):_n.runInContext(()=>tn(F,T))).pipe((0,je.P)())});return(0,ie.of)(_e).pipe(k())}));return(0,ie.of)(J).pipe(k())}(T,$.path,D),function Hs(T,S,D){const F=S.routeConfig?S.routeConfig.canActivate:null;if(!F||0===F.length)return(0,ie.of)(!0);const $=F.map(J=>(0,se.P)(()=>{var he;const _e=null!==(he=ur(S))&&void 0!==he?he:D,et=Dn(J,_e);return Yr(function yo(T){return T&&as(T.canActivate)}(et)?et.canActivate(S,T):_e.runInContext(()=>et(S,T))).pipe((0,je.P)())}));return(0,ie.of)($).pipe(k())}(T,$.route,D))),(0,je.P)($=>!0!==$,!0))}(F,J,T,S):(0,ie.of)(_e)),(0,Ye.U)(_e=>Object.assign(Object.assign({},D),{guardsResult:_e})))})}(this.ngModule.injector,_e=>this.triggerEvent(_e)),(0,Rt.b)(_e=>{if($.guardsResult=_e.guardsResult,ir(_e.guardsResult))throw is(0,_e.guardsResult);const et=new ko(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.triggerEvent(et)}),(0,Qt.h)(_e=>!!_e.guardsResult||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,"",3),!1)),ft(_e=>{if(_e.guards.canActivateChecks.length)return(0,ie.of)(_e).pipe((0,Rt.b)(et=>{const Gt=new fo(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(Gt)}),(0,$e.w)(et=>{let Gt=!1;return(0,ie.of)(et).pipe(function jo(T,S){return(0,ze.z)(D=>{const{targetSnapshot:F,guards:{canActivateChecks:$}}=D;if(!$.length)return(0,ie.of)(D);let J=0;return(0,b.D)($).pipe((0,Ct.b)(he=>function Gs(T,S,D,F){const $=T.routeConfig,J=T._resolve;return void 0!==(null==$?void 0:$.title)&&!ln($)&&(J[Et]=$.title),function hn(T,S,D,F){const $=function In(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===$.length)return(0,ie.of)({});const J={};return(0,b.D)($).pipe((0,ze.z)(he=>function uu(T,S,D,F){var $;const J=null!==($=ur(S))&&void 0!==$?$:F,he=Dn(T,J);return Yr(he.resolve?he.resolve(S,D):J.runInContext(()=>he(S,D)))}(T[he],S,D,F).pipe((0,je.P)(),(0,Rt.b)(_e=>{J[he]=_e}))),(0,pt.h)(1),(0,He.h)(J),(0,it.K)(he=>G(he)?ve.E:(0,re._)(he)))}(J,T,S,F).pipe((0,Ye.U)(he=>(T._resolvedData=he,T.data=Vr(T,D).resolve,$&&ln($)&&(T.data[Et]=$.title),null)))}(he.route,F,T,S)),(0,Rt.b)(()=>J++),(0,pt.h)(1),(0,ze.z)(he=>J===$.length?(0,ie.of)(D):ve.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rt.b)({next:()=>Gt=!0,complete:()=>{Gt||(this.restoreHistory(et),this.cancelNavigationTransition(et,"",2))}}))}),(0,Rt.b)(et=>{const Gt=new jr(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(Gt)}))}),ft(_e=>{const et=Gt=>{var _n;const tn=[];(null===(_n=Gt.routeConfig)||void 0===_n?void 0:_n.loadComponent)&&!Gt.routeConfig._loadedComponent&&tn.push(this.configLoader.loadComponent(Gt.routeConfig).pipe((0,Rt.b)(kn=>{Gt.component=kn}),(0,Ye.U)(()=>{})));for(const kn of Gt.children)tn.push(...et(kn));return tn};return(0,pe.a)(et(_e.targetSnapshot.root)).pipe((0,We.d)(),(0,Je.q)(1))}),ft(()=>this.afterPreactivation()),(0,Ye.U)(_e=>{const et=function li(T,S,D){const F=xi(T,S._root,D?D._root:void 0);return new ht(F,S)}(this.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return $=Object.assign(Object.assign({},_e),{targetRouterState:et})}),(0,Rt.b)(_e=>{this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects)}),((T,S,D)=>(0,Ye.U)(F=>(new vr(S,F.targetRouterState,F.currentRouterState,D).activate(T),F)))(this.rootContexts,this.routeReuseStrategy,_e=>this.triggerEvent(_e)),(0,Rt.b)({next(){J=!0},complete(){J=!0}}),(0,Vt.x)(()=>{var _e;J||he||this.cancelNavigationTransition($,"",1),(null===(_e=this.currentNavigation)||void 0===_e?void 0:_e.id)===$.id&&(this.currentNavigation=null)}),(0,it.K)(_e=>{var et;if(he=!0,Ao(_e)){po(_e)||(this.navigated=!0,this.restoreHistory($,!0));const Gt=new An($.id,this.serializeUrl($.extractedUrl),_e.message,_e.cancellationCode);if(F.next(Gt),po(_e)){const _n=this.urlHandlingStrategy.merge(_e.url,this.rawUrlTree),tn={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||on($.source)};this.scheduleNavigation(_n,"imperative",null,tn,{resolve:$.resolve,reject:$.reject,promise:$.promise})}else $.resolve(!1)}else{this.restoreHistory($,!0);const Gt=new Mn($.id,this.serializeUrl($.extractedUrl),_e,null!==(et=$.targetSnapshot)&&void 0!==et?et:void 0);F.next(Gt);try{$.resolve(this.errorHandler(_e))}catch(_n){$.reject(_n)}}return ve.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const F="popstate"===D.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var $;const J={replaceUrl:!0},he=null!==($=D.state)&&void 0!==$&&$.navigationId?D.state:null;if(he){const et=Object.assign({},he);delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(J.state=et)}const _e=this.parseUrl(D.url);this.scheduleNavigation(_e,F,he,J)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){this.config=D.map(Qs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,F={}){const{relativeTo:$,queryParams:J,fragment:he,queryParamsHandling:_e,preserveFragment:et}=F,Gt=$||this.routerState.root,_n=et?this.currentUrlTree.fragment:he;let tn=null;switch(_e){case"merge":tn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),J);break;case"preserve":tn=this.currentUrlTree.queryParams;break;default:tn=J||null}return null!==tn&&(tn=this.removeEmptyProps(tn)),Ge(Gt,this.currentUrlTree,D,tn,null!=_n?_n:null)}navigateByUrl(D,F={skipLocationChange:!1}){const $=ir(D)?D:this.parseUrl(D),J=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,F)}navigate(D,F={skipLocationChange:!1}){return function Ti(T){for(let S=0;S<T.length;S++){if(null==T[S])throw new p.vHH(4008,false)}}(D),this.navigateByUrl(this.createUrlTree(D,F),F)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let F;try{F=this.urlSerializer.parse(D)}catch($){F=this.malformedUriErrorHandler($,this.urlSerializer,D)}return F}isActive(D,F){let $;if($=!0===F?Object.assign({},ti):!1===F?Object.assign({},On):F,ir(D))return Mi(this.currentUrlTree,D,$);const J=this.parseUrl(D);return Mi(this.currentUrlTree,J,$)}removeEmptyProps(D){return Object.keys(D).reduce((F,$)=>{const J=D[$];return null!=J&&(F[$]=J),F},{})}processNavigations(){this.navigations.subscribe(D=>{var F;this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new Ln(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(F=this.titleStrategy)||void 0===F||F.updateTitle(this.routerState.snapshot),D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,F,$,J,he){var _e,et;if(this.disposed)return Promise.resolve(!1);let Gt,_n,tn;he?(Gt=he.resolve,_n=he.reject,tn=he.promise):tn=new Promise((qr,Os)=>{Gt=qr,_n=Os});const kn=++this.navigationId;let Er;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Er=$&&$.\u0275routerPageId?$.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?null!==(_e=this.browserPageId)&&void 0!==_e?_e:0:(null!==(et=this.browserPageId)&&void 0!==et?et:0)+1):Er=0,this.setTransition({id:kn,targetPageId:Er,source:F,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:J,resolve:Gt,reject:_n,promise:tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tn.catch(qr=>Promise.reject(qr))}setBrowserUrl(D,F){const $=this.urlSerializer.serialize(D),J=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo($)||F.extras.replaceUrl?this.location.replaceState($,"",J):this.location.go($,"",J)}restoreHistory(D,F=!1){var $,J;if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===he?this.currentUrlTree===(null===(J=this.currentNavigation)||void 0===J?void 0:J.finalUrl)&&0===he&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(he)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,F,$){const J=new An(D.id,this.serializeUrl(D.extractedUrl),F,$);this.triggerEvent(J),D.resolve(!1)}generateNgRouterState(D,F){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:F}:{navigationId:D}}}return T.\u0275fac=function(D){p.$Z()},T.\u0275prov=p.Yz7({token:T,factory:function(){return Sr()},providedIn:"root"}),T})();function on(T){return"imperative"!==T}let to=(()=>{class T{constructor(D,F,$,J,he){this.router=D,this.route=F,this.tabIndexAttribute=$,this.renderer=J,this.el=he,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new qe.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,p.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,p.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,p.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const F=this.renderer,$=this.el.nativeElement;null!==D?F.setAttribute($,"tabindex",D):F.removeAttribute($,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(D){return new(D||T)(p.Y36(Xi),p.Y36(Kn),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},T.\u0275dir=p.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,F){1&D&&p.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),T})(),oo=(()=>{class T{constructor(D,F,$){this.router=D,this.route=F,this.locationStrategy=$,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new qe.x,this.subscription=D.events.subscribe(J=>{J instanceof Ln&&this.updateTargetUrlAndHref()})}set preserveFragment(D){this._preserveFragment=(0,p.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,p.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,p.D6c)(D)}get replaceUrl(){return this._replaceUrl}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:null}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,F,$,J,he){return!!(0!==D||F||$||J||he||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(D){return new(D||T)(p.Y36(Xi),p.Y36(Kn),p.Y36(Ne.S$))},T.\u0275dir=p.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,F){1&D&&p.NdJ("click",function(J){return F.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&D&&p.uIk("target",F.target)("href",F.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),T})(),Po=(()=>{class T{constructor(D,F,$,J,he,_e){this.router=D,this.element=F,this.renderer=$,this.cdr=J,this.link=he,this.linkWithHref=_e,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=D.events.subscribe(et=>{et instanceof Ln&&this.update()})}ngAfterContentInit(){(0,ie.of)(this.links.changes,this.linksWithHrefs.changes,(0,ie.of)(null)).pipe((0,zt.J)()).subscribe(D=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var D;null===(D=this.linkInputChangesSubscription)||void 0===D||D.unsubscribe();const F=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter($=>!!$).map($=>$.onChanges);this.linkInputChangesSubscription=(0,b.D)(F).pipe((0,zt.J)()).subscribe($=>{this.isActive!==this.isLinkActive(this.router)($)&&this.update()})}set routerLinkActive(D){const F=Array.isArray(D)?D:D.split(" ");this.classes=F.filter($=>!!$)}ngOnChanges(D){this.update()}ngOnDestroy(){var D;this.routerEventsSubscription.unsubscribe(),null===(D=this.linkInputChangesSubscription)||void 0===D||D.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const D=this.hasActiveLinks();this.isActive!==D&&(this.isActive=D,this.cdr.markForCheck(),this.classes.forEach(F=>{D?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),D&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(D))})}isLinkActive(D){const F=function Rl(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return $=>!!$.urlTree&&D.isActive($.urlTree,F)}hasActiveLinks(){const D=this.isLinkActive(this.router);return this.link&&D(this.link)||this.linkWithHref&&D(this.linkWithHref)||this.links.some(D)||this.linksWithHrefs.some(D)}}return T.\u0275fac=function(D){return new(D||T)(p.Y36(Xi),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(to,8),p.Y36(oo,8))},T.\u0275dir=p.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(D,F,$){if(1&D&&(p.Suo($,to,5),p.Suo($,oo,5)),2&D){let J;p.iGM(J=p.CRH())&&(F.links=J),p.iGM(J=p.CRH())&&(F.linksWithHrefs=J)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.TTD]}),T})();class Ea{}let nl=(()=>{class T{constructor(D,F,$,J,he){this.router=D,this.injector=$,this.preloadingStrategy=J,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qt.h)(D=>D instanceof Ln),(0,Ct.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,F){var $,J,he;const _e=[];for(const et of F){et.providers&&!et._injector&&(et._injector=(0,p.MMx)(et.providers,D,`Route: ${et.path}`));const Gt=null!==($=et._injector)&&void 0!==$?$:D,_n=null!==(J=et._loadedInjector)&&void 0!==J?J:Gt;et.loadChildren&&!et._loadedRoutes&&void 0===et.canLoad||et.loadComponent&&!et._loadedComponent?_e.push(this.preloadConfig(Gt,et)):(et.children||et._loadedRoutes)&&_e.push(this.processRoutes(_n,null!==(he=et.children)&&void 0!==he?he:et._loadedRoutes))}return(0,b.D)(_e).pipe((0,zt.J)())}preloadConfig(D,F){return this.preloadingStrategy.preload(F,()=>{let $;$=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(D,F):(0,ie.of)(null);const J=$.pipe((0,ze.z)(he=>{var _e;return null===he?(0,ie.of)(void 0):(F._loadedRoutes=he.routes,F._loadedInjector=he.injector,this.processRoutes(null!==(_e=he.injector)&&void 0!==_e?_e:D,he.routes))}));if(F.loadComponent&&!F._loadedComponent){const he=this.loader.loadComponent(F);return(0,b.D)([J,he]).pipe((0,zt.J)())}return J})}}return T.\u0275fac=function(D){return new(D||T)(p.LFG(Xi),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Ea),p.LFG(Xa))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Ca=new p.OlP("");let ms=(()=>{class T{constructor(D,F,$={}){this.router=D,this.viewportScroller=F,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Mr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ln&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Yi&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,F){this.router.triggerEvent(new Yi(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(D){p.$Z()},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac}),T})();function Eo(T,S){return{\u0275kind:T,\u0275providers:S}}function $a(T){return[{provide:Ha,multi:!0,useValue:T}]}function Co(){const T=(0,p.f3M)(p.zs3);return S=>{var D,F;const $=T.get(p.z2F);if(S!==$.components[0])return;const J=T.get(Xi),he=T.get(Ps);1===T.get(aa)&&J.initialNavigation(),null===(D=T.get(Ho,null,p.XFs.Optional))||void 0===D||D.setUpPreloading(),null===(F=T.get(Ca,null,p.XFs.Optional))||void 0===F||F.init(),J.resetRootComponentType($.componentTypes[0]),he.next(),he.complete()}}const Ps=new p.OlP("",{factory:()=>new qe.x}),aa=new p.OlP("",{providedIn:"root",factory:()=>1});const Ho=new p.OlP("");function Nl(T){return Eo(0,[{provide:Ho,useExisting:nl},{provide:Ea,useExisting:T}])}const Oo=new p.OlP("ROUTER_FORROOT_GUARD"),Ia=[Ne.Ye,{provide:yn,useClass:Sn},{provide:Xi,useFactory:Sr},Ss,{provide:Kn,useFactory:function cl(T){return T.routerState.root},deps:[Xi]},Xa];function ba(){return new p.PXZ("Router",Xi)}let $o=(()=>{class T{constructor(D){}static forRoot(D,F){return{ngModule:T,providers:[Ia,[],$a(D),{provide:Oo,useFactory:Ga,deps:[[Xi,new p.FiY,new p.tp0]]},{provide:vo,useValue:F||{}},null!=F&&F.useHash?{provide:Ne.S$,useClass:Ne.Do}:{provide:Ne.S$,useClass:Ne.b0},{provide:Ca,useFactory:()=>{const T=(0,p.f3M)(Xi),S=(0,p.f3M)(Ne.EM),D=(0,p.f3M)(vo);return D.scrollOffset&&S.setOffset(D.scrollOffset),new ms(T,S,D)}},null!=F&&F.preloadingStrategy?Nl(F.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:ba},null!=F&&F.initialNavigation?ki(F):[],[{provide:la,useFactory:Co},{provide:p.tb,multi:!0,useExisting:la}]]}}static forChild(D){return{ngModule:T,providers:[$a(D)]}}}return T.\u0275fac=function(D){return new(D||T)(p.LFG(Oo,8))},T.\u0275mod=p.oAB({type:T}),T.\u0275inj=p.cJS({imports:[ds]}),T})();function Ga(T){return"guarded"}function ki(T){return["disabled"===T.initialNavigation?Eo(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const S=(0,p.f3M)(Xi);return()=>{S.setUpLocationChangeListener()}}},{provide:aa,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Eo(2,[{provide:aa,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:S=>{const D=S.get(Ne.V_,Promise.resolve());let F=!1;return()=>D.then(()=>new Promise(J=>{const he=S.get(Xi),_e=S.get(Ps);(function $(J){S.get(Xi).events.pipe((0,Qt.h)(_e=>_e instanceof Ln||_e instanceof An||_e instanceof Mn),(0,Ye.U)(_e=>_e instanceof Ln||_e instanceof An&&(0===_e.code||1===_e.code)&&null),(0,Qt.h)(_e=>null!==_e),(0,Je.q)(1)).subscribe(()=>{J()})})(()=>{J(!0),F=!0}),he.afterPreactivation=()=>(J(!0),F||_e.closed?(0,ie.of)(void 0):_e),he.initialNavigation()}))}}]).\u0275providers:[]]}const la=new p.OlP("")},797:(xt,Pe,A)=>{A.d(Pe,{Wr:()=>Vt,Mk:()=>Rt,yO:()=>it});var p=A(9808),b=A(5e3),ie=A(9770),H=A(2843),ge=A(4968),pe=A(9646),we=A(7272),se=A(7579),Se=A(9751),re=A(5032);const ue=new Se.y(re.Z);var rt=A(6451),qe=A(4004),Ne=A(9300),Ye=A(3900),$e=A(8646),Je=A(5698),Pt=A(8505),Qt=A(4086);const ze="Service workers are disabled or not supported by this browser";class Ct{constructor(zt){if(this.serviceWorker=zt,zt){const Bt=(0,ge.R)(zt,"controllerchange").pipe((0,qe.U)(()=>zt.controller)),Et=(0,ie.P)(()=>(0,pe.of)(zt.controller)),pr=(0,we.z)(Et,Bt);this.worker=pr.pipe((0,Ne.h)(St=>!!St)),this.registration=this.worker.pipe((0,Ye.w)(()=>zt.getRegistration()));const Xe=(0,ge.R)(zt,"message").pipe((0,qe.U)(St=>St.data)).pipe((0,Ne.h)(St=>St&&St.type)).pipe((0,$e.n)());Xe.connect(),this.events=Xe}else this.worker=this.events=this.registration=function je(dt){return(0,ie.P)(()=>(0,H._)(new Error(dt)))}(ze)}postMessage(zt,Yt){return this.worker.pipe((0,Je.q)(1),(0,Pt.b)(Bt=>{Bt.postMessage(Object.assign({action:zt},Yt))})).toPromise().then(()=>{})}postMessageWithOperation(zt,Yt,Bt){const Et=this.waitForOperationCompleted(Bt),pr=this.postMessage(zt,Yt);return Promise.all([pr,Et]).then(([,Tt])=>Tt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(zt){let Yt;return Yt="string"==typeof zt?Bt=>Bt.type===zt:Bt=>zt.includes(Bt.type),this.events.pipe((0,Ne.h)(Yt))}nextEventOfType(zt){return this.eventsOfType(zt).pipe((0,Je.q)(1))}waitForOperationCompleted(zt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ne.h)(Yt=>Yt.nonce===zt),(0,Je.q)(1),(0,qe.U)(Yt=>{if(void 0!==Yt.result)return Yt.result;throw new Error(Yt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Rt=(()=>{class dt{constructor(Yt){if(this.sw=Yt,this.subscriptionChanges=new se.x,!Yt.isEnabled)return this.messages=ue,this.notificationClicks=ue,void(this.subscription=ue);this.messages=this.sw.eventsOfType("PUSH").pipe((0,qe.U)(Et=>Et.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,qe.U)(Et=>Et.data)),this.pushManager=this.sw.registration.pipe((0,qe.U)(Et=>Et.pushManager));const Bt=this.pushManager.pipe((0,Ye.w)(Et=>Et.getSubscription()));this.subscription=(0,rt.T)(Bt,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(Yt){if(!this.sw.isEnabled)return Promise.reject(new Error(ze));const Bt={userVisibleOnly:!0};let Et=this.decodeBase64(Yt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),pr=new Uint8Array(new ArrayBuffer(Et.length));for(let Tt=0;Tt<Et.length;Tt++)pr[Tt]=Et.charCodeAt(Tt);return Bt.applicationServerKey=pr,this.pushManager.pipe((0,Ye.w)(Tt=>Tt.subscribe(Bt)),(0,Je.q)(1)).toPromise().then(Tt=>(this.subscriptionChanges.next(Tt),Tt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Je.q)(1),(0,Ye.w)(Bt=>{if(null===Bt)throw new Error("Not subscribed to push notifications.");return Bt.unsubscribe().then(Et=>{if(!Et)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ze))}decodeBase64(Yt){return atob(Yt)}}return dt.\u0275fac=function(Yt){return new(Yt||dt)(b.LFG(Ct))},dt.\u0275prov=b.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),it=(()=>{class dt{constructor(Yt){if(this.sw=Yt,!Yt.isEnabled)return this.versionUpdates=ue,this.available=ue,this.activated=ue,void(this.unrecoverable=ue);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Ne.h)(Bt=>"VERSION_READY"===Bt.type),(0,qe.U)(Bt=>({type:"UPDATE_AVAILABLE",current:Bt.currentVersion,available:Bt.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ze));const Yt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Yt},Yt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ze));const Yt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Yt},Yt)}}return dt.\u0275fac=function(Yt){return new(Yt||dt)(b.LFG(Ct))},dt.\u0275prov=b.Yz7({token:dt,factory:dt.\u0275fac}),dt})();class Ht{}const Ot=new b.OlP("NGSW_REGISTER_SCRIPT");function nt(dt,zt,Yt,Bt){return()=>{if(!(0,p.NF)(Bt)||!("serviceWorker"in navigator)||!1===Yt.enabled)return;let Et;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof Yt.registrationStrategy)Et=Yt.registrationStrategy();else{const[Tt,...st]=(Yt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Tt){case"registerImmediately":Et=(0,pe.of)(null);break;case"registerWithDelay":Et=We(+st[0]||0);break;case"registerWhenStable":Et=st[0]?(0,rt.T)(pt(dt),We(+st[0])):pt(dt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Yt.registrationStrategy}`)}}dt.get(b.R0b).runOutsideAngular(()=>Et.pipe((0,Je.q)(1)).subscribe(()=>navigator.serviceWorker.register(zt,{scope:Yt.scope}).catch(Tt=>console.error("Service worker registration failed with:",Tt))))}}function We(dt){return(0,pe.of)(null).pipe((0,Qt.g)(dt))}function pt(dt){return dt.get(b.z2F).isStable.pipe((0,Ne.h)(Yt=>Yt))}function He(dt,zt){return new Ct((0,p.NF)(zt)&&!1!==dt.enabled?navigator.serviceWorker:void 0)}let Vt=(()=>{class dt{static register(Yt,Bt={}){return{ngModule:dt,providers:[{provide:Ot,useValue:Yt},{provide:Ht,useValue:Bt},{provide:Ct,useFactory:He,deps:[Ht,b.Lbi]},{provide:b.ip1,useFactory:nt,deps:[b.zs3,Ot,Ht,b.Lbi],multi:!0}]}}}return dt.\u0275fac=function(Yt){return new(Yt||dt)},dt.\u0275mod=b.oAB({type:dt}),dt.\u0275inj=b.cJS({providers:[Rt,it]}),dt})()},6881:(xt,Pe,A)=>{A.d(Pe,{Jn:()=>di,qX:()=>yn,Xd:()=>_t,Mq:()=>Bn,C6:()=>Xn,ZF:()=>jn,KN:()=>$n});var p=A(5861),b=A(4859),ie=A(1877),H=A(2090);let pe,we;const re=new WeakMap,ue=new WeakMap,ve=new WeakMap,rt=new WeakMap,qe=new WeakMap;let $e={get(Me,xe,Dt){if(Me instanceof IDBTransaction){if("done"===xe)return ue.get(Me);if("objectStoreNames"===xe)return Me.objectStoreNames||ve.get(Me);if("store"===xe)return Dt.objectStoreNames[1]?void 0:Dt.objectStore(Dt.objectStoreNames[0])}return ze(Me[xe])},set:(Me,xe,Dt)=>(Me[xe]=Dt,!0),has:(Me,xe)=>Me instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in Me};function Qt(Me){return"function"==typeof Me?function Pt(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...xe){return Me.apply(je(this),xe),ze(re.get(this))}:function(...xe){return ze(Me.apply(je(this),xe))}:function(xe,...Dt){const Kt=Me.call(je(this),xe,...Dt);return ve.set(Kt,xe.sort?xe.sort():[xe]),ze(Kt)}}(Me):(Me instanceof IDBTransaction&&function Ye(Me){if(ue.has(Me))return;const xe=new Promise((Dt,Kt)=>{const bn=()=>{Me.removeEventListener("complete",xn),Me.removeEventListener("error",sr),Me.removeEventListener("abort",sr)},xn=()=>{Dt(),bn()},sr=()=>{Kt(Me.error||new DOMException("AbortError","AbortError")),bn()};Me.addEventListener("complete",xn),Me.addEventListener("error",sr),Me.addEventListener("abort",sr)});ue.set(Me,xe)}(Me),((Me,xe)=>xe.some(Dt=>Me instanceof Dt))(Me,function se(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,$e):Me)}function ze(Me){if(Me instanceof IDBRequest)return function Ne(Me){const xe=new Promise((Dt,Kt)=>{const bn=()=>{Me.removeEventListener("success",xn),Me.removeEventListener("error",sr)},xn=()=>{Dt(ze(Me.result)),bn()},sr=()=>{Kt(Me.error),bn()};Me.addEventListener("success",xn),Me.addEventListener("error",sr)});return xe.then(Dt=>{Dt instanceof IDBCursor&&re.set(Dt,Me)}).catch(()=>{}),qe.set(xe,Me),xe}(Me);if(rt.has(Me))return rt.get(Me);const xe=Qt(Me);return xe!==Me&&(rt.set(Me,xe),qe.set(xe,Me)),xe}const je=Me=>qe.get(Me),it=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],Ot=new Map;function nt(Me,xe){if(!(Me instanceof IDBDatabase)||xe in Me||"string"!=typeof xe)return;if(Ot.get(xe))return Ot.get(xe);const Dt=xe.replace(/FromIndex$/,""),Kt=xe!==Dt,bn=Ht.includes(Dt);if(!(Dt in(Kt?IDBIndex:IDBObjectStore).prototype)||!bn&&!it.includes(Dt))return;const xn=function(){var sr=(0,p.Z)(function*(lr,...zr){const Xr=this.transaction(lr,bn?"readwrite":"readonly");let Fn=Xr.store;return Kt&&(Fn=Fn.index(zr.shift())),(yield Promise.all([Fn[Dt](...zr),bn&&Xr.done]))[0]});return function(zr){return sr.apply(this,arguments)}}();return Ot.set(xe,xn),xn}!function Je(Me){$e=Me($e)}(Me=>BE(UE({},Me),{get:(xe,Dt,Kt)=>nt(xe,Dt)||Me.get(xe,Dt,Kt),has:(xe,Dt)=>!!nt(xe,Dt)||Me.has(xe,Dt)}));class We{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(Dt=>{if(function pt(Me){const xe=Me.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(Dt)){const Kt=Dt.getImmediate();return`${Kt.library}/${Kt.version}`}return null}).filter(Dt=>Dt).join(" ")}}const He="@firebase/app",dt=new ie.Yd("@firebase/app"),vi="[DEFAULT]",Lr={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,be=new Map;function Ee(Me,xe){try{Me.container.addComponent(xe)}catch(Dt){dt.debug(`Component ${xe.name} failed to register with FirebaseApp ${Me.name}`,Dt)}}function _t(Me){const xe=Me.name;if(be.has(xe))return dt.debug(`There were multiple attempts to register component ${xe}.`),!1;be.set(xe,Me);for(const Dt of Ke.values())Ee(Dt,Me);return!0}function yn(Me,xe){const Dt=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return Dt&&Dt.triggerHeartbeat(),Me.container.getProvider(xe)}const zn=new H.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nr{constructor(xe,Dt,Kt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},Dt),this._name=Dt.name,this._automaticDataCollectionEnabled=Dt.automaticDataCollectionEnabled,this._container=Kt,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const di="9.17.1";function jn(Me,xe={}){let Dt=Me;"object"!=typeof xe&&(xe={name:xe});const Kt=Object.assign({name:vi,automaticDataCollectionEnabled:!1},xe),bn=Kt.name;if("string"!=typeof bn||!bn)throw zn.create("bad-app-name",{appName:String(bn)});if(Dt||(Dt=(0,H.aH)()),!Dt)throw zn.create("no-options");const xn=Ke.get(bn);if(xn){if((0,H.vZ)(Dt,xn.options)&&(0,H.vZ)(Kt,xn.config))return xn;throw zn.create("duplicate-app",{appName:bn})}const sr=new b.H0(bn);for(const zr of be.values())sr.addComponent(zr);const lr=new nr(Dt,Kt,sr);return Ke.set(bn,lr),lr}function Bn(Me=vi){const xe=Ke.get(Me);if(!xe&&Me===vi)return jn();if(!xe)throw zn.create("no-app",{appName:Me});return xe}function Xn(){return Array.from(Ke.values())}function $n(Me,xe,Dt){var Kt;let bn=null!==(Kt=Lr[Me])&&void 0!==Kt?Kt:Me;Dt&&(bn+=`-${Dt}`);const xn=bn.match(/\s|\//),sr=xe.match(/\s|\//);if(xn||sr){const lr=[`Unable to register library "${bn}" with version "${xe}":`];return xn&&lr.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),xn&&sr&&lr.push("and"),sr&&lr.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void dt.warn(lr.join(" "))}_t(new b.wA(`${bn}-version`,()=>({library:bn,version:xe}),"VERSION"))}const De="firebase-heartbeat-store";let ke=null;function bt(){return ke||(ke=function Ct(Me,xe,{blocked:Dt,upgrade:Kt,blocking:bn,terminated:xn}={}){const sr=indexedDB.open(Me,xe),lr=ze(sr);return Kt&&sr.addEventListener("upgradeneeded",zr=>{Kt(ze(sr.result),zr.oldVersion,zr.newVersion,ze(sr.transaction))}),Dt&&sr.addEventListener("blocked",()=>Dt()),lr.then(zr=>{xn&&zr.addEventListener("close",()=>xn()),bn&&zr.addEventListener("versionchange",()=>bn())}).catch(()=>{}),lr}("firebase-heartbeat-database",1,{upgrade:(Me,xe)=>{0===xe&&Me.createObjectStore(De)}}).catch(Me=>{throw zn.create("idb-open",{originalErrorMessage:Me.message})})),ke}function en(){return(en=(0,p.Z)(function*(Me){try{return(yield bt()).transaction(De).objectStore(De).get(ir(Me))}catch(xe){if(xe instanceof H.ZR)dt.warn(xe.message);else{const Dt=zn.create("idb-get",{originalErrorMessage:null==xe?void 0:xe.message});dt.warn(Dt.message)}}})).apply(this,arguments)}function dn(Me,xe){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(Me,xe){try{const Kt=(yield bt()).transaction(De,"readwrite");return yield Kt.objectStore(De).put(xe,ir(Me)),Kt.done}catch(Dt){if(Dt instanceof H.ZR)dt.warn(Dt.message);else{const Kt=zn.create("idb-set",{originalErrorMessage:null==Dt?void 0:Dt.message});dt.warn(Kt.message)}}})).apply(this,arguments)}function ir(Me){return`${Me.name}!${Me.options.appId}`}class Ce{constructor(xe){this.container=xe,this._heartbeatsCache=null;const Dt=this.container.getProvider("app").getImmediate();this._storage=new vt(Dt),this._heartbeatsCachePromise=this._storage.read().then(Kt=>(this._heartbeatsCache=Kt,Kt))}triggerHeartbeat(){var xe=this;return(0,p.Z)(function*(){const Kt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=de();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==bn&&!xe._heartbeatsCache.heartbeats.some(xn=>xn.date===bn))return xe._heartbeatsCache.heartbeats.push({date:bn,agent:Kt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(xn=>{const sr=new Date(xn.date).valueOf();return Date.now()-sr<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,p.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const Dt=de(),{heartbeatsToSend:Kt,unsentEntries:bn}=function Ge(Me,xe=1024){const Dt=[];let Kt=Me.slice();for(const bn of Me){const xn=Dt.find(sr=>sr.agent===bn.agent);if(xn){if(xn.dates.push(bn.date),En(Dt)>xe){xn.dates.pop();break}}else if(Dt.push({agent:bn.agent,dates:[bn.date]}),En(Dt)>xe){Dt.pop();break}Kt=Kt.slice(1)}return{heartbeatsToSend:Dt,unsentEntries:Kt}}(xe._heartbeatsCache.heartbeats),xn=(0,H.L)(JSON.stringify({version:2,heartbeats:Kt}));return xe._heartbeatsCache.lastSentHeartbeatDate=Dt,bn.length>0?(xe._heartbeatsCache.heartbeats=bn,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),xn})()}}function de(){return(new Date).toISOString().substring(0,10)}class vt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,H.hl)()&&(0,H.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,p.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Be(Me){return en.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var Dt=this;return(0,p.Z)(function*(){var Kt;if(yield Dt._canUseIndexedDBPromise){const xn=yield Dt.read();return dn(Dt.app,{lastSentHeartbeatDate:null!==(Kt=xe.lastSentHeartbeatDate)&&void 0!==Kt?Kt:xn.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var Dt=this;return(0,p.Z)(function*(){var Kt;if(yield Dt._canUseIndexedDBPromise){const xn=yield Dt.read();return dn(Dt.app,{lastSentHeartbeatDate:null!==(Kt=xe.lastSentHeartbeatDate)&&void 0!==Kt?Kt:xn.lastSentHeartbeatDate,heartbeats:[...xn.heartbeats,...xe.heartbeats]})}})()}}function En(Me){return(0,H.L)(JSON.stringify({version:2,heartbeats:Me})).length}!function wn(Me){_t(new b.wA("platform-logger",xe=>new We(xe),"PRIVATE")),_t(new b.wA("heartbeat",xe=>new Ce(xe),"PRIVATE")),$n(He,"0.9.3",Me),$n(He,"0.9.3","esm2017"),$n("fire-js","")}("")},4859:(xt,Pe,A)=>{A.d(Pe,{H0:()=>se,wA:()=>ie});var p=A(5861),b=A(2090);class ie{constructor(re,ue,ve){this.name=re,this.instanceFactory=ue,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const H="[DEFAULT]";class ge{constructor(re,ue){this.name=re,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ue=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ue)){const ve=new b.BH;if(this.instancesDeferred.set(ue,ve),this.isInitialized(ue)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:ue});rt&&ve.resolve(rt)}catch(rt){}}return this.instancesDeferred.get(ue).promise}getImmediate(re){var ue;const ve=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),rt=null!==(ue=null==re?void 0:re.optional)&&void 0!==ue&&ue;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(qe){if(rt)return null;throw qe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function we(Se){return"EAGER"===Se.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:H})}catch(ue){}for(const[ue,ve]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(ue);try{const qe=this.getOrInitializeService({instanceIdentifier:rt});ve.resolve(qe)}catch(qe){}}}}clearInstance(re=H){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,p.Z)(function*(){const ue=Array.from(re.instances.values());yield Promise.all([...ue.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ue.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=H){return this.instances.has(re)}getOptions(re=H){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ue={}}=re,ve=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:ve,options:ue});for(const[qe,Ne]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(qe)&&Ne.resolve(rt);return rt}onInit(re,ue){var ve;const rt=this.normalizeInstanceIdentifier(ue),qe=null!==(ve=this.onInitCallbacks.get(rt))&&void 0!==ve?ve:new Set;qe.add(re),this.onInitCallbacks.set(rt,qe);const Ne=this.instances.get(rt);return Ne&&re(Ne,rt),()=>{qe.delete(re)}}invokeOnInitCallbacks(re,ue){const ve=this.onInitCallbacks.get(ue);if(ve)for(const rt of ve)try{rt(re,ue)}catch(qe){}}getOrInitializeService({instanceIdentifier:re,options:ue={}}){let ve=this.instances.get(re);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=re,Se===H?void 0:Se),options:ue}),this.instances.set(re,ve),this.instancesOptions.set(re,ue),this.invokeOnInitCallbacks(ve,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ve)}catch(rt){}var Se;return ve||null}normalizeInstanceIdentifier(re=H){return this.component?this.component.multipleInstances?re:H:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ue=this.getProvider(re.name);if(ue.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ue.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ue=new ge(re,this);return this.providers.set(re,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Pe,A)=>{A.d(Pe,{Yd:()=>we,in:()=>b});const p=[];var b=(()=>{return(re=b||(b={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",b;var re})();const ie={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},H=b.INFO,ge={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},pe=(re,ue,...ve)=>{if(ue<re.logLevel)return;const rt=(new Date).toISOString(),qe=ge[ue];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[qe](`[${rt}]  ${re.name}:`,...ve)};class we{constructor(ue){this.name=ue,this._logLevel=H,this._logHandler=pe,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in b))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?ie[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...ue),this._logHandler(this,b.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...ue),this._logHandler(this,b.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,b.INFO,...ue),this._logHandler(this,b.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,b.WARN,...ue),this._logHandler(this,b.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...ue),this._logHandler(this,b.ERROR,...ue)}}},7319:(xt,Pe,A)=>{A.d(Pe,{Y$:()=>at,yh:()=>zn,CK:()=>Yi,Aw:()=>Bs,cr:()=>qs,qC:()=>Ns,PH:()=>Pt,ZF:()=>vt,Lq:()=>js,P1:()=>Ce,on:()=>bs,Ky:()=>Qt});var p=A(5e3),b=A(1135),ie=A(9751),H=A(7579),ge=A(4408),we=A(7565);const Se=new class se extends we.v{}(class pe extends ge.o{constructor(Ze,Le){super(Ze,Le),this.scheduler=Ze,this.work=Le}schedule(Ze,Le=0){return Le>0?super.schedule(Ze,Le):(this.delay=Le,this.state=Ze,this.scheduler.flush(this),this)}execute(Ze,Le){return Le>0||this.closed?super.execute(Ze,Le):this._execute(Ze,Le)}requestAsyncId(Ze,Le,ht=0){return null!=ht&&ht>0||null==ht&&this.delay>0?super.requestAsyncId(Ze,Le,ht):Ze.flush(this)}});var ue=A(5363),ve=A(1365),rt=A(5026),qe=A(4004),Ye=A(1884);const $e={};function Pt(fe,Ze){if($e[fe]=($e[fe]||0)+1,"function"==typeof Ze)return je(fe,(...ht)=>Object.assign(Object.assign({},Ze(...ht)),{type:fe}));switch(Ze?Ze._as:"empty"){case"empty":return je(fe,()=>({type:fe}));case"props":return je(fe,ht=>Object.assign(Object.assign({},ht),{type:fe}));default:throw new Error("Unexpected config.")}}function Qt(){return{_as:"props",_p:void 0}}function je(fe,Ze){return Object.defineProperty(Ze,"type",{value:fe,writable:!1})}const nt="@ngrx/store/init";let We=(()=>{class fe extends b.X{constructor(){super({type:nt})}next(Le){if("function"==typeof Le)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Le)throw new TypeError("Actions must be objects");if(void 0===Le.type)throw new TypeError("Actions must have a type property");super.next(Le)}complete(){}ngOnDestroy(){super.complete()}}return fe.\u0275fac=function(Le){return new(Le||fe)},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const pt=[We],He=new p.OlP("@ngrx/store Internal Root Guard"),Vt=new p.OlP("@ngrx/store Internal Initial State"),dt=new p.OlP("@ngrx/store Initial State"),zt=new p.OlP("@ngrx/store Reducer Factory"),Yt=new p.OlP("@ngrx/store Internal Reducer Factory Provider"),Bt=new p.OlP("@ngrx/store Initial Reducers"),Et=new p.OlP("@ngrx/store Internal Initial Reducers"),pr=new p.OlP("@ngrx/store Store Features"),Tt=new p.OlP("@ngrx/store Internal Store Reducers"),st=new p.OlP("@ngrx/store Internal Feature Reducers"),Ve=new p.OlP("@ngrx/store Internal Feature Configs"),Xe=new p.OlP("@ngrx/store Internal Store Features"),St=new p.OlP("@ngrx/store Internal Feature Reducers Token"),Tn=new p.OlP("@ngrx/store Feature Reducers"),rr=new p.OlP("@ngrx/store User Provided Meta Reducers"),wr=new p.OlP("@ngrx/store Meta Reducers"),Dr=new p.OlP("@ngrx/store Internal Resolved Meta Reducers"),Yr=new p.OlP("@ngrx/store User Runtime Checks Config"),kr=new p.OlP("@ngrx/store Internal User Runtime Checks Config"),ar=new p.OlP("@ngrx/store Internal Runtime Checks"),Wr=new p.OlP("@ngrx/store Check if Action types are unique");function sn(fe,Ze={}){const Le=Object.keys(fe),ht={};for(let Zt=0;Zt<Le.length;Zt++){const Kn=Le[Zt];"function"==typeof fe[Kn]&&(ht[Kn]=fe[Kn])}const Xt=Object.keys(ht);return function(Kn,Vr){Kn=void 0===Kn?Ze:Kn;let _r=!1;const Oi={};for(let mr=0;mr<Xt.length;mr++){const Rn=Xt[mr],Ys=Kn[Rn],$i=(0,ht[Rn])(Ys,Vr);Oi[Rn]=$i,_r=_r||$i!==Ys}return _r?Oi:Kn}}function Ns(...fe){return function(Ze){if(0===fe.length)return Ze;const Le=fe[fe.length-1];return fe.slice(0,-1).reduceRight((Xt,Zt)=>Zt(Xt),Le(Ze))}}function Fr(fe,Ze){return Array.isArray(Ze)&&Ze.length>0&&(fe=Ns.apply(null,[...Ze,fe])),(Le,ht)=>{const Xt=fe(Le);return(Zt,Kn)=>Xt(Zt=void 0===Zt?ht:Zt,Kn)}}new p.OlP("@ngrx/store Root Store Provider"),new p.OlP("@ngrx/store Feature State Provider");class vi extends ie.y{}class Lr extends We{}let be=(()=>{class fe extends b.X{constructor(Le,ht,Xt,Zt){super(Zt(Xt,ht)),this.dispatcher=Le,this.initialState=ht,this.reducers=Xt,this.reducerFactory=Zt}get currentReducers(){return this.reducers}addFeature(Le){this.addFeatures([Le])}addFeatures(Le){const ht=Le.reduce((Xt,{reducers:Zt,reducerFactory:Kn,metaReducers:Vr,initialState:_r,key:Oi})=>{const mr="function"==typeof Zt?function Pi(fe){const Ze=Array.isArray(fe)&&fe.length>0?Ns(...fe):Le=>Le;return(Le,ht)=>(Le=Ze(Le),(Xt,Zt)=>Le(Xt=void 0===Xt?ht:Xt,Zt))}(Vr)(Zt,_r):Fr(Kn,Vr)(Zt,_r);return Xt[Oi]=mr,Xt},{});this.addReducers(ht)}removeFeature(Le){this.removeFeatures([Le])}removeFeatures(Le){this.removeReducers(Le.map(ht=>ht.key))}addReducer(Le,ht){this.addReducers({[Le]:ht})}addReducers(Le){this.reducers=Object.assign(Object.assign({},this.reducers),Le),this.updateReducers(Object.keys(Le))}removeReducer(Le){this.removeReducers([Le])}removeReducers(Le){Le.forEach(ht=>{this.reducers=function wi(fe,Ze){return Object.keys(fe).filter(Le=>Le!==Ze).reduce((Le,ht)=>Object.assign(Le,{[ht]:fe[ht]}),{})}(this.reducers,ht)}),this.updateReducers(Le)}updateReducers(Le){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:Le})}ngOnDestroy(){this.complete()}}return fe.\u0275fac=function(Le){return new(Le||fe)(p.LFG(Lr),p.LFG(dt),p.LFG(Bt),p.LFG(zt))},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Ee=[be,{provide:vi,useExisting:be},{provide:Lr,useExisting:We}];let at=(()=>{class fe extends H.x{ngOnDestroy(){this.complete()}}return fe.\u0275fac=function(){let Ze;return function(ht){return(Ze||(Ze=p.n5z(fe)))(ht||fe)}}(),fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const _t=[at];class yn extends ie.y{}let Sn=(()=>{class fe extends b.X{constructor(Le,ht,Xt,Zt){super(Zt);const Oi=Le.pipe((0,ue.Q)(Se)).pipe((0,ve.M)(ht)).pipe((0,rt.R)(gr,{state:Zt}));this.stateSubscription=Oi.subscribe(({state:mr,action:Rn})=>{this.next(mr),Xt.next(Rn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return fe.INIT=nt,fe.\u0275fac=function(Le){return new(Le||fe)(p.LFG(We),p.LFG(vi),p.LFG(at),p.LFG(dt))},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function gr(fe={state:void 0},[Ze,Le]){const{state:ht}=fe;return{state:Le(ht,Ze),action:Ze}}const Jt=[Sn,{provide:yn,useExisting:Sn}];let zn=(()=>{class fe extends ie.y{constructor(Le,ht,Xt){super(),this.actionsObserver=ht,this.reducerManager=Xt,this.source=Le}select(Le,...ht){return di.call(null,Le,...ht)(this)}lift(Le){const ht=new fe(this,this.actionsObserver,this.reducerManager);return ht.operator=Le,ht}dispatch(Le){this.actionsObserver.next(Le)}next(Le){this.actionsObserver.next(Le)}error(Le){this.actionsObserver.error(Le)}complete(){this.actionsObserver.complete()}addReducer(Le,ht){this.reducerManager.addReducer(Le,ht)}removeReducer(Le){this.reducerManager.removeReducer(Le)}}return fe.\u0275fac=function(Le){return new(Le||fe)(p.LFG(yn),p.LFG(We),p.LFG(be))},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const nr=[zn];function di(fe,Ze,...Le){return function(Xt){let Zt;if("string"==typeof fe){const Kn=[Ze,...Le].filter(Boolean);Zt=Xt.pipe(function Ne(...fe){const Ze=fe.length;if(0===Ze)throw new Error("list of properties cannot be empty.");return(0,qe.U)(Le=>{let ht=Le;for(let Xt=0;Xt<Ze;Xt++){const Zt=null==ht?void 0:ht[fe[Xt]];if(void 0===Zt)return;ht=Zt}return ht})}(fe,...Kn))}else{if("function"!=typeof fe)throw new TypeError(`Unexpected type '${typeof fe}' in select operator, expected 'string' or 'function'`);Zt=Xt.pipe((0,qe.U)(Kn=>fe(Kn,Ze)))}return Zt.pipe((0,Ye.x)())}}const jn="https://ngrx.io/guide/store/configuration/runtime-checks";function Bn(fe){return void 0===fe}function Xn(fe){return null===fe}function ni(fe){return Array.isArray(fe)}function ri(fe){return"object"==typeof fe&&null!==fe}function De(fe){return"function"==typeof fe}function Yn(fe,Ze){return fe===Ze}function ir(fe,Ze,Le){for(let ht=0;ht<fe.length;ht++)if(!Le(fe[ht],Ze[ht]))return!0;return!1}function Ue(fe,Ze=Yn,Le=Yn){let Zt,ht=null,Xt=null;return{memoized:function Oi(){if(void 0!==Zt)return Zt.result;if(!ht)return Xt=fe.apply(null,arguments),ht=arguments,Xt;if(!ir(arguments,ht,Ze))return Xt;const mr=fe.apply(null,arguments);return ht=arguments,Le(Xt,mr)?Xt:(Xt=mr,mr)},reset:function Kn(){ht=null,Xt=null},setResult:function Vr(mr){Zt={result:mr}},clearResult:function _r(){Zt=void 0}}}function Ce(...fe){return function Ge(fe,Ze={stateFn:de}){return function(...Le){let ht=Le;if(Array.isArray(ht[0])){const[mr,...Rn]=ht;ht=[...mr,...Rn]}const Xt=ht.slice(0,ht.length-1),Zt=ht[ht.length-1],Kn=Xt.filter(mr=>mr.release&&"function"==typeof mr.release),Vr=fe(function(...mr){return Zt.apply(null,mr)}),_r=Ue(function(mr,Rn){return Ze.stateFn.apply(null,[mr,Xt,Rn,Vr])});return Object.assign(_r.memoized,{release:function Oi(){_r.reset(),Vr.reset(),Kn.forEach(mr=>mr.release())},projector:Vr.memoized,setResult:_r.setResult,clearResult:_r.clearResult})}}(Ue)(...fe)}function de(fe,Ze,Le,ht){if(void 0===Le){const Zt=Ze.map(Kn=>Kn(fe));return ht.memoized.apply(null,Zt)}const Xt=Ze.map(Zt=>Zt(fe,Le));return ht.memoized.apply(null,[...Xt,Le])}function vt(fe){return Ce(Ze=>{const Le=Ze[fe];return(0,p.X6Q)()&&!(fe in Ze)&&console.warn(`@ngrx/store: The feature name "${fe}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${fe}', ...) or StoreModule.forFeature('${fe}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Le},Ze=>Ze)}function xe(fe,Ze){return Ze instanceof p.OlP?fe.get(Ze):Ze}function Dt(fe,Ze,Le){return Le.map((ht,Xt)=>{if(Ze[Xt]instanceof p.OlP){const Zt=fe.get(Ze[Xt]);return{key:ht.key,reducerFactory:Zt.reducerFactory?Zt.reducerFactory:sn,metaReducers:Zt.metaReducers?Zt.metaReducers:[],initialState:Zt.initialState}}return ht})}function Kt(fe,Ze){return Ze.map(ht=>ht instanceof p.OlP?fe.get(ht):ht)}function bn(fe){return"function"==typeof fe?fe():fe}function xn(fe,Ze){return fe.concat(Ze)}function sr(fe){if(fe)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function zr(fe){Object.freeze(fe);const Ze=De(fe);return Object.getOwnPropertyNames(fe).forEach(Le=>{if(!Le.startsWith("\u0275")&&function bt(fe,Ze){return Object.prototype.hasOwnProperty.call(fe,Ze)}(fe,Le)&&(!Ze||"caller"!==Le&&"callee"!==Le&&"arguments"!==Le)){const ht=fe[Le];(ri(ht)||De(ht))&&!Object.isFrozen(ht)&&zr(ht)}}),fe}function Fn(fe,Ze=[]){return(Bn(fe)||Xn(fe))&&0===Ze.length?{path:["root"],value:fe}:Object.keys(fe).reduce((ht,Xt)=>{if(ht)return ht;const Zt=fe[Xt];return function ke(fe){return De(fe)&&fe.hasOwnProperty("\u0275cmp")}(Zt)?ht:!(Bn(Zt)||Xn(Zt)||function Ir(fe){return"number"==typeof fe}(Zt)||function $n(fe){return"boolean"==typeof fe}(Zt)||function Gr(fe){return"string"==typeof fe}(Zt)||ni(Zt))&&(function Oe(fe){if(!function Ei(fe){return ri(fe)&&!ni(fe)}(fe))return!1;const Ze=Object.getPrototypeOf(fe);return Ze===Object.prototype||null===Ze}(Zt)?Fn(Zt,[...Ze,Xt]):{path:[...Ze,Xt],value:Zt})},!1)}function hi(fe,Ze){if(!1===fe)return;const Le=fe.path.join("."),ht=new Error(`Detected unserializable ${Ze} at "${Le}". ${jn}#strict${Ze}serializability`);throw ht.value=fe.value,ht.unserializablePath=Le,ht}function Is(fe){return(0,p.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},fe):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Bi({strictActionSerializability:fe,strictStateSerializability:Ze}){return Le=>fe||Ze?function Xr(fe,Ze){return function(Le,ht){Ze.action(ht)&&hi(Fn(ht),"action");const Xt=fe(Le,ht);return Ze.state()&&hi(Fn(Xt),"state"),Xt}}(Le,{action:ht=>fe&&!Mr(ht),state:()=>Ze}):Le}function or({strictActionImmutability:fe,strictStateImmutability:Ze}){return Le=>fe||Ze?function lr(fe,Ze){return function(Le,ht){const Xt=Ze.action(ht)?zr(ht):ht,Zt=fe(Le,Xt);return Ze.state()?zr(Zt):Zt}}(Le,{action:ht=>fe&&!Mr(ht),state:()=>Ze}):Le}function Mr(fe){return fe.type.startsWith("@ngrx")}function Ln({strictActionWithinNgZone:fe}){return Ze=>fe?function Ds(fe,Ze){return function(Le,ht){if(Ze.action(ht)&&!p.R0b.isInAngularZone())throw new Error(`Action '${ht.type}' running outside NgZone. ${jn}#strictactionwithinngzone`);return fe(Le,ht)}}(Ze,{action:Le=>fe&&!Mr(Le)}):Ze}function An(fe){return[{provide:kr,useValue:fe},{provide:Yr,useFactory:fi,deps:[kr]},{provide:ar,deps:[Yr],useFactory:Is},{provide:wr,multi:!0,deps:[ar],useFactory:or},{provide:wr,multi:!0,deps:[ar],useFactory:Bi},{provide:wr,multi:!0,deps:[ar],useFactory:Ln}]}function Mn(){return[{provide:Wr,multi:!0,deps:[ar],useFactory:Pn}]}function fi(fe){return fe}function Pn(fe){if(!fe.strictActionTypeUniqueness)return;const Ze=Object.entries($e).filter(([,Le])=>Le>1).map(([Le])=>Le);if(Ze.length)throw new Error(`Action types are registered more than once, ${Ze.map(Le=>`"${Le}"`).join(", ")}. ${jn}#strictactiontypeuniqueness`)}function fo(fe,Ze){return[{provide:He,useFactory:sr,deps:[[zn,new p.FiY,new p.tp0]]},{provide:Vt,useValue:Ze.initialState},{provide:dt,useFactory:bn,deps:[Vt]},{provide:Et,useValue:fe},{provide:Tt,useExisting:fe instanceof p.OlP?fe:Et},{provide:Bt,deps:[p.zs3,Et,[new p.tBr(Tt)]],useFactory:xe},{provide:rr,useValue:Ze.metaReducers?Ze.metaReducers:[]},{provide:Dr,deps:[wr,rr],useFactory:xn},{provide:Yt,useValue:Ze.reducerFactory?Ze.reducerFactory:sn},{provide:zt,deps:[Yt,Dr],useFactory:Fr},pt,Ee,_t,Jt,nr,An(Ze.runtimeChecks),Mn()]}function rs(fe,Ze,Le={}){return[{provide:Ve,multi:!0,useValue:fe instanceof Object?{}:Le},{provide:pr,multi:!0,useValue:{key:fe instanceof Object?fe.name:fe,reducerFactory:Le instanceof p.OlP||!Le.reducerFactory?sn:Le.reducerFactory,metaReducers:Le instanceof p.OlP||!Le.metaReducers?[]:Le.metaReducers,initialState:Le instanceof p.OlP||!Le.initialState?void 0:Le.initialState}},{provide:Xe,deps:[p.zs3,Ve,pr],useFactory:Dt},{provide:st,multi:!0,useValue:fe instanceof Object?fe.reducer:Ze},{provide:St,multi:!0,useExisting:Ze instanceof p.OlP?Ze:st},{provide:Tn,multi:!0,deps:[p.zs3,st,[new p.tBr(St)]],useFactory:Kt},Mn()]}let qs=(()=>{class fe{constructor(Le,ht,Xt,Zt,Kn,Vr){}}return fe.\u0275fac=function(Le){return new(Le||fe)(p.LFG(We),p.LFG(vi),p.LFG(at),p.LFG(zn),p.LFG(He,8),p.LFG(Wr,8))},fe.\u0275mod=p.oAB({type:fe}),fe.\u0275inj=p.cJS({}),fe})(),Yi=(()=>{class fe{constructor(Le,ht,Xt,Zt,Kn){this.features=Le,this.featureReducers=ht,this.reducerManager=Xt;const Vr=Le.map((_r,Oi)=>{const Rn=ht.shift()[Oi];return Object.assign(Object.assign({},_r),{reducers:Rn,initialState:bn(_r.initialState)})});Xt.addFeatures(Vr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return fe.\u0275fac=function(Le){return new(Le||fe)(p.LFG(Xe),p.LFG(Tn),p.LFG(be),p.LFG(qs),p.LFG(Wr,8))},fe.\u0275mod=p.oAB({type:fe}),fe.\u0275inj=p.cJS({}),fe})(),Bs=(()=>{class fe{static forRoot(Le,ht={}){return{ngModule:qs,providers:[...fo(Le,ht)]}}static forFeature(Le,ht,Xt={}){return{ngModule:Yi,providers:[...rs(Le,ht,Xt)]}}}return fe.\u0275fac=function(Le){return new(Le||fe)},fe.\u0275mod=p.oAB({type:fe}),fe.\u0275inj=p.cJS({}),fe})();function bs(...fe){return{reducer:fe.pop(),types:fe.map(ht=>ht.type)}}function js(fe,...Ze){const Le=new Map;for(const ht of Ze)for(const Xt of ht.types){const Zt=Le.get(Xt);Le.set(Xt,Zt?(Vr,_r)=>ht.reducer(Zt(Vr,_r),_r):ht.reducer)}return function(ht=fe,Xt){const Zt=Le.get(Xt.type);return Zt?Zt(ht,Xt):ht}}},5532:(xt,Pe,A)=>{A.d(Pe,{G2:()=>zt,ek:()=>Ot});var p=A(5e3),b=A(655),ie=A(6197),H=A(9751),ge=A(4004),pe=A(9808),we=A(4202),se=A(520),Se=A(259),re=A(9996);function ve(Tt,st){if(1&Tt&&(p.TgZ(0,"section")(1,"h2")(2,"span"),p._uU(3,"Total"),p.qZA(),p._uU(4,"Users"),p.qZA(),p.TgZ(5,"h2")(6,"h1"),p._uU(7),p.qZA()()()),2&Tt){const Ve=st.ngIf;p.xp6(7),p.hij(" ",Ve.length," ")}}function rt(Tt,st){1&Tt&&p.GkF(0)}A(4716);const qe=function(Tt){return{$implicit:Tt}};function Ne(Tt,st){if(1&Tt&&(p.ynx(0),p.YNc(1,rt,1,0,"ng-container",5),p.BQk()),2&Tt){const Ve=st.$implicit;p.oxw();const Xe=p.MAs(23);p.xp6(1),p.Q6J("ngTemplateOutlet",Xe)("ngTemplateOutletContext",p.VKq(2,qe,Ve))}}function Ye(Tt,st){1&Tt&&p.GkF(0)}const $e=function(Tt,st){return{$implicit:Tt,parent:st}};function Je(Tt,st){if(1&Tt&&(p.ynx(0),p.TgZ(1,"section")(2,"h2")(3,"span"),p._uU(4,"Pages"),p.qZA(),p._uU(5,"Views"),p.qZA(),p.TgZ(6,"p"),p._uU(7),p.TgZ(8,"code"),p._uU(9),p.qZA()()(),p.YNc(10,Ye,1,0,"ng-container",5),p.BQk()),2&Tt){const Ve=p.oxw(),Xe=Ve.parent,St=Ve.$implicit;p.oxw();const Tn=p.MAs(25);p.xp6(7),p.lnq(" ",Xe," ",Xe?"/":""," ",St.key," - "),p.xp6(2),p.Oqu(St.value.counter),p.xp6(1),p.Q6J("ngTemplateOutlet",Tn)("ngTemplateOutletContext",p.WLB(6,$e,St,St.key))}}function Pt(Tt,st){1&Tt&&p.YNc(0,Je,11,9,"ng-container",1),2&Tt&&p.Q6J("ngIf","counter"!==st.$implicit.key)}function Qt(Tt,st){1&Tt&&p.GkF(0)}function ze(Tt,st){if(1&Tt&&(p.ynx(0),p.YNc(1,Qt,1,0,"ng-container",5),p.BQk()),2&Tt){const Ve=st.$implicit,Xe=p.oxw().parent;p.oxw();const St=p.MAs(23);p.xp6(1),p.Q6J("ngTemplateOutlet",St)("ngTemplateOutletContext",p.WLB(2,$e,Ve,Xe))}}function je(Tt,st){1&Tt&&(p.YNc(0,ze,2,5,"ng-container",2),p.ALo(1,"keyvalue")),2&Tt&&p.Q6J("ngForOf",p.lcZ(1,1,st.$implicit.value))}class Ct{constructor(){this.db=(0,ie.N8)()}create(st,Ve={}){let Xe=(0,ie.VF)((0,ie.iH)(this.db,st));return(0,ie.t8)(Xe,Object.assign({key:Xe.key},Ve)).then(),Promise.resolve({key:Xe.key})}set(st,Ve={}){return(0,b.mG)(this,void 0,void 0,function*(){const Xe=(0,ie.iH)(this.db,st);yield(0,ie.t8)(Xe,Ve)})}update(st,Ve={}){return(0,b.mG)(this,void 0,void 0,function*(){const Xe=(0,ie.iH)(this.db,st);yield(0,ie.Vx)(Xe,Ve)})}remove(st){return(0,b.mG)(this,void 0,void 0,function*(){const Ve=(0,ie.iH)(this.db,st);yield(0,ie.Od)(Ve)})}readRealTime(st){return new H.y(Ve=>{(0,ie.jM)((0,ie.iH)(this.db,st),Xe=>{let St=[];Xe.exists()?(Xe.forEach(Tn=>{St.push(Object.assign({key:Tn.key},Tn.val()))}),Ve.next(St)):Ve.next([])})})}readOnceWithObserver(st){return(0,ie.jM)((0,ie.iH)(this.db,st),Ve=>Ve.val(),{onlyOnce:!0})}readOnce(st){return new Promise((Ve,Xe)=>{(0,ie.U2)((0,ie.iH)(this.db,st)).then(St=>{St.exists()?Ve(Object.assign({key:St.key},St.val())):Ve([])}).catch(St=>{Xe(St)})})}readReal(st){return new H.y(Ve=>{(0,ie.jM)((0,ie.iH)(this.db,st),Xe=>{Xe.exists()?Ve.next(Xe.val()):Ve.next(null)})})}updateCounter(st,Ve=!0){return new Promise((Xe,St)=>{const Tn=(0,ie.iH)(this.db);(0,ie.U2)((0,ie.iU)(Tn,"counter")).then(rr=>{(0,ie.Vx)((0,ie.iH)(this.db,st),{counter:(0,ie.nP)(Ve?1:-1)}).then(wr=>{Xe(wr)})})})}others(){}checkPresence(st){const Ve=(0,ie.iH)(this.db,`${st}/connections`),Xe=(0,ie.iH)(this.db,`${st}/lastOnline`),St=(0,ie.iH)(this.db,".info/connected");(0,ie.jM)(St,Tn=>{if(!0===Tn.val()){const rr=(0,ie.VF)(Ve);(0,ie.ae)(rr).remove().then(),(0,ie.t8)(rr,!0).then(),(0,ie.ae)(Xe).set((0,ie.Bt)()).then()}})}onDisconnect(st){const Ve=(0,ie.iH)(this.db,st);return(0,ie.ae)(Ve)}detectingConnectionState(){return new H.y(st=>{const Ve=(0,ie.iH)(this.db,".info/connected");(0,ie.jM)(Ve,Xe=>{st.next(Xe.val())})})}}let Rt=(()=>{class Tt extends Ct{constructor(){super()}get timestamp(){return(new Date).getTime()}getPresence(Ve){return this.readReal(`status/${Ve}`)}getUserOnlineCounts(){return this.readRealTime("status").pipe((0,ge.U)(Ve=>Ve.reduce((Xe,St)=>"online"===St.status?++Xe:Xe,0)))}getTotalUserCounts(){return this.readRealTime("status").pipe((0,ge.U)(Ve=>Ve))}getUser(){}setPresence(Ve,Xe){return("offline"===Xe||"away"===Xe)&&this.updateCounter("online-users",!1).then(),"online"===Xe&&this.updateCounter("online-users",!0).then(),this.set(`status/${Ve}`,{status:Xe,timestamp:this.timestamp})}updateOnAway(Ve){document.onvisibilitychange=Xe=>{"hidden"===document.visibilityState?this.setPresence(Ve,"away"):this.setPresence(Ve,"online")}}updateOnUser(Ve){this.detectingConnectionState().pipe((0,ge.U)(St=>St?"online":"offline")).subscribe(St=>this.setPresence(Ve,St))}updateOnDisconnect(Ve){this.onDisconnect(`status/${Ve}`).update({status:"offline",timestamp:this.timestamp})}configure(Ve){this.updateOnAway(Ve),this.updateOnUser(Ve),this.updateOnDisconnect(Ve)}configureUserPresenceByLocal(){let Ve=localStorage.getItem("uid");this.checkingUser(Ve)}configureUserPresenceByLogin(Ve,Xe={}){this.checkingUser(Ve,Xe)}checkingUser(Ve,Xe={}){Ve?this.configure(Ve):this.create("status",Object.assign({uid:Ve},Xe)).then(St=>{localStorage.setItem("uid",St.key),this.configure(St.key)})}}return Tt.\u0275fac=function(Ve){return new(Ve||Tt)},Tt.\u0275prov=p.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();const Ht={provide:p.ip1,useFactory:function it(Tt){return()=>new Promise((st,Ve)=>(0,b.mG)(this,void 0,void 0,function*(){yield Tt.configureUserPresenceByLocal(),st("done")}))},deps:[Rt],multi:!0};let Ot=(()=>{class Tt extends Ct{constructor(Ve){super(),this.presenceService=Ve,this.flattenObject1=Xe=>{const St={};return Object.keys(Xe).forEach(Tn=>{const rr=Xe[Tn];"object"!=typeof rr||null===rr||Array.isArray(rr)?St[Tn]=rr:Object.assign(St,this.flattenObject1(rr))}),St},this.flattenObject=Xe=>{let St={};for(const Tn in Xe)if(Xe.hasOwnProperty(Tn))if("object"!=typeof Xe[Tn]||Array.isArray(Xe[Tn]))St[Tn]=Xe[Tn];else{const rr=this.flattenObject(Xe[Tn]);for(const wr in rr)St[Tn+"_"+wr]=rr[wr]}return St}}ngOnInit(){this.readReal("server-activities").subscribe(Ve=>{this.serverActivities=Ve}),this.readReal("router-activities").subscribe(Ve=>(0,b.mG)(this,void 0,void 0,function*(){this.routerActivities=Ve})),this.counts$=this.presenceService.getUserOnlineCounts(),this.totalUsers$=this.presenceService.getTotalUserCounts()}d(Ve){let Xe={};for(let St in Ve)if(Ve.hasOwnProperty(St)){const Tn=typeof Ve[St];"string"===Tn?Xe[St]=Ve[St]:"object"===Tn&&this.d(Ve[St])}}}return Tt.\u0275fac=function(Ve){return new(Ve||Tt)(p.Y36(Rt))},Tt.\u0275cmp=p.Xpm({type:Tt,selectors:[["fb-activities"]],features:[p.qOj],decls:26,vars:10,consts:[[1,"grid-even-columns"],[4,"ngIf"],[4,"ngFor","ngForOf"],["rows",""],["inner",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Ve,Xe){1&Ve&&(p.TgZ(0,"div",0)(1,"section")(2,"h2")(3,"span"),p._uU(4,"Online"),p.qZA(),p._uU(5,"Users"),p.qZA(),p.TgZ(6,"h2")(7,"h1"),p._uU(8),p.ALo(9,"async"),p.qZA()()(),p.YNc(10,ve,8,1,"section",1),p.ALo(11,"async"),p.TgZ(12,"section")(13,"h2")(14,"span"),p._uU(15,"Server"),p.qZA(),p._uU(16,"Views"),p.qZA(),p.TgZ(17,"h2")(18,"h1"),p._uU(19),p.qZA()()(),p.YNc(20,Ne,2,4,"ng-container",2),p.ALo(21,"keyvalue"),p.qZA(),p.YNc(22,Pt,1,1,"ng-template",null,3,p.W1O),p.YNc(24,je,2,3,"ng-template",null,4,p.W1O)),2&Ve&&(p.xp6(8),p.hij(" ",p.lcZ(9,4,Xe.counts$)," "),p.xp6(2),p.Q6J("ngIf",p.lcZ(11,6,Xe.totalUsers$)),p.xp6(9),p.Oqu(null==Xe.serverActivities?null:Xe.serverActivities.counter),p.xp6(1),p.Q6J("ngForOf",p.lcZ(21,8,Xe.routerActivities)))},dependencies:[pe.sg,pe.O5,pe.tP,pe.Ov,pe.Nd],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin-top:0}[_nghost-%COMP%]{display:block;background:#f5f5f5;color:#18314f;font-family:Crimson Text,serif;font-size:1.5rem}section[_ngcontent-%COMP%]{background:white;box-shadow:0 0 20px #00000040;width:80%;margin:50px auto;padding:50px}h2[_ngcontent-%COMP%]{font-weight:400;text-transform:uppercase;font-size:1rem;margin-bottom:3em;letter-spacing:8px;text-align:center;color:tomato}h2[_ngcontent-%COMP%]:after{content:"";display:block;border-bottom:1px solid rgba(24,49,79,.25);width:20%;margin:3em auto 0}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2em;font-weight:700;display:block;color:#18314f}[class*=grid-][_ngcontent-%COMP%]{display:grid;gap:1rem}.grid-even-columns[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(min(300px,100%),1fr))}@media (min-width: 50em){.grid-auto-flows[_ngcontent-%COMP%]{grid-auto-flow:column;grid-auto-columns:1fr}}.grid-stack[_ngcontent-%COMP%]{display:grid;place-items:center}.grid-stack[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/2}.grid-stack[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{aspect-ratio:16/9;object-fit:cover;z-index:-1}']}),Tt})(),nt=(()=>{class Tt extends Ct{constructor(Ve){super(),this.router=Ve}config(){this.router.events.subscribe(Ve=>{Ve instanceof we.m2&&this.updateCounter(`router-activities${Ve.url}`).then()})}}return Tt.\u0275fac=function(Ve){return new(Ve||Tt)(p.LFG(we.F0))},Tt.\u0275prov=p.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();const We={provide:p.ip1,useFactory:Tt=>()=>Tt.config(),multi:!0,deps:[nt]},He={provide:se.TP,useClass:(()=>{class Tt extends Ct{constructor(){super()}intercept(Ve,Xe){return this.updateCounter("server-activities").then(),Xe.handle(Ve)}}return Tt.\u0275fac=function(Ve){return new(Ve||Tt)},Tt.\u0275prov=p.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})(),multi:!0},Vt=new p.OlP(null);function dt(Tt){return()=>{const st=(0,Se.ZF)(Tt);(0,ie.N8)(st),(0,re.ad)(st),console.log(`no of Firebase app:: ${(0,Se.C6)().length}`)}}let zt=(()=>{class Tt{constructor(Ve){this.config=Ve}static initializeApp(Ve){return{ngModule:Tt,providers:[{provide:Vt,useFactory:dt(Ve)}]}}static initialize(Ve){let Xe=[];return Ve.activityInHttp&&Xe.push(He),Ve.activityInRouter&&Xe.push(We),Ve.activityOfAnonymousUser&&Xe.push(Ht),{ngModule:Tt,providers:Xe}}}return Tt.\u0275fac=function(Ve){return new(Ve||Tt)(p.LFG(Vt))},Tt.\u0275mod=p.oAB({type:Tt}),Tt.\u0275inj=p.cJS({providers:[nt,Rt],imports:[pe.ez]}),Tt})()},259:(xt,Pe,A)=>{A.d(Pe,{C6:()=>p.C6,ZF:()=>p.ZF});var p=A(6881);(0,p.KN)("firebase","9.17.1","app")},4716:(xt,Pe,A)=>{A.d(Pe,{Xb:()=>Gi,v0:()=>ao,Aj:()=>Ii,e5:()=>Jr,w7:()=>Ni});var p=A(5861),b=A(2090),ie=A(6881),H=A(1877),ge=A(655),pe=A(4859);const Ne=function rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new b.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new H.Yd("@firebase/auth");function Pt(P,...m){Je.logLevel<=H.in.ERROR&&Je.error(`Auth (${ie.Jn}): ${P}`,...m)}function Qt(P,...m){throw Rt(P,...m)}function ze(P,...m){return Rt(P,...m)}function je(P,m,E){const N=Object.assign(Object.assign({},Ne()),{[m]:E});return new b.LL("auth","Firebase",N).create(m,{appName:P.name})}function Rt(P,...m){if("string"!=typeof P){const E=m[0],N=[...m.slice(1)];return N[0]&&(N[0].appName=P.name),P._errorFactory.create(E,...N)}return Ye.create(P,...m)}function it(P,m,...E){if(!P)throw Rt(m,...E)}function Ht(P){const m="INTERNAL ASSERTION FAILED: "+P;throw Pt(m),new Error(m)}function Ot(P,m){P||Ht(m)}const nt=new Map;function We(P){Ot(P instanceof Function,"Expected a class definition");let m=nt.get(P);return m?(Ot(m instanceof P,"Instance stored in cache mismatched with class"),m):(m=new P,nt.set(P,m),m)}function Vt(){var P;return"undefined"!=typeof self&&(null===(P=self.location)||void 0===P?void 0:P.href)||""}function zt(){var P;return"undefined"!=typeof self&&(null===(P=self.location)||void 0===P?void 0:P.protocol)||null}class Et{constructor(m,E){this.shortDelay=m,this.longDelay=E,Ot(E>m,"Short delay should be less than long delay!"),this.isMobile=(0,b.uI)()||(0,b.b$)()}get(){return function Yt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===zt()||"https:"===zt()}()||(0,b.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pr(P,m){Ot(P.emulator,"Emulator should always be set here");const{url:E}=P.emulator;return m?`${E}${m.startsWith("/")?m.slice(1):m}`:E}class Tt{static initialize(m,E,N){this.fetchImpl=m,E&&(this.headersImpl=E),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ve=new Et(3e4,6e4);function Xe(P,m){return P.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:P.tenantId}):m}function St(P,m,E,N){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,p.Z)(function*(P,m,E,N,Z={}){return rr(P,Z,(0,p.Z)(function*(){let le={},ot={};N&&("GET"===m?ot=N:le={body:JSON.stringify(N)});const tt=(0,b.xO)(Object.assign({key:P.config.apiKey},ot)).slice(1),Mt=yield P._getAdditionalHeaders();return Mt["Content-Type"]="application/json",P.languageCode&&(Mt["X-Firebase-Locale"]=P.languageCode),Tt.fetch()(kr(P,P.config.apiHost,E,tt),Object.assign({method:m,headers:Mt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function rr(P,m,E){return wr.apply(this,arguments)}function wr(){return(wr=(0,p.Z)(function*(P,m,E){P._canInitEmulator=!1;const N=Object.assign(Object.assign({},st),m);try{const Z=new ar(P),le=yield Promise.race([E(),Z.promise]);Z.clearNetworkTimeout();const ot=yield le.json();if("needConfirmation"in ot)throw Wr(P,"account-exists-with-different-credential",ot);if(le.ok&&!("errorMessage"in ot))return ot;{const tt=le.ok?ot.errorMessage:ot.error.message,[Mt,$t]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw Wr(P,"credential-already-in-use",ot);if("EMAIL_EXISTS"===Mt)throw Wr(P,"email-already-in-use",ot);if("USER_DISABLED"===Mt)throw Wr(P,"user-disabled",ot);const an=N[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if($t)throw je(P,an,$t);Qt(P,an)}}catch(Z){if(Z instanceof b.ZR)throw Z;Qt(P,"network-request-failed")}})).apply(this,arguments)}function Dr(P,m,E,N){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(P,m,E,N,Z={}){const le=yield St(P,m,E,N,Z);return"mfaPendingCredential"in le&&Qt(P,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function kr(P,m,E,N){const Z=`${m}${E}?${N}`;return P.config.emulator?pr(P.config,Z):`${P.config.apiScheme}://${Z}`}class ar{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((E,N)=>{this.timer=setTimeout(()=>N(ze(this.auth,"network-request-failed")),Ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wr(P,m,E){const N={appName:P.name};E.email&&(N.email=E.email),E.phoneNumber&&(N.phoneNumber=E.phoneNumber);const Z=ze(P,m,N);return Z.customData._tokenResponse=E,Z}function Mi(){return(Mi=(0,p.Z)(function*(P,m){return St(P,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ns(P,m){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,p.Z)(function*(P,m){return St(P,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Pi(P){if(P)try{const m=new Date(Number(P));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Ke(){return(Ke=(0,p.Z)(function*(P,m=!1){const E=(0,b.m9)(P),N=yield E.getIdToken(m),Z=Ee(N);it(Z&&Z.exp&&Z.auth_time&&Z.iat,E.auth,"internal-error");const le="object"==typeof Z.firebase?Z.firebase:void 0,ot=null==le?void 0:le.sign_in_provider;return{claims:Z,token:N,authTime:Pi(be(Z.auth_time)),issuedAtTime:Pi(be(Z.iat)),expirationTime:Pi(be(Z.exp)),signInProvider:ot||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function be(P){return 1e3*Number(P)}function Ee(P){const[m,E,N]=P.split(".");if(void 0===m||void 0===E||void 0===N)return Pt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,b.tV)(E);return Z?JSON.parse(Z):(Pt("Failed to decode base64 JWT payload"),null)}catch(Z){return Pt("Caught error parsing JWT payload as JSON",null==Z?void 0:Z.toString()),null}}function _t(P,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(P,m,E=!1){if(E)return m;try{return yield m}catch(N){throw N instanceof b.ZR&&Sn(N)&&P.auth.currentUser===P&&(yield P.auth.signOut()),N}})).apply(this,arguments)}function Sn({code:P}){return"auth/user-disabled"===P||"auth/user-token-expired"===P}class gr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var E;if(m){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(m=!1){var E=this;if(!this.isRunning)return;const N=this.getInterval(m);this.timerId=setTimeout((0,p.Z)(function*(){yield E.iteration()}),N)}iteration(){var m=this;return(0,p.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null==E?void 0:E.code)&&m.schedule(!0))}m.schedule()})()}}class Jt{constructor(m,E){this.createdAt=m,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pi(this.lastLoginAt),this.creationTime=Pi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zn(P){return nr.apply(this,arguments)}function nr(){return(nr=(0,p.Z)(function*(P){var m;const E=P.auth,N=yield P.getIdToken(),Z=yield _t(P,Ns(E,{idToken:N}));it(null==Z?void 0:Z.users.length,E,"internal-error");const le=Z.users[0];P._notifyReloadListener(le);const ot=null!==(m=le.providerUserInfo)&&void 0!==m&&m.length?Xn(le.providerUserInfo):[],tt=Bn(P.providerData,ot),an=!!P.isAnonymous&&!(P.email&&le.passwordHash||null!=tt&&tt.length),qn={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:tt,metadata:new Jt(le.createdAt,le.lastLoginAt),isAnonymous:an};Object.assign(P,qn)})).apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(P){const m=(0,b.m9)(P);yield zn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Bn(P,m){return[...P.filter(N=>!m.some(Z=>Z.providerId===N.providerId)),...m]}function Xn(P){return P.map(m=>{var{providerId:E}=m,N=(0,ge._T)(m,["providerId"]);return{providerId:E,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function Gr(){return(Gr=(0,p.Z)(function*(P,m){const E=yield rr(P,{},(0,p.Z)(function*(){const N=(0,b.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Z,apiKey:le}=P.config,ot=kr(P,Z,"/v1/token",`key=${le}`),tt=yield P._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",Tt.fetch()(ot,{method:"POST",headers:tt,body:N})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){it(m.idToken,"internal-error"),it(void 0!==m.idToken,"internal-error"),it(void 0!==m.refreshToken,"internal-error");const E="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function at(P){const m=Ee(P);return it(m,"internal-error"),it(void 0!==m.exp,"internal-error"),it(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,E)}getToken(m,E=!1){var N=this;return(0,p.Z)(function*(){return it(!N.accessToken||N.refreshToken,m,"user-token-expired"),E||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(m,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,E){var N=this;return(0,p.Z)(function*(){const{accessToken:Z,refreshToken:le,expiresIn:ot}=yield function ni(P,m){return Gr.apply(this,arguments)}(m,E);N.updateTokensAndExpiration(Z,le,Number(ot))})()}updateTokensAndExpiration(m,E,N){this.refreshToken=E||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(m,E){const{refreshToken:N,accessToken:Z,expirationTime:le}=E,ot=new $n;return N&&(it("string"==typeof N,"internal-error",{appName:m}),ot.refreshToken=N),Z&&(it("string"==typeof Z,"internal-error",{appName:m}),ot.accessToken=Z),le&&(it("number"==typeof le,"internal-error",{appName:m}),ot.expirationTime=le),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function Ir(P,m){it("string"==typeof P||void 0===P,"internal-error",{appName:m})}class ri{constructor(m){var{uid:E,auth:N,stsTokenManager:Z}=m,le=(0,ge._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Jt(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(m){var E=this;return(0,p.Z)(function*(){const N=yield _t(E,E.stsTokenManager.getToken(E.auth,m));return it(N,E.auth,"internal-error"),E.accessToken!==N&&(E.accessToken=N,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),N})()}getIdTokenResult(m){return function Lr(P){return Ke.apply(this,arguments)}(this,m)}reload(){return function di(P){return jn.apply(this,arguments)}(this)}_assign(m){this!==m&&(it(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(E=>Object.assign({},E)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new ri(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,E=!1){var N=this;return(0,p.Z)(function*(){let Z=!1;m.idToken&&m.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(m),Z=!0),E&&(yield zn(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var m=this;return(0,p.Z)(function*(){const E=yield m.getIdToken();return yield _t(m,function Ci(P,m){return Mi.apply(this,arguments)}(m.auth,{idToken:E})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,E){var N,Z,le,ot,tt,Mt,$t,an;const qn=null!==(N=E.displayName)&&void 0!==N?N:void 0,ns=null!==(Z=E.email)&&void 0!==Z?Z:void 0,Es=null!==(le=E.phoneNumber)&&void 0!==le?le:void 0,Go=null!==(ot=E.photoURL)&&void 0!==ot?ot:void 0,oi=null!==(tt=E.tenantId)&&void 0!==tt?tt:void 0,Ws=null!==(Mt=E._redirectEventId)&&void 0!==Mt?Mt:void 0,$l=null!==($t=E.createdAt)&&void 0!==$t?$t:void 0,Cr=null!==(an=E.lastLoginAt)&&void 0!==an?an:void 0,{uid:fr,emailVerified:Vi,isAnonymous:To,providerData:Ro,stsTokenManager:Ku}=E;it(fr&&Ku,m,"internal-error");const zs=$n.fromJSON(this.name,Ku);it("string"==typeof fr,m,"internal-error"),Ir(qn,m.name),Ir(ns,m.name),it("boolean"==typeof Vi,m,"internal-error"),it("boolean"==typeof To,m,"internal-error"),Ir(Es,m.name),Ir(Go,m.name),Ir(oi,m.name),Ir(Ws,m.name),Ir($l,m.name),Ir(Cr,m.name);const us=new ri({uid:fr,auth:m,email:ns,emailVerified:Vi,displayName:qn,isAnonymous:To,photoURL:Go,phoneNumber:Es,tenantId:oi,stsTokenManager:zs,createdAt:$l,lastLoginAt:Cr});return Ro&&Array.isArray(Ro)&&(us.providerData=Ro.map(iu=>Object.assign({},iu))),Ws&&(us._redirectEventId=Ws),us}static _fromIdTokenResponse(m,E,N=!1){return(0,p.Z)(function*(){const Z=new $n;Z.updateFromServerResponse(E);const le=new ri({uid:E.localId,auth:m,stsTokenManager:Z,isAnonymous:N});return yield zn(le),le})()}}const Oe=(()=>{class P{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(E,N){var Z=this;return(0,p.Z)(function*(){Z.storage[E]=N})()}_get(E){var N=this;return(0,p.Z)(function*(){const Z=N.storage[E];return void 0===Z?null:Z})()}_remove(E){var N=this;return(0,p.Z)(function*(){delete N.storage[E]})()}_addListener(E,N){}_removeListener(E,N){}}return P.type="NONE",P})();function De(P,m,E){return`firebase:${P}:${m}:${E}`}class ke{constructor(m,E,N){this.persistence=m,this.auth=E,this.userKey=N;const{config:Z,name:le}=this.auth;this.fullUserKey=De(this.userKey,Z.apiKey,le),this.fullPersistenceKey=De("persistence",Z.apiKey,le),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,p.Z)(function*(){const E=yield m.persistence._get(m.fullUserKey);return E?ri._fromJSON(m.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var E=this;return(0,p.Z)(function*(){if(E.persistence===m)return;const N=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=m,N?E.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,E,N="authUser"){return(0,p.Z)(function*(){if(!E.length)return new ke(We(Oe),m,N);const Z=(yield Promise.all(E.map(function(){var $t=(0,p.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return $t.apply(this,arguments)}}()))).filter($t=>$t);let le=Z[0]||We(Oe);const ot=De(N,m.config.apiKey,m.name);let tt=null;for(const $t of E)try{const an=yield $t._get(ot);if(an){const qn=ri._fromJSON(m,an);$t!==le&&(tt=qn),le=$t;break}}catch(an){}const Mt=Z.filter($t=>$t._shouldAllowMigration);return le._shouldAllowMigration&&Mt.length?(le=Mt[0],tt&&(yield le._set(ot,tt.toJSON())),yield Promise.all(E.map(function(){var $t=(0,p.Z)(function*(an){if(an!==le)try{yield an._remove(ot)}catch(qn){}});return function(an){return $t.apply(this,arguments)}}())),new ke(le,m,N)):new ke(le,m,N)})()}}function bt(P){const m=P.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Yn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Be(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Br(m))return"Blackberry";if(Ue(m))return"Webos";if(en(m))return"Safari";if((m.includes("chrome/")||dn(m))&&!m.includes("edge/"))return"Chrome";if(ir(m))return"Android";{const N=P.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==N?void 0:N.length))return N[1]}return"Other"}function Be(P=(0,b.z$)()){return/firefox\//i.test(P)}function en(P=(0,b.z$)()){const m=P.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function dn(P=(0,b.z$)()){return/crios\//i.test(P)}function Yn(P=(0,b.z$)()){return/iemobile/i.test(P)}function ir(P=(0,b.z$)()){return/android/i.test(P)}function Br(P=(0,b.z$)()){return/blackberry/i.test(P)}function Ue(P=(0,b.z$)()){return/webos/i.test(P)}function Ce(P=(0,b.z$)()){return/iphone|ipad|ipod/i.test(P)||/macintosh/i.test(P)&&/mobile/i.test(P)}function En(P=(0,b.z$)()){return Ce(P)||ir(P)||Ue(P)||Br(P)||/windows phone/i.test(P)||Yn(P)}function Me(P,m=[]){let E;switch(P){case"Browser":E=bt((0,b.z$)());break;case"Worker":E=`${bt((0,b.z$)())}-${P}`;break;default:E=P}const N=m.length?m.join(","):"FirebaseCore-web";return`${E}/JsCore/${ie.Jn}/${N}`}class xe{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,E){const N=le=>new Promise((ot,tt)=>{try{ot(m(le))}catch(Mt){tt(Mt)}});N.onAbort=E,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(m){var E=this;return(0,p.Z)(function*(){if(E.auth.currentUser===m)return;const N=[];try{for(const Z of E.queue)yield Z(m),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const le of N)try{le()}catch(ot){}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null==Z?void 0:Z.message})}})()}}class Dt{constructor(m,E,N){this.app=m,this.heartbeatServiceProvider=E,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bn(this),this.idTokenSubscription=new bn(this),this.beforeStateQueue=new xe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(m,E){var N=this;return E&&(this._popupRedirectResolver=We(E)),this._initializationPromise=this.queue((0,p.Z)(function*(){var Z,le;if(!N._deleted&&(N.persistenceManager=yield ke.create(N,m),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch(ot){}yield N.initializeCurrentUser(E),N.lastNotifiedUid=(null===(le=N.currentUser)||void 0===le?void 0:le.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,p.Z)(function*(){if(m._deleted)return;const E=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||E){if(m.currentUser&&E&&m.currentUser.uid===E.uid)return m._currentUser._assign(E),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(E,!0)}})()}initializeCurrentUser(m){var E=this;return(0,p.Z)(function*(){var N;const Z=yield E.assertedPersistence.getCurrentUser();let le=Z,ot=!1;if(m&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const tt=null===(N=E.redirectUser)||void 0===N?void 0:N._redirectEventId,Mt=null==le?void 0:le._redirectEventId,$t=yield E.tryRedirectSignIn(m);(!tt||tt===Mt)&&(null==$t?void 0:$t.user)&&(le=$t.user,ot=!0)}if(!le)return E.directlySetCurrentUser(null);if(!le._redirectEventId){if(ot)try{yield E.beforeStateQueue.runMiddleware(le)}catch(tt){le=Z,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(tt))}return le?E.reloadAndSetCurrentUserOrClear(le):E.directlySetCurrentUser(null)}return it(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===le._redirectEventId?E.directlySetCurrentUser(le):E.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(m){var E=this;return(0,p.Z)(function*(){let N=null;try{N=yield E._popupRedirectResolver._completeRedirectFn(E,m,!0)}catch(Z){yield E._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(m){var E=this;return(0,p.Z)(function*(){try{yield zn(m)}catch(N){if("auth/network-request-failed"!==(null==N?void 0:N.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Bt(){if("undefined"==typeof navigator)return null;const P=navigator;return P.languages&&P.languages[0]||P.language||null}()}_delete(){var m=this;return(0,p.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var E=this;return(0,p.Z)(function*(){const N=m?(0,b.m9)(m):null;return N&&it(N.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(N&&N._clone(E))})()}_updateCurrentUser(m,E=!1){var N=this;return(0,p.Z)(function*(){if(!N._deleted)return m&&it(N.tenantId===m.tenantId,N,"tenant-id-mismatch"),E||(yield N.beforeStateQueue.runMiddleware(m)),N.queue((0,p.Z)(function*(){yield N.directlySetCurrentUser(m),N.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,p.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var E=this;return this.queue((0,p.Z)(function*(){yield E.assertedPersistence.setPersistence(We(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new b.LL("auth","Firebase",m())}onAuthStateChanged(m,E,N){return this.registerStateListener(this.authStateSubscription,m,E,N)}beforeAuthStateChanged(m,E){return this.beforeStateQueue.pushCallback(m,E)}onIdTokenChanged(m,E,N){return this.registerStateListener(this.idTokenSubscription,m,E,N)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,E){var N=this;return(0,p.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(E);return null===m?Z.removeCurrentUser():Z.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var E=this;return(0,p.Z)(function*(){if(!E.redirectPersistenceManager){const N=m&&We(m)||E._popupRedirectResolver;it(N,E,"argument-error"),E.redirectPersistenceManager=yield ke.create(E,[We(N._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(m){var E=this;return(0,p.Z)(function*(){var N,Z;return E._isInitialized&&(yield E.queue((0,p.Z)(function*(){}))),(null===(N=E._currentUser)||void 0===N?void 0:N._redirectEventId)===m?E._currentUser:(null===(Z=E.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===m?E.redirectUser:null})()}_persistUserIfCurrent(m){var E=this;return(0,p.Z)(function*(){if(m===E.currentUser)return E.queue((0,p.Z)(function*(){return E.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(E=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,E,N,Z){if(this._deleted)return()=>{};const le="function"==typeof E?E:E.next.bind(E),ot=this._isInitialized?Promise.resolve():this._initializationPromise;return it(ot,this,"internal-error"),ot.then(()=>le(this.currentUser)),"function"==typeof E?m.addObserver(E,N,Z):m.addObserver(E)}directlySetCurrentUser(m){var E=this;return(0,p.Z)(function*(){E.currentUser&&E.currentUser!==m&&E._currentUser._stopProactiveRefresh(),m&&E.isProactiveRefreshEnabled&&m._startProactiveRefresh(),E.currentUser=m,m?yield E.assertedPersistence.setCurrentUser(m):yield E.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,p.Z)(function*(){var E;const N={"X-Client-Version":m.clientVersion};m.app.options.appId&&(N["X-Firebase-gmpid"]=m.app.options.appId);const Z=yield null===(E=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return Z&&(N["X-Firebase-Client"]=Z),N})()}}function Kt(P){return(0,b.m9)(P)}class bn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,b.ne)(E=>this.observer=E)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sr(P){const m=P.indexOf(":");return m<0?"":P.substr(0,m+1)}function zr(P){if(!P)return null;const m=Number(P);return isNaN(m)?null:m}class Fn{constructor(m,E){this.providerId=m,this.signInMethod=E}toJSON(){return Ht("not implemented")}_getIdTokenResponse(m){return Ht("not implemented")}_linkToIdToken(m,E){return Ht("not implemented")}_getReauthenticationResolver(m){return Ht("not implemented")}}function Bi(){return(Bi=(0,p.Z)(function*(P,m){return St(P,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(P,m){return Dr(P,"POST","/v1/accounts:signInWithPassword",Xe(P,m))})).apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(P,m){return Dr(P,"POST","/v1/accounts:signInWithEmailLink",Xe(P,m))})).apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(P,m){return Dr(P,"POST","/v1/accounts:signInWithEmailLink",Xe(P,m))})).apply(this,arguments)}class bs extends Fn{constructor(m,E,N,Z=null){super("password",N),this._email=m,this._password=E,this._tenantId=Z}static _fromEmailAndPassword(m,E){return new bs(m,E,"password")}static _fromEmailAndCode(m,E,N=null){return new bs(m,E,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(m){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return function Ln(P,m){return An.apply(this,arguments)}(m,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function rs(P,m){return qs.apply(this,arguments)}(m,{email:E._email,oobCode:E._password});default:Qt(m,"internal-error")}})()}_linkToIdToken(m,E){var N=this;return(0,p.Z)(function*(){switch(N.signInMethod){case"password":return function Is(P,m){return Bi.apply(this,arguments)}(m,{idToken:E,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function Yi(P,m){return Bs.apply(this,arguments)}(m,{idToken:E,email:N._email,oobCode:N._password});default:Qt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function js(P,m){return fe.apply(this,arguments)}function fe(){return(fe=(0,p.Z)(function*(P,m){return Dr(P,"POST","/v1/accounts:signInWithIdp",Xe(P,m))})).apply(this,arguments)}class li{constructor(m){var E,N,Z,le,ot,tt;const Mt=(0,b.zd)((0,b.pd)(m)),$t=null!==(E=Mt.apiKey)&&void 0!==E?E:null,an=null!==(N=Mt.oobCode)&&void 0!==N?N:null,qn=function Ys(P){switch(P){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Mt.mode)&&void 0!==Z?Z:null);it($t&&an&&qn,"argument-error"),this.apiKey=$t,this.operation=qn,this.code=an,this.continueUrl=null!==(le=Mt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(ot=Mt.languageCode)&&void 0!==ot?ot:null,this.tenantId=null!==(tt=Mt.tenantId)&&void 0!==tt?tt:null}static parseLink(m){const E=function $i(P){const m=(0,b.zd)((0,b.pd)(P)).link,E=m?(0,b.zd)((0,b.pd)(m)).deep_link_id:null,N=(0,b.zd)((0,b.pd)(P)).deep_link_id;return(N?(0,b.zd)((0,b.pd)(N)).link:null)||N||E||m||P}(m);try{return new li(E)}catch(N){return null}}}let Qi=(()=>{class P{constructor(){this.providerId=P.PROVIDER_ID}static credential(E,N){return bs._fromEmailAndPassword(E,N)}static credentialWithLink(E,N){const Z=li.parseLink(N);return it(Z,"argument-error"),bs._fromEmailAndCode(E,Z.code,Z.tenantId)}}return P.PROVIDER_ID="password",P.EMAIL_PASSWORD_SIGN_IN_METHOD="password",P.EMAIL_LINK_SIGN_IN_METHOD="emailLink",P})();class Zi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Hn extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}function Di(P,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(P,m){return Dr(P,"POST","/v1/accounts:signUp",Xe(P,m))})).apply(this,arguments)}class hs{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,E,N,Z=!1){return(0,p.Z)(function*(){const le=yield ri._fromIdTokenResponse(m,N,Z),ot=ss(N);return new hs({user:le,providerId:ot,_tokenResponse:N,operationType:E})})()}static _forOperation(m,E,N){return(0,p.Z)(function*(){yield m._updateTokensIfNecessary(N,!0);const Z=ss(N);return new hs({user:m,providerId:Z,_tokenResponse:N,operationType:E})})()}}function ss(P){return P.providerId?P.providerId:"phoneNumber"in P?"phone":null}class Qr extends b.ZR{constructor(m,E,N,Z){var le;super(E.code,E.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,Qr.prototype),this.customData={appName:m.name,tenantId:null!==(le=m.tenantId)&&void 0!==le?le:void 0,_serverResponse:E.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(m,E,N,Z){return new Qr(m,E,N,Z)}}function Fo(P,m,E,N){return("reauthenticate"===m?E._getReauthenticationResolver(P):E._getIdTokenResponse(P)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Qr._fromErrorAndOperation(P,le,m,N):le})}function Qs(P,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,p.Z)(function*(P,m,E=!1){const N=yield _t(P,m._linkToIdToken(P.auth,yield P.getIdToken()),E);return hs._forOperation(P,"link",N)})).apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(P,m,E=!1){const{auth:N}=P,Z="reauthenticate";try{const le=yield _t(P,Fo(N,Z,m,P),E);it(le.idToken,N,"internal-error");const ot=Ee(le.idToken);it(ot,N,"internal-error");const{sub:tt}=ot;return it(P.uid===tt,N,"user-mismatch"),hs._forOperation(P,Z,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&Qt(N,"user-mismatch"),le}})).apply(this,arguments)}function Lo(P,m){return os.apply(this,arguments)}function os(){return(os=(0,p.Z)(function*(P,m,E=!1){const N="signIn",Z=yield Fo(P,N,m),le=yield hs._fromIdTokenResponse(P,N,Z);return E||(yield P._updateCurrentUser(le.user)),le})).apply(this,arguments)}function Js(){return(Js=(0,p.Z)(function*(P,m){return Lo(Kt(P),m)})).apply(this,arguments)}function Gi(P,m,E){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(P,m,E){const N=Kt(P),Z=yield Di(N,{returnSecureToken:!0,email:m,password:E}),le=yield hs._fromIdTokenResponse(N,"signIn",Z);return yield N._updateCurrentUser(le.user),le})).apply(this,arguments)}function Jr(P,m,E){return function Vo(P,m){return Js.apply(this,arguments)}((0,b.m9)(P),Qi.credential(m,E))}function Ii(P,m,E,N){return(0,b.m9)(P).onAuthStateChanged(m,E,N)}function Ni(P){return(0,b.m9)(P).signOut()}const ft="__sak";class Ut{constructor(m,E){this.storageRetriever=m,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(ft,"1"),this.storage.removeItem(ft),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,E){return this.storage.setItem(m,JSON.stringify(E)),Promise.resolve()}_get(m){const E=this.storage.getItem(m);return Promise.resolve(E?JSON.parse(E):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ja=(()=>{class P extends Ut{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,N)=>this.onStorageEvent(E,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bi(){const P=(0,b.z$)();return en(P)||Ce(P)}()&&function wn(){try{return!(!window||window===window.top)}catch(P){return!1}}(),this.fallbackToPolling=En(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),le=this.localCache[N];Z!==le&&E(N,le,Z)}}onStorageEvent(E,N=!1){if(!E.key)return void this.forAllChangedKeys((tt,Mt,$t)=>{this.notifyListeners(tt,$t)});const Z=E.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(Z);if(E.newValue!==tt)null!==E.newValue?this.storage.setItem(Z,E.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===E.newValue&&!N)return}const le=()=>{const tt=this.storage.getItem(Z);!N&&this.localCache[Z]===tt||this.notifyListeners(Z,tt)},ot=this.storage.getItem(Z);!function vt(){return(0,b.w1)()&&10===document.documentMode}()||ot===E.newValue||E.newValue===E.oldValue?le():setTimeout(le,10)}notifyListeners(E,N){this.localCache[E]=N;const Z=this.listeners[E];if(Z)for(const le of Array.from(Z))le(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(N)}_removeListener(E,N){this.listeners[E]&&(this.listeners[E].delete(N),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,N){var Z=()=>super._set,le=this;return(0,p.Z)(function*(){yield Z().call(le,E,N),le.localCache[E]=JSON.stringify(N)})()}_get(E){var N=()=>super._get,Z=this;return(0,p.Z)(function*(){const le=yield N().call(Z,E);return Z.localCache[E]=JSON.stringify(le),le})()}_remove(E){var N=()=>super._remove,Z=this;return(0,p.Z)(function*(){yield N().call(Z,E),delete Z.localCache[E]})()}}return P.type="LOCAL",P})(),vo=(()=>{class P extends Ut{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,N){}_removeListener(E,N){}}return P.type="SESSION",P})();let Ha=(()=>{class P{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const N=this.receivers.find(le=>le.isListeningto(E));if(N)return N;const Z=new P(E);return this.receivers.push(Z),Z}isListeningto(E){return this.eventTarget===E}handleEvent(E){var N=this;return(0,p.Z)(function*(){const Z=E,{eventId:le,eventType:ot,data:tt}=Z.data,Mt=N.handlersMap[ot];if(null==Mt||!Mt.size)return;Z.ports[0].postMessage({status:"ack",eventId:le,eventType:ot});const $t=Array.from(Mt).map(function(){var qn=(0,p.Z)(function*(ns){return ns(Z.origin,tt)});return function(ns){return qn.apply(this,arguments)}}()),an=yield function ja(P){return Promise.all(P.map(function(){var m=(0,p.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(N){return{fulfilled:!1,reason:N}}});return function(E){return m.apply(this,arguments)}}()))}($t);Z.ports[0].postMessage({status:"done",eventId:le,eventType:ot,response:an})})()}_subscribe(E,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(N)}_unsubscribe(E,N){this.handlersMap[E]&&N&&this.handlersMap[E].delete(N),(!N||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return P.receivers=[],P})();function Xa(P="",m=10){let E="";for(let N=0;N<m;N++)E+=Math.floor(10*Math.random());return P+E}class Ol{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,E,N=50){var Z=this;return(0,p.Z)(function*(){const le="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let ot,tt;return new Promise((Mt,$t)=>{const an=Xa("",20);le.port1.start();const qn=setTimeout(()=>{$t(new Error("unsupported_event"))},N);tt={messageChannel:le,onMessage(ns){const Es=ns;if(Es.data.eventId===an)switch(Es.data.status){case"ack":clearTimeout(qn),ot=setTimeout(()=>{$t(new Error("timeout"))},3e3);break;case"done":clearTimeout(ot),Mt(Es.data.response);break;default:clearTimeout(qn),clearTimeout(ot),$t(new Error("invalid_response"))}}},Z.handlers.add(tt),le.port1.addEventListener("message",tt.onMessage),Z.target.postMessage({eventType:m,eventId:an,data:E},[le.port2])}).finally(()=>{tt&&Z.removeMessageHandler(tt)})})()}}function mi(){return window}function Ms(){return void 0!==mi().WorkerGlobalScope&&"function"==typeof mi().importScripts}function ti(){return(ti=(0,p.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(P){return null}})).apply(this,arguments)}const Sr="firebaseLocalStorageDb",Ti="firebaseLocalStorage",on="fbase_key";class to{constructor(m){this.request=m}toPromise(){return new Promise((m,E)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function oo(P,m){return P.transaction([Ti],m?"readwrite":"readonly").objectStore(Ti)}function Rl(){const P=indexedDB.open(Sr,1);return new Promise((m,E)=>{P.addEventListener("error",()=>{E(P.error)}),P.addEventListener("upgradeneeded",()=>{const N=P.result;try{N.createObjectStore(Ti,{keyPath:on})}catch(Z){E(Z)}}),P.addEventListener("success",(0,p.Z)(function*(){const N=P.result;N.objectStoreNames.contains(Ti)?m(N):(N.close(),yield function Po(){const P=indexedDB.deleteDatabase(Sr);return new to(P).toPromise()}(),m(yield Rl()))}))})}function Ea(P,m,E){return el.apply(this,arguments)}function el(){return(el=(0,p.Z)(function*(P,m,E){const N=oo(P,!0).put({[on]:m,value:E});return new to(N).toPromise()})).apply(this,arguments)}function nl(){return(nl=(0,p.Z)(function*(P,m){const E=oo(P,!1).get(m),N=yield new to(E).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Ca(P,m){const E=oo(P,!0).delete(m);return new to(E).toPromise()}const cl=(()=>{class P{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,p.Z)(function*(){return E.db||(E.db=yield Rl()),E.db})()}_withRetries(E){var N=this;return(0,p.Z)(function*(){let Z=0;for(;;)try{const le=yield N._openDb();return yield E(le)}catch(le){if(Z++>3)throw le;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,p.Z)(function*(){return Ms()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,p.Z)(function*(){E.receiver=Ha._getInstance(function oa(){return Ms()?self:null}()),E.receiver._subscribe("keyChanged",function(){var N=(0,p.Z)(function*(Z,le){return{keyProcessed:(yield E._poll()).includes(le.key)}});return function(Z,le){return N.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var N=(0,p.Z)(function*(Z,le){return["keyChanged"]});return function(Z,le){return N.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,p.Z)(function*(){var N,Z;if(E.activeServiceWorker=yield function xl(){return ti.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Ol(E.activeServiceWorker);const le=yield E.sender._send("ping",{},800);!le||(null===(N=le[0])||void 0===N?void 0:N.fulfilled)&&(null===(Z=le[0])||void 0===Z?void 0:Z.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var N=this;return(0,p.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function On(){var P;return(null===(P=null==navigator?void 0:navigator.serviceWorker)||void 0===P?void 0:P.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:E},N.serviceWorkerReceiverAvailable?800:50)}catch(Z){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Rl();return yield Ea(E,ft,"1"),yield Ca(E,ft),!0}catch(E){}return!1})()}_withPendingWrite(E){var N=this;return(0,p.Z)(function*(){N.pendingWrites++;try{yield E()}finally{N.pendingWrites--}})()}_set(E,N){var Z=this;return(0,p.Z)(function*(){return Z._withPendingWrite((0,p.Z)(function*(){return yield Z._withRetries(le=>Ea(le,E,N)),Z.localCache[E]=N,Z.notifyServiceWorker(E)}))})()}_get(E){var N=this;return(0,p.Z)(function*(){const Z=yield N._withRetries(le=>function tl(P,m){return nl.apply(this,arguments)}(le,E));return N.localCache[E]=Z,Z})()}_remove(E){var N=this;return(0,p.Z)(function*(){return N._withPendingWrite((0,p.Z)(function*(){return yield N._withRetries(Z=>Ca(Z,E)),delete N.localCache[E],N.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,p.Z)(function*(){const N=yield E._withRetries(ot=>{const tt=oo(ot,!1).getAll();return new to(tt).toPromise()});if(!N)return[];if(0!==E.pendingWrites)return[];const Z=[],le=new Set;for(const{fbase_key:ot,value:tt}of N)le.add(ot),JSON.stringify(E.localCache[ot])!==JSON.stringify(tt)&&(E.notifyListeners(ot,tt),Z.push(ot));for(const ot of Object.keys(E.localCache))E.localCache[ot]&&!le.has(ot)&&(E.notifyListeners(ot,null),Z.push(ot));return Z})()}notifyListeners(E,N){this.localCache[E]=N;const Z=this.listeners[E];if(Z)for(const le of Array.from(Z))le(N)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(N)}_removeListener(E,N){this.listeners[E]&&(this.listeners[E].delete(N),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return P.type="LOCAL",P})();function wa(P){return`__${P}${Math.floor(1e6*Math.random())}`}function Gt(P,m){return m?We(m):(it(P._popupRedirectResolver,P,"argument-error"),P._popupRedirectResolver)}wa("rcb"),new Et(3e4,6e4);class _n extends Fn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return js(m,this._buildIdpRequest())}_linkToIdToken(m,E){return js(m,this._buildIdpRequest(E))}_getReauthenticationResolver(m){return js(m,this._buildIdpRequest())}_buildIdpRequest(m){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(E.idToken=m),E}}function tn(P){return Lo(P.auth,new _n(P),P.bypassAuthState)}function kn(P){const{auth:m,user:E}=P;return it(E,m,"internal-error"),function Qa(P,m){return vr.apply(this,arguments)}(E,new _n(P),P.bypassAuthState)}function Er(P){return qr.apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*(P){const{auth:m,user:E}=P;return it(E,m,"internal-error"),Qs(E,new _n(P),P.bypassAuthState)})).apply(this,arguments)}new Et(2e3,1e4);const kl=new Map;class fl extends class Os{constructor(m,E,N,Z,le=!1){this.auth=m,this.resolver=N,this.user=Z,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var m=this;return new Promise(function(){var E=(0,p.Z)(function*(N,Z){m.pendingPromise={resolve:N,reject:Z};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(le){m.reject(le)}});return function(N,Z){return E.apply(this,arguments)}}())}onAuthEvent(m){var E=this;return(0,p.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:le,tenantId:ot,error:tt,type:Mt}=m;if(tt)return void E.reject(tt);const $t={auth:E.auth,requestUri:N,sessionId:Z,tenantId:ot||void 0,postBody:le||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Mt)($t))}catch(an){E.reject(an)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return tn;case"linkViaPopup":case"linkViaRedirect":return Er;case"reauthViaPopup":case"reauthViaRedirect":return kn;default:Qt(this.auth,"internal-error")}}resolve(m){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(m,E,N=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,N),this.eventId=null}execute(){var m=()=>super.execute,E=this;return(0,p.Z)(function*(){let N=kl.get(E.auth._key());if(!N){try{const le=(yield function Aa(P,m){return za.apply(this,arguments)}(E.resolver,E.auth))?yield m().call(E):null;N=()=>Promise.resolve(le)}catch(Z){N=()=>Promise.reject(Z)}kl.set(E.auth._key(),N)}return E.bypassAuthState||kl.set(E.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(m){var E=()=>super.onAuthEvent,N=this;return(0,p.Z)(function*(){if("signInViaRedirect"===m.type)return E().call(N,m);if("unknown"!==m.type){if(m.eventId){const Z=yield N.auth._redirectUserForId(m.eventId);if(Z)return N.user=Z,E().call(N,m);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function za(){return(za=(0,p.Z)(function*(P,m){const E=Ma(m),N=ua(P);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(E));return yield N._remove(E),Z})).apply(this,arguments)}function si(P,m){kl.set(P._key(),m)}function ua(P){return We(P._redirectPersistence)}function Ma(P){return De("pendingRedirect",P.config.apiKey,P.name)}function Oa(P,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.Z)(function*(P,m,E=!1){const N=Kt(P),Z=Gt(N,m),ot=yield new fl(N,Z,E).execute();return ot&&!E&&(delete ot.user._redirectEventId,yield N._persistUserIfCurrent(ot.user),yield N._setRedirectUser(null,m)),ot})).apply(this,arguments)}class Si{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let E=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(m,N)&&(E=!0,this.sendToConsumer(m,N),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function yi(P){switch(P.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ls(P);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=m,E=!0)),E}sendToConsumer(m,E){var N;if(m.error&&!Ls(m)){const Z=(null===(N=m.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";E.onError(ze(this.auth,Z))}else E.onAuthEvent(m)}isEventForConsumer(m,E){const N=null===E.eventId||!!m.eventId&&m.eventId===E.eventId;return E.filter.includes(m.type)&&N}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ro(m))}saveEventToCache(m){this.cachedEventUids.add(ro(m)),this.lastProcessedEventTime=Date.now()}}function ro(P){return[P.type,P.eventId,P.sessionId,P.tenantId].filter(m=>m).join("-")}function Ls({type:P,error:m}){return"unknown"===P&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ca(P){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(P,m={}){return St(P,"GET","/v1/projects",m)})).apply(this,arguments)}const Vs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,io=/^https?/;function ci(){return(ci=(0,p.Z)(function*(P){if(P.config.emulator)return;const{authorizedDomains:m}=yield ca(P);for(const E of m)try{if(tu(E))return}catch(N){}Qt(P,"unauthorized-domain")})).apply(this,arguments)}function tu(P){const m=Vt(),{protocol:E,hostname:N}=new URL(m);if(P.startsWith("chrome-extension://")){const ot=new URL(P);return""===ot.hostname&&""===N?"chrome-extension:"===E&&P.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===E&&ot.hostname===N}if(!io.test(E))return!1;if(Vs.test(P))return N===P;const Z=P.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const Ll=new Et(3e4,6e4);function al(){const P=mi().___jsl;if(null!=P&&P.H)for(const m of Object.keys(P.H))if(P.H[m].r=P.H[m].r||[],P.H[m].L=P.H[m].L||[],P.H[m].r=[...P.H[m].L],P.CP)for(let E=0;E<P.CP.length;E++)P.CP[E]=null}let da=null;function Vl(P){return da=da||function Io(P){return new Promise((m,E)=>{var N,Z,le;function ot(){al(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{al(),E(ze(P,"network-request-failed"))},timeout:Ll.get()})}if(null!==(Z=null===(N=mi().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)m(gapi.iframes.getContext());else{if(null===(le=mi().gapi)||void 0===le||!le.load){const tt=wa("iframefcb");return mi()[tt]=()=>{gapi.load?ot():E(ze(P,"network-request-failed"))},function aa(P){return new Promise((m,E)=>{const N=document.createElement("script");N.setAttribute("src",P),N.onload=m,N.onerror=Z=>{const le=ze("internal-error");le.customData=Z,E(le)},N.type="text/javascript",N.charset="UTF-8",function Ps(){var P,m;return null!==(m=null===(P=document.getElementsByTagName("head"))||void 0===P?void 0:P[0])&&void 0!==m?m:document}().appendChild(N)})}(`https://apis.google.com/js/api.js?onload=${tt}`).catch(Mt=>E(Mt))}ot()}}).catch(m=>{throw da=null,m})}(P),da}const Ul=new Et(5e3,15e3),nu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hl(P){const m=P.config;it(m.authDomain,P,"auth-domain-config-required");const E=m.emulator?pr(m,"emulator/auth/iframe"):`https://${P.config.authDomain}/__/auth/iframe`,N={apiKey:m.apiKey,appName:P.name,v:ie.Jn},Z=jl.get(P.config.apiHost);Z&&(N.eid=Z);const le=P._getFrameworks();return le.length&&(N.fw=le.join(",")),`${E}?${(0,b.xO)(N).slice(1)}`}function yl(){return yl=(0,p.Z)(function*(P){const m=yield Vl(P),E=mi().gapi;return it(E,P,"internal-error"),m.open({where:document.body,url:Hl(P),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nu,dontclear:!0},N=>new Promise(function(){var Z=(0,p.Z)(function*(le,ot){yield N.restyle({setHideOnLeave:!1});const tt=ze(P,"network-request-failed"),Mt=mi().setTimeout(()=>{ot(tt)},Ul.get());function $t(){mi().clearTimeout(Mt),le(N)}N.ping($t).then($t,()=>{ot(tt)})});return function(le,ot){return Z.apply(this,arguments)}}()))}),yl.apply(this,arguments)}const Il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class y{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Te(P,m,E,N,Z,le){it(P.config.authDomain,P,"auth-domain-config-required"),it(P.config.apiKey,P,"invalid-api-key");const ot={apiKey:P.config.apiKey,appName:P.name,authType:E,redirectUrl:N,v:ie.Jn,eventId:Z};if(m instanceof Zi){m.setDefaultLanguage(P.languageCode),ot.providerId=m.providerId||"",(0,b.xb)(m.getCustomParameters())||(ot.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Mt,$t]of Object.entries(le||{}))ot[Mt]=$t}if(m instanceof Hn){const Mt=m.getScopes().filter($t=>""!==$t);Mt.length>0&&(ot.scopes=Mt.join(","))}P.tenantId&&(ot.tid=P.tenantId);const tt=ot;for(const Mt of Object.keys(tt))void 0===tt[Mt]&&delete tt[Mt];return`${function Qe({config:P}){return P.emulator?pr(P,"emulator/auth/handler"):`https://${P.authDomain}/__/auth/handler`}(P)}?${(0,b.xO)(tt).slice(1)}`}const wt="webStorageSupport",gn=class nn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vo,this._completeRedirectFn=Oa,this._overrideRedirectResult=si}_openPopup(m,E,N,Z){var le=this;return(0,p.Z)(function*(){var ot;Ot(null===(ot=le.eventManagers[m._key()])||void 0===ot?void 0:ot.manager,"_initialize() not called before _openPopup()");const tt=Te(m,E,N,Vt(),Z);return function x(P,m,E,N=500,Z=600){const le=Math.max((window.screen.availHeight-Z)/2,0).toString(),ot=Math.max((window.screen.availWidth-N)/2,0).toString();let tt="";const Mt=Object.assign(Object.assign({},Il),{width:N.toString(),height:Z.toString(),top:le,left:ot}),$t=(0,b.z$)().toLowerCase();E&&(tt=dn($t)?"_blank":E),Be($t)&&(m=m||"http://localhost",Mt.scrollbars="yes");const an=Object.entries(Mt).reduce((ns,[Es,Go])=>`${ns}${Es}=${Go},`,"");if(function Ge(P=(0,b.z$)()){var m;return Ce(P)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}($t)&&"_self"!==tt)return function z(P,m){const E=document.createElement("a");E.href=P,E.target=m;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(N)}(m||"",tt),new y(null);const qn=window.open(m||"",tt,an);it(qn,P,"popup-blocked");try{qn.focus()}catch(ns){}return new y(qn)}(m,tt,Xa())})()}_openRedirect(m,E,N,Z){var le=this;return(0,p.Z)(function*(){return yield le._originValidation(m),function tr(P){mi().location.href=P}(Te(m,E,N,Vt(),Z)),new Promise(()=>{})})()}_initialize(m){const E=m._key();if(this.eventManagers[E]){const{manager:Z,promise:le}=this.eventManagers[E];return Z?Promise.resolve(Z):(Ot(le,"If manager is not set, promise should be"),le)}const N=this.initAndGetManager(m);return this.eventManagers[E]={promise:N},N.catch(()=>{delete this.eventManagers[E]}),N}initAndGetManager(m){var E=this;return(0,p.Z)(function*(){const N=yield function ru(P){return yl.apply(this,arguments)}(m),Z=new Si(m);return N.register("authEvent",le=>(it(null==le?void 0:le.authEvent,m,"invalid-auth-event"),{status:Z.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[m._key()]={manager:Z},E.iframes[m._key()]=N,Z})()}_isIframeWebStorageSupported(m,E){this.iframes[m._key()].send(wt,{type:wt},Z=>{var le;const ot=null===(le=null==Z?void 0:Z[0])||void 0===le?void 0:le[wt];void 0!==ot&&E(!!ot),Qt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const E=m._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function eu(P){return ci.apply(this,arguments)}(m)),this.originValidationPromises[E]}get _shouldInitProactively(){return En()||en()||Ce()}};var Un="@firebase/auth";class Nr{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var E=this;return(0,p.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const E=this.auth.onIdTokenChanged(N=>{m((null==N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,E),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const E=this.internalListeners.get(m);!E||(this.internalListeners.delete(m),E(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bo=(0,b.Pz)("authIdTokenMaxAge")||300;let fa=null;const Rs=P=>function(){var m=(0,p.Z)(function*(E){const N=E&&(yield E.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>bo)return;const le=null==N?void 0:N.token;fa!==le&&(fa=le,yield fetch(P,{method:le?"POST":"DELETE",headers:le?{Authorization:`Bearer ${le}`}:{}}))});return function(E){return m.apply(this,arguments)}}();function ao(P=(0,ie.Mq)()){const m=(0,ie.qX)(P,"auth");if(m.isInitialized())return m.getImmediate();const E=function pt(P,m){const E=(0,ie.qX)(P,"auth");if(E.isInitialized()){const Z=E.getImmediate(),le=E.getOptions();if((0,b.vZ)(le,null!=m?m:{}))return Z;Qt(Z,"already-initialized")}return E.initialize({options:m})}(P,{popupRedirectResolver:gn,persistence:[cl,Ja,vo]}),N=(0,b.Pz)("authTokenSyncURL");if(N){const le=Rs(N);(function Or(P,m,E){(0,b.m9)(P).beforeAuthStateChanged(m,E)})(E,le,()=>le(E.currentUser)),function ui(P,m,E,N){(0,b.m9)(P).onIdTokenChanged(m,E,N)}(E,ot=>le(ot))}const Z=(0,b.q4)("auth");return Z&&function xn(P,m,E){const N=Kt(P);it(N._canInitEmulator,N,"emulator-config-failed"),it(/^https?:\/\//.test(m),N,"invalid-emulator-scheme");const Z=!(null==E||!E.disableWarnings),le=sr(m),{host:ot,port:tt}=function lr(P){const m=sr(P),E=/(\/\/)?([^?#/]+)/.exec(P.substr(m.length));if(!E)return{host:"",port:null};const N=E[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const le=Z[1];return{host:le,port:zr(N.substr(le.length+1))}}{const[le,ot]=N.split(":");return{host:le,port:zr(ot)}}}(m);N.config.emulator={url:`${le}//${ot}${null===tt?"":`:${tt}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:ot,port:tt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Xr(){function P(){const m=document.createElement("p"),E=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",P):P())}()}(E,`http://${Z}`),E}!function _s(P){(0,ie.Xd)(new pe.wA("auth",(m,{options:E})=>{const N=m.getProvider("app").getImmediate(),Z=m.getProvider("heartbeat"),{apiKey:le,authDomain:ot}=N.options;return((tt,Mt)=>{it(le&&!le.includes(":"),"invalid-api-key",{appName:tt.name}),it(!(null!=ot&&ot.includes(":")),"argument-error",{appName:tt.name});const $t={apiKey:le,authDomain:ot,clientPlatform:P,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Me(P)},an=new Dt(tt,Mt,$t);return function He(P,m){const E=(null==m?void 0:m.persistence)||[],N=(Array.isArray(E)?E:[E]).map(We);null!=m&&m.errorMap&&P._updateErrorMap(m.errorMap),P._initializeWithPersistence(N,null==m?void 0:m.popupRedirectResolver)}(an,E),an})(N,Z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,E,N)=>{m.getProvider("auth-internal").initialize()})),(0,ie.Xd)(new pe.wA("auth-internal",m=>{const E=Kt(m.getProvider("auth").getImmediate());return new Nr(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.KN)(Un,"0.21.3",function Li(P){switch(P){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(P)),(0,ie.KN)(Un,"0.21.3","esm2017")}("Browser")},6197:(xt,Pe,A)=>{A.d(Pe,{iU:()=>zs,U2:()=>Sf,N8:()=>yu,nP:()=>nc,S1:()=>rd,ae:()=>us,jM:()=>qu,VF:()=>iu,iH:()=>Ro,Od:()=>Qd,Bt:()=>dh,t8:()=>xa,Vx:()=>Tf});var p=A(5861),b=A(6881),ie=A(4859),H=A(2090),ge=A(1877);const pe="@firebase/database";let se="";class re{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,H.Wl)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,H.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class ue{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,H.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const ve=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){const u=window[h];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new re(u)}}catch(u){}return new ue},rt=ve("localStorage"),qe=ve("sessionStorage"),Ne=new ge.Yd("@firebase/database"),Ye=function(){let h=1;return function(){return h++}}(),$e=function(h){const u=(0,H.dS)(h),c=new H.gQ;c.update(u);const _=c.digest();return H.US.encodeByteArray(_)},Je=function(...h){let u="";for(let c=0;c<h.length;c++){const _=h[c];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?u+=Je.apply(null,_):u+="object"==typeof _?(0,H.Wl)(_):_,u+=" "}return u};let Pt=null,Qt=!0;const je=function(...h){if(!0===Qt&&(Qt=!1,null===Pt&&!0===qe.get("logging_enabled")&&function(h,u){(0,H.hu)(!u||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(Ne.logLevel=ge.in.VERBOSE,Pt=Ne.log.bind(Ne),u&&qe.set("logging_enabled",!0)):"function"==typeof h?Pt=h:(Pt=null,qe.remove("logging_enabled"))}(!0)),Pt){const u=Je.apply(null,h);Pt(u)}},Ct=function(h){return function(...u){je(h,...u)}},Rt=function(...h){const u="FIREBASE INTERNAL ERROR: "+Je(...h);Ne.error(u)},it=function(...h){const u=`FIREBASE FATAL ERROR: ${Je(...h)}`;throw Ne.error(u),new Error(u)},Ht=function(...h){const u="FIREBASE WARNING: "+Je(...h);Ne.warn(u)},nt=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},pt="[MIN_NAME]",He="[MAX_NAME]",Vt=function(h,u){if(h===u)return 0;if(h===pt||u===He)return-1;if(u===pt||h===He)return 1;{const c=rr(h),_=rr(u);return null!==c?null!==_?c-_==0?h.length-u.length:c-_:-1:null!==_?1:h<u?-1:1}},dt=function(h,u){return h===u?0:h<u?-1:1},zt=function(h,u){if(u&&h in u)return u[h];throw new Error("Missing required key ("+h+") in object: "+(0,H.Wl)(u))},Yt=function(h){if("object"!=typeof h||null===h)return(0,H.Wl)(h);const u=[];for(const _ in h)u.push(_);u.sort();let c="{";for(let _=0;_<u.length;_++)0!==_&&(c+=","),c+=(0,H.Wl)(u[_]),c+=":",c+=Yt(h[u[_]]);return c+="}",c},Bt=function(h,u){const c=h.length;if(c<=u)return[h];const _=[];for(let M=0;M<c;M+=u)_.push(h.substring(M,M+u>c?c:M+u));return _};function Et(h,u){for(const c in h)h.hasOwnProperty(c)&&u(c,h[c])}const pr=function(h){(0,H.hu)(!nt(h),"Invalid JSON number");const _=1023;let M,j,q,oe,Ie;0===h?(j=0,q=0,M=1/h==-1/0?1:0):(M=h<0,(h=Math.abs(h))>=Math.pow(2,1-_)?(oe=Math.min(Math.floor(Math.log(h)/Math.LN2),_),j=oe+_,q=Math.round(h*Math.pow(2,52-oe)-Math.pow(2,52))):(j=0,q=Math.round(h/Math.pow(2,-1074))));const Re=[];for(Ie=52;Ie;Ie-=1)Re.push(q%2?1:0),q=Math.floor(q/2);for(Ie=11;Ie;Ie-=1)Re.push(j%2?1:0),j=Math.floor(j/2);Re.push(M?1:0),Re.reverse();const It=Re.join("");let At="";for(Ie=0;Ie<64;Ie+=8){let Ft=parseInt(It.substr(Ie,8),2).toString(16);1===Ft.length&&(Ft="0"+Ft),At+=Ft}return At.toLowerCase()},Xe=new RegExp("^-?(0*)\\d{1,10}$"),rr=function(h){if(Xe.test(h)){const u=Number(h);if(u>=-2147483648&&u<=2147483647)return u}return null},wr=function(h){try{h()}catch(u){setTimeout(()=>{throw Ht("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},Yr=function(h,u){const c=setTimeout(h,u);return"number"==typeof c&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class kr{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(_=>this.appCheck=_)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,_)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,_):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(_=>_.addTokenListener(u))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ar{constructor(u,c,_){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(M=>this.auth_=M)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,_)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,_):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(u)}}let Wr=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const Fr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ke="websocket",be="long_polling";class Ee{constructor(u,c,_,M,j=!1,q="",oe=!1,Ie=!1){this.secure=c,this.namespace=_,this.webSocketOnly=M,this.nodeAdmin=j,this.persistenceKey=q,this.includeNamespaceInQueryParams=oe,this.isUsingEmulator=Ie,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rt.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&rt.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _t(h,u,c){let _;if((0,H.hu)("string"==typeof u,"typeof type must == string"),(0,H.hu)("object"==typeof c,"typeof params must == object"),u===Ke)_=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(u!==be)throw new Error("Unknown connection type: "+u);_=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function at(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const M=[];return Et(c,(j,q)=>{M.push(j+"="+q)}),_+M.join("&")}class yn{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,H.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,H.p$)(this.counters_)}}const Sn={},gr={};function Jt(h){const u=h.toString();return Sn[u]||(Sn[u]=new yn),Sn[u]}class nr{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let M=0;M<_.length;++M)_[M]&&wr(()=>{this.onMessage_(_[M])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Yn{constructor(u,c,_,M,j,q,oe){this.connId=u,this.repoInfo=c,this.applicationId=_,this.appCheckToken=M,this.authToken=j,this.transportSessionId=q,this.lastSessionId=oe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ct(u),this.stats_=Jt(c),this.urlFn=Ie=>(this.appCheckToken&&(Ie.ac=this.appCheckToken),_t(c,be,Ie))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new nr(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,H.Yr)()||"complete"===document.readyState)h();else{let u=!1;const c=function(){document.body?u||(u=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ir((...j)=>{const[q,oe,Ie,Re,It]=j;if(this.incrementIncomingBytes_(j),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===q)this.id=oe,this.password=Ie;else{if("close"!==q)throw new Error("Unrecognized command received: "+q);oe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(oe,()=>{this.onClosed_()})):this.onClosed_()}},(...j)=>{const[q,oe]=j;this.incrementIncomingBytes_(j),this.myPacketOrderer.handleResponse(q,oe)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Fr.test(location.hostname)&&(_.r="f");const M=this.urlFn(_);this.log_("Connecting via long-poll to "+M),this.scriptTagHolder.addTag(M,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yn.forceAllow_=!0}static forceDisallow(){Yn.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!Yn.forceAllow_&&(Yn.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,H.Wl)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const _=(0,H.h$)(c),M=Bt(_,1840);for(let j=0;j<M.length;j++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[j]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=u,_.pw=c,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,H.Wl)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class ir{constructor(u,c,_,M){if(this.onDisconnect=_,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Ye(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=ir.createIFrame_();let j="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(j='<script>document.domain="'+document.domain+'";<\/script>');const q="<html><body>"+j+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(q),this.myIFrame.doc.close()}catch(oe){je("frame writing exception"),oe.stack&&je(oe.stack),je(oe)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||je("No IE domain setting required")}catch(c){const _=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),_="",M=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const q=this.pendingSegs.shift();_=_+"&seg"+M+"="+q.seg+"&ts"+M+"="+q.ts+"&d"+M+"="+q.d,M++}return c+=_,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,_){this.pendingSegs.push({seg:u,ts:c,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const _=()=>{this.outstandingRequests.delete(c),this.newRequest_()},M=setTimeout(_,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(M),_()})}addTag(u,c){(0,H.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=u,_.onload=_.onreadystatechange=function(){const M=_.readyState;(!M||"loaded"===M||"complete"===M)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),c())},_.onerror=()=>{je("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch(_){}},Math.floor(1))}}let Ce=null;"undefined"!=typeof MozWebSocket?Ce=MozWebSocket:"undefined"!=typeof WebSocket&&(Ce=WebSocket);let de=(()=>{class h{constructor(c,_,M,j,q,oe,Ie){this.connId=c,this.applicationId=M,this.appCheckToken=j,this.authToken=q,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ct(this.connId),this.stats_=Jt(_),this.connURL=h.connectionURL_(_,oe,Ie,j,M),this.nodeAdmin=_.nodeAdmin}static connectionURL_(c,_,M,j,q){const oe={v:"5"};return!(0,H.Yr)()&&"undefined"!=typeof location&&location.hostname&&Fr.test(location.hostname)&&(oe.r="f"),_&&(oe.s=_),M&&(oe.ls=M),j&&(oe.ac=j),q&&(oe.p=q),_t(c,Ke,oe)}open(c,_){this.onDisconnect=_,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rt.set("previous_websocket_failure",!0);try{let M;if((0,H.Yr)()){M={headers:{"User-Agent":`Firebase/5/${se}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(M.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(M.headers["X-Firebase-AppCheck"]=this.appCheckToken);const q=process.env,oe=0===this.connURL.indexOf("wss://")?q.HTTPS_PROXY||q.https_proxy:q.HTTP_PROXY||q.http_proxy;oe&&(M.proxy={origin:oe})}this.mySock=new Ce(this.connURL,[],M)}catch(M){this.log_("Error instantiating WebSocket.");const j=M.message||M.data;return j&&this.log_(j),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=M=>{this.handleIncomingFrame(M)},this.mySock.onerror=M=>{this.log_("WebSocket error.  Closing connection.");const j=M.message||M.data;j&&this.log_(j),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const M=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);M&&M.length>1&&parseFloat(M[1])<4.4&&(c=!0)}return!c&&null!==Ce&&!h.forceDisallow_}static previouslyFailed(){return rt.isInMemoryStorage||!0===rt.get("previous_websocket_failure")}markConnectionHealthy(){rt.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const M=(0,H.cI)(_);this.onMessage(M)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const _=Number(c);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const _=c.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const M=this.extractFrameCount_(_);null!==M&&this.appendFrame_(M)}}send(c){this.resetKeepAlive();const _=(0,H.Wl)(c);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const M=Bt(_,16384);M.length>1&&this.sendString_(String(M.length));for(let j=0;j<M.length;j++)this.sendString_(M[j])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),Ge=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[Yn,de]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const _=de&&de.isAvailable();let M=_&&!de.previouslyFailed();if(c.webSocketOnly&&(_||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),M=!0),M)this.transports_=[de];else{const j=this.transports_=[];for(const q of h.ALL_TRANSPORTS)q&&q.isAvailable()&&j.push(q);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class hi{constructor(u,c,_,M,j,q,oe,Ie,Re,It){this.id=u,this.repoInfo_=c,this.applicationId_=_,this.appCheckToken_=M,this.authToken_=j,this.onMessage_=q,this.onReady_=oe,this.onDisconnect_=Ie,this.onKill_=Re,this.lastSessionId=It,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ct("c:"+this.id+":"),this.transportManager_=new Ge(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,_)},Math.floor(0));const M=u.healthyTimeout||0;M>0&&(this.healthyTimeout_=Yr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(M)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=zt("t",u),_=zt("d",u);if("c"===c)this.onSecondaryControl_(_);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=zt("t",u),_=zt("d",u);"c"===c?this.onControl_(_):"d"===c&&this.onDataMessage_(_)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=zt("t",u);if("d"in u){const _=u.d;if("h"===c){const M=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(M.h=this.repoInfo_.host),this.onHandshake_(M)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(_):"r"===c?this.onReset_(_):"e"===c?Rt("Server Error: "+_):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rt("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,_=u.v,M=u.h;this.sessionId=u.s,this.repoInfo_.host=M,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==_&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,_),Yr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ds{put(u,c,_,M){}merge(u,c,_,M){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,_){}onDisconnectMerge(u,c,_){}onDisconnectCancel(u,c){}reportStats(u){}}class Is{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,H.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const _=[...this.listeners_[u]];for(let M=0;M<_.length;M++)_[M].callback.apply(_[M].context,c)}}on(u,c,_){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:_});const M=this.getInitialEvent(u);M&&c.apply(_,M)}off(u,c,_){this.validateEventType_(u);const M=this.listeners_[u]||[];for(let j=0;j<M.length;j++)if(M[j].callback===c&&(!_||_===M[j].context))return void M.splice(j,1)}validateEventType_(u){(0,H.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class Bi extends Is{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bi}getInitialEvent(u){return(0,H.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class Ln{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let _=0;for(let M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[_]=this.pieces_[M],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function An(){return new Ln("")}function Mn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function fi(h){return h.pieces_.length-h.pieceNum_}function Pn(h){let u=h.pieceNum_;return u<h.pieces_.length&&u++,new Ln(h.pieces_,u)}function ko(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function jr(h,u=0){return h.pieces_.slice(h.pieceNum_+u)}function ji(h){if(h.pieceNum_>=h.pieces_.length)return null;const u=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)u.push(h.pieces_[c]);return new Ln(u,0)}function Pr(h,u){const c=[];for(let _=h.pieceNum_;_<h.pieces_.length;_++)c.push(h.pieces_[_]);if(u instanceof Ln)for(let _=u.pieceNum_;_<u.pieces_.length;_++)c.push(u.pieces_[_]);else{const _=u.split("/");for(let M=0;M<_.length;M++)_[M].length>0&&c.push(_[M])}return new Ln(c,0)}function er(h){return h.pieceNum_>=h.pieces_.length}function Kr(h,u){const c=Mn(h),_=Mn(u);if(null===c)return u;if(c===_)return Kr(Pn(h),Pn(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+h+")")}function rs(h,u){const c=jr(h,0),_=jr(u,0);for(let M=0;M<c.length&&M<_.length;M++){const j=Vt(c[M],_[M]);if(0!==j)return j}return c.length===_.length?0:c.length<_.length?-1:1}function qs(h,u){if(fi(h)!==fi(u))return!1;for(let c=h.pieceNum_,_=u.pieceNum_;c<=h.pieces_.length;c++,_++)if(h.pieces_[c]!==u.pieces_[_])return!1;return!0}function Yi(h,u){let c=h.pieceNum_,_=u.pieceNum_;if(fi(h)>fi(u))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==u.pieces_[_])return!1;++c,++_}return!0}class Bs{constructor(u,c){this.errorPrefix_=c,this.parts_=jr(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,H.ug)(this.parts_[_]);fe(this)}}function fe(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ze(h))}function Ze(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class Le extends Is{constructor(){let u,c;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(c="visibilitychange",u="hidden"):void 0!==document.mozHidden?(c="mozvisibilitychange",u="mozHidden"):void 0!==document.msHidden?(c="msvisibilitychange",u="msHidden"):void 0!==document.webkitHidden&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const _=!document[u];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new Le}getInitialEvent(u){return(0,H.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const ht=1e3;let Ys,mr=(()=>{class h extends Ds{constructor(c,_,M,j,q,oe,Ie,Re){if(super(),this.repoInfo_=c,this.applicationId_=_,this.onDataUpdate_=M,this.onConnectStatus_=j,this.onServerInfoUpdate_=q,this.authTokenProvider_=oe,this.appCheckTokenProvider_=Ie,this.authOverride_=Re,this.id=h.nextPersistentConnectionId_++,this.log_=Ct("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ht,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Re&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Le.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Bi.getInstance().on("online",this.onOnline_,this)}sendRequest(c,_,M){const j=++this.requestNumber_,q={r:j,a:c,b:_};this.log_((0,H.Wl)(q)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(q),M&&(this.requestCBHash_[j]=M)}get(c){this.initConnection_();const _=new H.BH,M={p:c._path.toString(),q:c._queryObject};return this.outstandingGets_.push({action:"g",request:M,onComplete:oe=>{const Ie=oe.d;"ok"===oe.s?_.resolve(Ie):_.reject(Ie)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(c,_,M,j){this.initConnection_();const q=c._queryIdentifier,oe=c._path.toString();this.log_("Listen called for "+oe+" "+q),this.listens.has(oe)||this.listens.set(oe,new Map),(0,H.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(oe).has(q),"listen() called twice for same path/queryId.");const Ie={onComplete:j,hashFn:_,query:c,tag:M};this.listens.get(oe).set(q,Ie),this.connected_&&this.sendListen_(Ie)}sendGet_(c){const _=this.outstandingGets_[c];this.sendRequest("g",_.request,M=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(M)})}sendListen_(c){const _=c.query,M=_._path.toString(),j=_._queryIdentifier;this.log_("Listen on "+M+" for "+j);const q={p:M};c.tag&&(q.q=_._queryObject,q.t=c.tag),q.h=c.hashFn(),this.sendRequest("q",q,Ie=>{const Re=Ie.d,It=Ie.s;h.warnOnListenWarnings_(Re,_),(this.listens.get(M)&&this.listens.get(M).get(j))===c&&(this.log_("listen response",Ie),"ok"!==It&&this.removeListen_(M,j),c.onComplete&&c.onComplete(It,Re))})}static warnOnListenWarnings_(c,_){if(c&&"object"==typeof c&&(0,H.r3)(c,"w")){const M=(0,H.DV)(c,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){const j='".indexOn": "'+_._queryParams.getIndex().toString()+'"',q=_._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${j} at ${q} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,H.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,_=(0,H.w9)(c)?"auth":"gauth",M={cred:c};null===this.authOverride_?M.noauth=!0:"object"==typeof this.authOverride_&&(M.authvar=this.authOverride_),this.sendRequest(_,M,j=>{const q=j.s,oe=j.d||"error";this.authToken_===c&&("ok"===q?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(q,oe))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const _=c.s,M=c.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,M)})}unlisten(c,_){const M=c._path.toString(),j=c._queryIdentifier;this.log_("Unlisten called for "+M+" "+j),(0,H.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,j)&&this.connected_&&this.sendUnlisten_(M,j,c._queryObject,_)}sendUnlisten_(c,_,M,j){this.log_("Unlisten on "+c+" for "+_);const q={p:c};j&&(q.q=M,q.t=j),this.sendRequest("n",q)}onDisconnectPut(c,_,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,_,M):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:_,onComplete:M})}onDisconnectMerge(c,_,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,_,M):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:_,onComplete:M})}onDisconnectCancel(c,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,_):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(c,_,M,j){const q={p:_,d:M};this.log_("onDisconnect "+c,q),this.sendRequest(c,q,oe=>{j&&setTimeout(()=>{j(oe.s,oe.d)},Math.floor(0))})}put(c,_,M,j){this.putInternal("p",c,_,M,j)}merge(c,_,M,j){this.putInternal("m",c,_,M,j)}putInternal(c,_,M,j,q){this.initConnection_();const oe={p:_,d:M};void 0!==q&&(oe.h=q),this.outstandingPuts_.push({action:c,request:oe,onComplete:j}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(c){const _=this.outstandingPuts_[c].action,M=this.outstandingPuts_[c].request,j=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(_,M,q=>{this.log_(_+" response",q),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),j&&j(q.s,q.d)})}reportStats(c){if(this.connected_){const _={c};this.log_("reportStats",_),this.sendRequest("s",_,M=>{"ok"!==M.s&&this.log_("reportStats","Error sending stats: "+M.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,H.Wl)(c));const _=c.r,M=this.requestCBHash_[_];M&&(delete this.requestCBHash_[_],M(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,_){this.log_("handleServerMessage",c,_),"d"===c?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===c?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===c?this.onListenRevoked_(_.p,_.q):"ac"===c?this.onAuthRevoked_(_.s,_.d):"apc"===c?this.onAppCheckRevoked_(_.s,_.d):"sd"===c?this.onSecurityDebugPacket_(_):Rt("Unrecognized action received from server: "+(0,H.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ht,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=ht,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ht),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-c);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,p.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const _=c.onDataMessage_.bind(c),M=c.onReady_.bind(c),j=c.onRealtimeDisconnect_.bind(c),q=c.id+":"+h.nextConnectionId_++,oe=c.lastSessionId;let Ie=!1,Re=null;const It=function(){Re?Re.close():(Ie=!0,j())};c.realtime_={close:It,sendRequest:function(Cn){(0,H.hu)(Re,"sendRequest call when we're not connected not allowed."),Re.sendRequest(Cn)}};const Ft=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[Cn,Zn]=yield Promise.all([c.authTokenProvider_.getToken(Ft),c.appCheckTokenProvider_.getToken(Ft)]);Ie?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),c.authToken_=Cn&&Cn.accessToken,c.appCheckToken_=Zn&&Zn.token,Re=new hi(q,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,_,M,j,ai=>{Ht(ai+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},oe))}catch(Cn){c.log_("Failed to get token: "+Cn),Ie||(c.repoInfo_.nodeAdmin&&Ht(Cn),It())}}})()}interrupt(c){je("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){je("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ht,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const _=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const _=this.outstandingPuts_[c];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,_){let M;M=_?_.map(q=>Yt(q)).join("$"):"default";const j=this.removeListen_(c,M);j&&j.onComplete&&j.onComplete("permission_denied")}removeListen_(c,_){const M=new Ln(c).toString();let j;if(this.listens.has(M)){const q=this.listens.get(M);j=q.get(_),q.delete(_),0===q.size&&this.listens.delete(M)}else j=void 0;return j}onAuthRevoked_(c,_){je("Auth token revoked: "+c+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,_){je("App check token revoked: "+c+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const _ of c.values())this.sendListen_(_);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let _="js";(0,H.Yr)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+_+"."+se.replace(/\./g,"-")]=1,(0,H.uI)()?c["framework.cordova"]=1:(0,H.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Bi.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class Rn{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new Rn(u,c)}}class Hi{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const _=new Rn(pt,u),M=new Rn(pt,c);return 0!==this.compare(_,M)}minPost(){return Rn.MIN}}class $i extends Hi{static get __EMPTY_NODE(){return Ys}static set __EMPTY_NODE(u){Ys=u}compare(u,c){return Vt(u.name,c.name)}isDefinedOn(u){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return Rn.MIN}maxPost(){return new Rn(He,Ys)}makePost(u,c){return(0,H.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Rn(u,Ys)}toString(){return".key"}}const li=new $i;class xi{constructor(u,c,_,M,j=null){this.isReverse_=M,this.resultGenerator_=j,this.nodeStack_=[];let q=1;for(;!u.isEmpty();)if(q=c?_(u.key,c):1,M&&(q*=-1),q<0)u=this.isReverse_?u.left:u.right;else{if(0===q){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let po,Qi=(()=>{class h{constructor(c,_,M,j,q){this.key=c,this.value=_,this.color=null!=M?M:h.RED,this.left=null!=j?j:Hn.EMPTY_NODE,this.right=null!=q?q:Hn.EMPTY_NODE}copy(c,_,M,j,q){return new h(null!=c?c:this.key,null!=_?_:this.value,null!=M?M:this.color,null!=j?j:this.left,null!=q?q:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,_,M){let j=this;const q=M(c,j.key);return j=q<0?j.copy(null,null,null,j.left.insert(c,_,M),null):0===q?j.copy(null,_,null,null,null):j.copy(null,null,null,null,j.right.insert(c,_,M)),j.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hn.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,_){let M,j;if(M=this,_(c,M.key)<0)!M.left.isEmpty()&&!M.left.isRed_()&&!M.left.left.isRed_()&&(M=M.moveRedLeft_()),M=M.copy(null,null,null,M.left.remove(c,_),null);else{if(M.left.isRed_()&&(M=M.rotateRight_()),!M.right.isEmpty()&&!M.right.isRed_()&&!M.right.left.isRed_()&&(M=M.moveRedRight_()),0===_(c,M.key)){if(M.right.isEmpty())return Hn.EMPTY_NODE;j=M.right.min_(),M=M.copy(j.key,j.value,null,null,M.right.removeMin_())}M=M.copy(null,null,null,null,M.right.remove(c,_))}return M.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,_)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class Hn{constructor(u,c=Hn.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new Hn(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,Qi.BLACK,null,null))}remove(u){return new Hn(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,Qi.BLACK,null,null))}get(u){let c,_=this.root_;for(;!_.isEmpty();){if(c=this.comparator_(u,_.key),0===c)return _.value;c<0?_=_.left:c>0&&(_=_.right)}return null}getPredecessorKey(u){let c,_=this.root_,M=null;for(;!_.isEmpty();){if(c=this.comparator_(u,_.key),0===c){if(_.left.isEmpty())return M?M.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}c<0?_=_.left:c>0&&(M=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new xi(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new xi(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new xi(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new xi(this.root_,null,this.comparator_,!0,u)}}function is(h,u){return Vt(h.name,u.name)}function Ts(h,u){return Vt(h,u)}Hn.EMPTY_NODE=new class Zi{copy(u,c,_,M,j){return this}insert(u,c,_){return new Qi(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Qo=function(h){return"number"==typeof h?"number:"+pr(h):"string:"+h},Ss=function(h){if(h.isLeafNode()){const u=h.val();(0,H.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,H.r3)(u,".sv"),"Priority must be a string or number.")}else(0,H.hu)(h===po||h.isEmpty(),"priority of unexpected type.");(0,H.hu)(h===po||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let go,Ya,Di,ks=(()=>{class h{constructor(c,_=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=_,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ss(this.priorityNode_)}static set __childrenNodeConstructor(c){go=c}static get __childrenNodeConstructor(){return go}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return er(c)?this:".priority"===Mn(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,_){return null}updateImmediateChild(c,_){return".priority"===c?this.updatePriority(_):_.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,_).updatePriority(this.priorityNode_)}updateChild(c,_){const M=Mn(c);return null===M?_:_.isEmpty()&&".priority"!==M?this:((0,H.hu)(".priority"!==M||1===fi(c),".priority must be the last token in a path"),this.updateImmediateChild(M,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pn(c),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,_){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+Qo(this.priorityNode_.val())+":");const _=typeof this.value_;c+=_+":",c+="number"===_?pr(this.value_):this.value_,this.lazyHash_=$e(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,H.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const _=typeof c.value_,M=typeof this.value_,j=h.VALUE_TYPE_ORDER.indexOf(_),q=h.VALUE_TYPE_ORDER.indexOf(M);return(0,H.hu)(j>=0,"Unknown leaf type: "+_),(0,H.hu)(q>=0,"Unknown leaf type: "+M),j===q?"object"===M?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:q-j}withIndex(){return this}isIndexed(){return!0}equals(c){if(c===this)return!0;if(c.isLeafNode()){const _=c;return this.value_===_.value_&&this.priorityNode_.equals(_.priorityNode_)}return!1}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Ur=new class ss extends Hi{compare(u,c){const _=u.node.getPriority(),M=c.node.getPriority(),j=_.compareTo(M);return 0===j?Vt(u.name,c.name):j}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return Rn.MIN}maxPost(){return new Rn(He,new ks("[PRIORITY-POST]",Di))}makePost(u,c){const _=Ya(u);return new Rn(c,new ks("[PRIORITY-POST]",_))}toString(){return".priority"}},Mo=Math.log(2);class Qr{constructor(u){this.count=parseInt(Math.log(u+1)/Mo,10),this.current_=this.count-1;const M=(j=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&M}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const Fo=function(h,u,c,_){h.sort(u);const M=function(Ie,Re){const It=Re-Ie;let At,Ft;if(0===It)return null;if(1===It)return At=h[Ie],Ft=c?c(At):At,new Qi(Ft,At.node,Qi.BLACK,null,null);{const Cn=parseInt(It/2,10)+Ie,Zn=M(Ie,Cn),ai=M(Cn+1,Re);return At=h[Cn],Ft=c?c(At):At,new Qi(Ft,At.node,Qi.BLACK,Zn,ai)}},oe=function(Ie){let Re=null,It=null,At=h.length;const Ft=function(Zn,ai){const Wo=At-Zn,Tl=At;At-=Zn;const Cs=M(Wo+1,Tl),rc=h[Wo],cd=c?c(rc):rc;Cn(new Qi(cd,rc.node,ai,null,Cs))},Cn=function(Zn){Re?(Re.left=Zn,Re=Zn):(It=Zn,Re=Zn)};for(let Zn=0;Zn<Ie.count;++Zn){const ai=Ie.nextBitIsOne(),Wo=Math.pow(2,Ie.count-(Zn+1));ai?Ft(Wo,Qi.BLACK):(Ft(Wo,Qi.BLACK),Ft(Wo,Qi.RED))}return It}(new Qr(h.length));return new Hn(_||u,oe)};let Zo;const mo={};class pi{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,H.hu)(mo&&Ur,"ChildrenNode.ts has not been loaded"),Zo=Zo||new pi({".priority":mo},{".priority":Ur}),Zo}get(u){const c=(0,H.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof Hn?c:null}hasIndex(u){return(0,H.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,H.hu)(u!==li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let M=!1;const j=c.getIterator(Rn.Wrap);let oe,q=j.getNext();for(;q;)M=M||u.isDefinedOn(q.node),_.push(q),q=j.getNext();oe=M?Fo(_,u.getCompare()):mo;const Ie=u.toString(),Re=Object.assign({},this.indexSet_);Re[Ie]=u;const It=Object.assign({},this.indexes_);return It[Ie]=oe,new pi(It,Re)}addToIndexes(u,c){const _=(0,H.UI)(this.indexes_,(M,j)=>{const q=(0,H.DV)(this.indexSet_,j);if((0,H.hu)(q,"Missing index implementation for "+j),M===mo){if(q.isDefinedOn(u.node)){const oe=[],Ie=c.getIterator(Rn.Wrap);let Re=Ie.getNext();for(;Re;)Re.name!==u.name&&oe.push(Re),Re=Ie.getNext();return oe.push(u),Fo(oe,q.getCompare())}return mo}{const oe=c.get(u.name);let Ie=M;return oe&&(Ie=Ie.remove(new Rn(u.name,oe))),Ie.insert(u,u.node)}});return new pi(_,this.indexSet_)}removeFromIndexes(u,c){const _=(0,H.UI)(this.indexes_,M=>{if(M===mo)return M;{const j=c.get(u.name);return j?M.remove(new Rn(u.name,j)):M}});return new pi(_,this.indexSet_)}}let Qs,mn=(()=>{class h{constructor(c,_,M){this.children_=c,this.priorityNode_=_,this.indexMap_=M,this.lazyHash_=null,this.priorityNode_&&Ss(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qs||(Qs=new h(new Hn(Ts),null,pi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qs}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const _=this.children_.get(c);return null===_?Qs:_}}getChild(c){const _=Mn(c);return null===_?this:this.getImmediateChild(_).getChild(Pn(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,_){if((0,H.hu)(_,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(_);{const M=new Rn(c,_);let j,q;_.isEmpty()?(j=this.children_.remove(c),q=this.indexMap_.removeFromIndexes(M,this.children_)):(j=this.children_.insert(c,_),q=this.indexMap_.addToIndexes(M,this.children_));const oe=j.isEmpty()?Qs:this.priorityNode_;return new h(j,oe,q)}}updateChild(c,_){const M=Mn(c);if(null===M)return _;{(0,H.hu)(".priority"!==Mn(c)||1===fi(c),".priority must be the last token in a path");const j=this.getImmediateChild(M).updateChild(Pn(c),_);return this.updateImmediateChild(M,j)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const _={};let M=0,j=0,q=!0;if(this.forEachChild(Ur,(oe,Ie)=>{_[oe]=Ie.val(c),M++,q&&h.INTEGER_REGEXP_.test(oe)?j=Math.max(j,Number(oe)):q=!1}),!c&&q&&j<2*M){const oe=[];for(const Ie in _)oe[Ie]=_[Ie];return oe}return c&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+Qo(this.getPriority().val())+":"),this.forEachChild(Ur,(_,M)=>{const j=M.hash();""!==j&&(c+=":"+_+":"+j)}),this.lazyHash_=""===c?"":$e(c)}return this.lazyHash_}getPredecessorChildName(c,_,M){const j=this.resolveIndex_(M);if(j){const q=j.getPredecessorKey(new Rn(c,_));return q?q.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const _=this.resolveIndex_(c);if(_){const M=_.minKey();return M&&M.name}return this.children_.minKey()}getFirstChild(c){const _=this.getFirstChildName(c);return _?new Rn(_,this.children_.get(_)):null}getLastChildName(c){const _=this.resolveIndex_(c);if(_){const M=_.maxKey();return M&&M.name}return this.children_.maxKey()}getLastChild(c){const _=this.getLastChildName(c);return _?new Rn(_,this.children_.get(_)):null}forEachChild(c,_){const M=this.resolveIndex_(c);return M?M.inorderTraversal(j=>_(j.name,j.node)):this.children_.inorderTraversal(_)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,_){const M=this.resolveIndex_(_);if(M)return M.getIteratorFrom(c,j=>j);{const j=this.children_.getIteratorFrom(c.name,Rn.Wrap);let q=j.peek();for(;null!=q&&_.compare(q,c)<0;)j.getNext(),q=j.peek();return j}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,_){const M=this.resolveIndex_(_);if(M)return M.getReverseIteratorFrom(c,j=>j);{const j=this.children_.getReverseIteratorFrom(c.name,Rn.Wrap);let q=j.peek();for(;null!=q&&_.compare(q,c)>0;)j.getNext(),q=j.peek();return j}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===ur?-1:0}withIndex(c){if(c===li||this.indexMap_.hasIndex(c))return this;{const _=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,_)}}isIndexed(c){return c===li||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const _=c;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const M=this.getIterator(Ur),j=_.getIterator(Ur);let q=M.getNext(),oe=j.getNext();for(;q&&oe;){if(q.name!==oe.name||!q.node.equals(oe.node))return!1;q=M.getNext(),oe=j.getNext()}return null===q&&null===oe}return!1}return!1}}resolveIndex_(c){return c===li?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const ur=new class Zs extends mn{constructor(){super(new Hn(Ts),mn.EMPTY_NODE,pi.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return mn.EMPTY_NODE}isEmpty(){return!1}};function vr(h,u=null){if(null===h)return mn.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(u=h[".priority"]),(0,H.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new ks(h,vr(u));if(h instanceof Array){let c=mn.EMPTY_NODE;return Et(h,(_,M)=>{if((0,H.r3)(h,_)&&"."!==_.substring(0,1)){const j=vr(M);(j.isLeafNode()||!j.isEmpty())&&(c=c.updateImmediateChild(_,j))}}),c.updatePriority(vr(u))}{const c=[];let _=!1;if(Et(h,(q,oe)=>{if("."!==q.substring(0,1)){const Ie=vr(oe);Ie.isEmpty()||(_=_||!Ie.getPriority().isEmpty(),c.push(new Rn(q,Ie)))}}),0===c.length)return mn.EMPTY_NODE;const j=Fo(c,is,q=>q.name,Ts);if(_){const q=Fo(c,Ur.getCompare());return new mn(j,vr(u),new pi({".priority":q},{".priority":Ur}))}return new mn(j,vr(u),pi.Default)}}Object.defineProperties(Rn,{MIN:{value:new Rn(pt,mn.EMPTY_NODE)},MAX:{value:new Rn(He,ur)}}),$i.__EMPTY_NODE=mn.EMPTY_NODE,ks.__childrenNodeConstructor=mn,function Ao(h){po=h}(ur),function hs(h){Di=h}(ur),function ds(h){Ya=h}(vr);class Lo extends Hi{constructor(u){super(),this.indexPath_=u,(0,H.hu)(!er(u)&&".priority"!==Mn(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const _=this.extractChild(u.node),M=this.extractChild(c.node),j=_.compareTo(M);return 0===j?Vt(u.name,c.name):j}makePost(u,c){const _=vr(u),M=mn.EMPTY_NODE.updateChild(this.indexPath_,_);return new Rn(c,M)}maxPost(){const u=mn.EMPTY_NODE.updateChild(this.indexPath_,ur);return new Rn(He,u)}toString(){return jr(this.indexPath_,0).join("/")}}const Vo=new class os extends Hi{compare(u,c){const _=u.node.compareTo(c.node);return 0===_?Vt(u.name,c.name):_}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return Rn.MIN}maxPost(){return Rn.MAX}makePost(u,c){const _=vr(u);return new Rn(c,_)}toString(){return".value"}};function Js(h){return{type:"value",snapshotNode:h}}function Dn(h,u){return{type:"child_added",snapshotNode:u,childName:h}}function As(h,u){return{type:"child_removed",snapshotNode:u,childName:h}}function ga(h,u,c){return{type:"child_changed",snapshotNode:u,childName:h,oldSnap:c}}class Xs{constructor(u){this.index_=u}updateChild(u,c,_,M,j,q){(0,H.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const oe=u.getImmediateChild(c);return oe.getChild(M).equals(_.getChild(M))&&oe.isEmpty()===_.isEmpty()||(null!=q&&(_.isEmpty()?u.hasChild(c)?q.trackChildChange(As(c,oe)):(0,H.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):oe.isEmpty()?q.trackChildChange(Dn(c,_)):q.trackChildChange(ga(c,_,oe))),u.isLeafNode()&&_.isEmpty())?u:u.updateImmediateChild(c,_).withIndex(this.index_)}updateFullNode(u,c,_){return null!=_&&(u.isLeafNode()||u.forEachChild(Ur,(M,j)=>{c.hasChild(M)||_.trackChildChange(As(M,j))}),c.isLeafNode()||c.forEachChild(Ur,(M,j)=>{if(u.hasChild(M)){const q=u.getImmediateChild(M);q.equals(j)||_.trackChildChange(ga(M,j,q))}else _.trackChildChange(Dn(M,j))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?mn.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class as{constructor(u){this.indexedFilter_=new Xs(u.getIndex()),this.index_=u.getIndex(),this.startPost_=as.getStartPost_(u),this.endPost_=as.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,_=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return c&&_}updateChild(u,c,_,M,j,q){return this.matches(new Rn(c,_))||(_=mn.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,_,M,j,q)}updateFullNode(u,c,_){c.isLeafNode()&&(c=mn.EMPTY_NODE);let M=c.withIndex(this.index_);M=M.updatePriority(mn.EMPTY_NODE);const j=this;return c.forEachChild(Ur,(q,oe)=>{j.matches(new Rn(q,oe))||(M=M.updateImmediateChild(q,mn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,M,_)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class Jo{constructor(u){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=c=>{const _=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new as(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,c,_,M,j,q){return this.rangedFilter_.matches(new Rn(c,_))||(_=mn.EMPTY_NODE),u.getImmediateChild(c).equals(_)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,_,M,j,q):this.fullLimitUpdateChild_(u,c,_,j,q)}updateFullNode(u,c,_){let M;if(c.isLeafNode()||c.isEmpty())M=mn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let j;M=mn.EMPTY_NODE.withIndex(this.index_),j=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let q=0;for(;j.hasNext()&&q<this.limit_;){const oe=j.getNext();if(this.withinDirectionalStart(oe)){if(!this.withinDirectionalEnd(oe))break;M=M.updateImmediateChild(oe.name,oe.node),q++}}}else{let j;M=c.withIndex(this.index_),M=M.updatePriority(mn.EMPTY_NODE),j=this.reverse_?M.getReverseIterator(this.index_):M.getIterator(this.index_);let q=0;for(;j.hasNext();){const oe=j.getNext();q<this.limit_&&this.withinDirectionalStart(oe)&&this.withinDirectionalEnd(oe)?q++:M=M.updateImmediateChild(oe.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,M,_)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,_,M,j){let q;if(this.reverse_){const At=this.index_.getCompare();q=(Ft,Cn)=>At(Cn,Ft)}else q=this.index_.getCompare();const oe=u;(0,H.hu)(oe.numChildren()===this.limit_,"");const Ie=new Rn(c,_),Re=this.reverse_?oe.getFirstChild(this.index_):oe.getLastChild(this.index_),It=this.rangedFilter_.matches(Ie);if(oe.hasChild(c)){const At=oe.getImmediateChild(c);let Ft=M.getChildAfterChild(this.index_,Re,this.reverse_);for(;null!=Ft&&(Ft.name===c||oe.hasChild(Ft.name));)Ft=M.getChildAfterChild(this.index_,Ft,this.reverse_);const Cn=null==Ft?1:q(Ft,Ie);if(It&&!_.isEmpty()&&Cn>=0)return null!=j&&j.trackChildChange(ga(c,_,At)),oe.updateImmediateChild(c,_);{null!=j&&j.trackChildChange(As(c,At));const ai=oe.updateImmediateChild(c,mn.EMPTY_NODE);return null!=Ft&&this.rangedFilter_.matches(Ft)?(null!=j&&j.trackChildChange(Dn(Ft.name,Ft.node)),ai.updateImmediateChild(Ft.name,Ft.node)):ai}}return _.isEmpty()?u:It&&q(Re,Ie)>=0?(null!=j&&(j.trackChildChange(As(Re.name,Re.node)),j.trackChildChange(Dn(c,_))),oe.updateImmediateChild(c,_).updateImmediateChild(Re.name,mn.EMPTY_NODE)):u}}class ei{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ur}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:He}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ur}copy(){const u=new ei;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function k(h){const u={};if(h.isDefault())return u;let c;if(h.index_===Ur?c="$priority":h.index_===Vo?c="$value":h.index_===li?c="$key":((0,H.hu)(h.index_ instanceof Lo,"Unrecognized index type!"),c=h.index_.toString()),u.orderBy=(0,H.Wl)(c),h.startSet_){const _=h.startAfterSet_?"startAfter":"startAt";u[_]=(0,H.Wl)(h.indexStartValue_),h.startNameSet_&&(u[_]+=","+(0,H.Wl)(h.indexStartName_))}if(h.endSet_){const _=h.endBeforeSet_?"endBefore":"endAt";u[_]=(0,H.Wl)(h.indexEndValue_),h.endNameSet_&&(u[_]+=","+(0,H.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?u.limitToFirst=h.limit_:u.limitToLast=h.limit_),u}function X(h){const u={};if(h.startSet_&&(u.sp=h.indexStartValue_,h.startNameSet_&&(u.sn=h.indexStartName_),u.sin=!h.startAfterSet_),h.endSet_&&(u.ep=h.indexEndValue_,h.endNameSet_&&(u.en=h.indexEndName_),u.ein=!h.endBeforeSet_),h.limitSet_){u.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),u.vf=c}return h.index_!==Ur&&(u.i=h.index_.toString()),u}class mt extends Ds{constructor(u,c,_,M){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=_,this.appCheckTokenProvider_=M,this.log_=Ct("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,H.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,_,M){const j=u._path.toString();this.log_("Listen called for "+j+" "+u._queryIdentifier);const q=mt.getListenId_(u,_),oe={};this.listens_[q]=oe;const Ie=k(u._queryParams);this.restRequest_(j+".json",Ie,(Re,It)=>{let At=It;if(404===Re&&(At=null,Re=null),null===Re&&this.onDataUpdate_(j,At,!1,_),(0,H.DV)(this.listens_,q)===oe){let Ft;Ft=Re?401===Re?"permission_denied":"rest_error:"+Re:"ok",M(Ft,null)}})}unlisten(u,c){const _=mt.getListenId_(u,c);delete this.listens_[_]}get(u){const c=k(u._queryParams),_=u._path.toString(),M=new H.BH;return this.restRequest_(_+".json",c,(j,q)=>{let oe=q;404===j&&(oe=null,j=null),null===j?(this.onDataUpdate_(_,oe,!1,null),M.resolve(oe)):M.reject(new Error(oe))}),M.promise}refreshAuthToken(u){}restRequest_(u,c={},_){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([M,j])=>{M&&M.accessToken&&(c.auth=M.accessToken),j&&j.token&&(c.ac=j.token);const q=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,H.xO)(c);this.log_("Sending REST request for "+q);const oe=new XMLHttpRequest;oe.onreadystatechange=()=>{if(_&&4===oe.readyState){this.log_("REST Response for "+q+" received. status:",oe.status,"response:",oe.responseText);let Ie=null;if(oe.status>=200&&oe.status<300){try{Ie=(0,H.cI)(oe.responseText)}catch(Re){Ht("Failed to parse JSON response for "+q+": "+oe.responseText)}_(null,Ie)}else 401!==oe.status&&404!==oe.status&&Ht("Got unsuccessful REST response for "+q+" Status: "+oe.status),_(oe.status);_=null}},oe.open("GET",q,!0),oe.send()})}}class cn{constructor(){this.rootNode_=mn.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function Zr(){return{value:null,children:new Map}}function Gi(h,u,c){if(er(u))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(u,c);else{const _=Mn(u);h.children.has(_)||h.children.set(_,Zr()),Gi(h.children.get(_),u=Pn(u),c)}}function Hs(h,u){if(er(u))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(Ur,(_,M)=>{Gi(h,new Ln(_),M)}),Hs(h,u)}}if(h.children.size>0){const c=Mn(u);return u=Pn(u),h.children.has(c)&&Hs(h.children.get(c),u)&&h.children.delete(c),0===h.children.size}return!0}function Jr(h,u,c){null!==h.value?c(u,h.value):function so(h,u){h.children.forEach((c,_)=>{u(_,c)})}(h,(_,M)=>{Jr(M,new Ln(u.toString()+"/"+_),c)})}class Va{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&Et(this.last_,(_,M)=>{c[_]=c[_]-M}),this.last_=u,c}}class _a{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new Va(u);const _=1e4+2e4*Math.random();Yr(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const u=this.statsListener_.get(),c={};let _=!1;Et(u,(M,j)=>{j>0&&(0,H.r3)(this.statsToReport_,M)&&(c[M]=j,_=!0)}),_&&this.server_.reportStats(c),Yr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fs=(()=>{return(h=fs||(fs={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",fs;var h})();function Ba(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class sa{constructor(u,c,_){this.path=u,this.affectedTree=c,this.revert=_,this.type=fs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(er(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new Ln(u));return new sa(An(),c,this.revert)}}return(0,H.hu)(Mn(this.path)===u,"operationForChild called for unrelated child."),new sa(Pn(this.path),this.affectedTree,this.revert)}}class Bo{constructor(u,c){this.source=u,this.path=c,this.type=fs.LISTEN_COMPLETE}operationForChild(u){return er(this.path)?new Bo(this.source,An()):new Bo(this.source,Pn(this.path))}}class eo{constructor(u,c,_){this.source=u,this.path=c,this.snap=_,this.type=fs.OVERWRITE}operationForChild(u){return er(this.path)?new eo(this.source,An(),this.snap.getImmediateChild(u)):new eo(this.source,Pn(this.path),this.snap)}}class Xo{constructor(u,c,_){this.source=u,this.path=c,this.children=_,this.type=fs.MERGE}operationForChild(u){if(er(this.path)){const c=this.children.subtree(new Ln(u));return c.isEmpty()?null:c.value?new eo(this.source,An(),c.value):new Xo(this.source,An(),c)}return(0,H.hu)(Mn(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new Xo(this.source,Pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ls{constructor(u,c,_){this.node_=u,this.fullyInitialized_=c,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(er(u))return this.isFullyInitialized()&&!this.filtered_;const c=Mn(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class Za{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function va(h,u,c,_,M,j){const q=_.filter(oe=>oe.type===c);q.sort((oe,Ie)=>function Y(h,u,c){if(null==u.childName||null==c.childName)throw(0,H.g5)("Should only compare child_ events.");const _=new Rn(u.childName,u.snapshotNode),M=new Rn(c.childName,c.snapshotNode);return h.index_.compare(_,M)}(h,oe,Ie)),q.forEach(oe=>{const Ie=function L(h,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,h.index_)),u}(h,oe,j);M.forEach(Re=>{Re.respondsTo(oe.type)&&u.push(Re.createEvent(Ie,h.query_))})})}function U(h,u){return{eventCache:h,serverCache:u}}function ee(h,u,c,_){return U(new ls(u,c,_),h.serverCache)}function me(h,u,c,_){return U(h.eventCache,new ls(u,c,_))}function lt(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function yt(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let un;class Nn{constructor(u,c=(()=>(un||(un=new Hn(dt)),un))()){this.value=u,this.children=c}static fromObject(u){let c=new Nn(null);return Et(u,(_,M)=>{c=c.set(new Ln(_),M)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:An(),value:this.value};if(er(u))return null;{const _=Mn(u),M=this.children.get(_);if(null!==M){const j=M.findRootMostMatchingPathAndValue(Pn(u),c);return null!=j?{path:Pr(new Ln(_),j.path),value:j.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(er(u))return this;{const c=Mn(u),_=this.children.get(c);return null!==_?_.subtree(Pn(u)):new Nn(null)}}set(u,c){if(er(u))return new Nn(c,this.children);{const _=Mn(u),j=(this.children.get(_)||new Nn(null)).set(Pn(u),c),q=this.children.insert(_,j);return new Nn(this.value,q)}}remove(u){if(er(u))return this.children.isEmpty()?new Nn(null):new Nn(null,this.children);{const c=Mn(u),_=this.children.get(c);if(_){const M=_.remove(Pn(u));let j;return j=M.isEmpty()?this.children.remove(c):this.children.insert(c,M),null===this.value&&j.isEmpty()?new Nn(null):new Nn(this.value,j)}return this}}get(u){if(er(u))return this.value;{const c=Mn(u),_=this.children.get(c);return _?_.get(Pn(u)):null}}setTree(u,c){if(er(u))return c;{const _=Mn(u),j=(this.children.get(_)||new Nn(null)).setTree(Pn(u),c);let q;return q=j.isEmpty()?this.children.remove(_):this.children.insert(_,j),new Nn(this.value,q)}}fold(u){return this.fold_(An(),u)}fold_(u,c){const _={};return this.children.inorderTraversal((M,j)=>{_[M]=j.fold_(Pr(u,M),c)}),c(u,this.value,_)}findOnPath(u,c){return this.findOnPath_(u,An(),c)}findOnPath_(u,c,_){const M=!!this.value&&_(c,this.value);if(M)return M;if(er(u))return null;{const j=Mn(u),q=this.children.get(j);return q?q.findOnPath_(Pn(u),Pr(c,j),_):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,An(),c)}foreachOnPath_(u,c,_){if(er(u))return this;{this.value&&_(c,this.value);const M=Mn(u),j=this.children.get(M);return j?j.foreachOnPath_(Pn(u),Pr(c,M),_):new Nn(null)}}foreach(u){this.foreach_(An(),u)}foreach_(u,c){this.children.inorderTraversal((_,M)=>{M.foreach_(Pr(u,_),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,_)=>{_.value&&u(c,_.value)})}}class Qn{constructor(u){this.writeTree_=u}static empty(){return new Qn(new Nn(null))}}function hr(h,u,c){if(er(u))return new Qn(new Nn(c));{const _=h.writeTree_.findRootMostValueAndPath(u);if(null!=_){const M=_.path;let j=_.value;const q=Kr(M,u);return j=j.updateChild(q,c),new Qn(h.writeTree_.set(M,j))}{const M=new Nn(c),j=h.writeTree_.setTree(u,M);return new Qn(j)}}}function ui(h,u,c){let _=h;return Et(c,(M,j)=>{_=hr(_,Pr(u,M),j)}),_}function Or(h,u){if(er(u))return Qn.empty();{const c=h.writeTree_.setTree(u,new Nn(null));return new Qn(c)}}function Ii(h,u){return null!=ps(h,u)}function ps(h,u){const c=h.writeTree_.findRootMostValueAndPath(u);return null!=c?h.writeTree_.get(c.path).getChild(Kr(c.path,u)):null}function $r(h){const u=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Ur,(_,M)=>{u.push(new Rn(_,M))}):h.writeTree_.children.inorderTraversal((_,M)=>{null!=M.value&&u.push(new Rn(_,M.value))}),u}function Ni(h,u){if(er(u))return h;{const c=ps(h,u);return new Qn(null!=c?new Nn(c):h.writeTree_.subtree(u))}}function gs(h){return h.writeTree_.isEmpty()}function gi(h,u){return $s(An(),h.writeTree_,u)}function $s(h,u,c){if(null!=u.value)return c.updateChild(h,u.value);{let _=null;return u.children.inorderTraversal((M,j)=>{".priority"===M?((0,H.hu)(null!==j.value,"Priority writes must always be leaf nodes"),_=j.value):c=$s(Pr(h,M),j,c)}),!c.getChild(h).isEmpty()&&null!==_&&(c=c.updateChild(Pr(h,".priority"),_)),c}}function jt(h,u){return Ms(u,h)}function In(h,u){if(h.snap)return Yi(h.path,u);for(const c in h.children)if(h.children.hasOwnProperty(c)&&Yi(Pr(h.path,c),u))return!0;return!1}function ln(h){return h.visible}function ft(h,u,c){let _=Qn.empty();for(let M=0;M<h.length;++M){const j=h[M];if(u(j)){const q=j.path;let oe;if(j.snap)Yi(c,q)?(oe=Kr(c,q),_=hr(_,oe,j.snap)):Yi(q,c)&&(oe=Kr(q,c),_=hr(_,An(),j.snap.getChild(oe)));else{if(!j.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(Yi(c,q))oe=Kr(c,q),_=ui(_,oe,j.children);else if(Yi(q,c))if(oe=Kr(q,c),er(oe))_=ui(_,An(),j.children);else{const Ie=(0,H.DV)(j.children,Mn(oe));if(Ie){const Re=Ie.getChild(Pn(oe));_=hr(_,An(),Re)}}}}}return _}function Ut(h,u,c,_,M){if(_||M){const j=Ni(h.visibleWrites,u);return!M&&gs(j)?c:M||null!=c||Ii(j,An())?gi(ft(h.allWrites,function(Re){return(Re.visible||M)&&(!_||!~_.indexOf(Re.writeId))&&(Yi(Re.path,u)||Yi(u,Re.path))},u),c||mn.EMPTY_NODE):null}{const j=ps(h.visibleWrites,u);if(null!=j)return j;{const q=Ni(h.visibleWrites,u);return gs(q)?c:null!=c||Ii(q,An())?gi(q,c||mn.EMPTY_NODE):null}}}function vo(h,u,c,_){return Ut(h.writeTree,h.treePath,u,c,_)}function ja(h,u){return function bi(h,u,c){let _=mn.EMPTY_NODE;const M=ps(h.visibleWrites,u);if(M)return M.isLeafNode()||M.forEachChild(Ur,(j,q)=>{_=_.updateImmediateChild(j,q)}),_;if(c){const j=Ni(h.visibleWrites,u);return c.forEachChild(Ur,(q,oe)=>{const Ie=gi(Ni(j,new Ln(q)),oe);_=_.updateImmediateChild(q,Ie)}),$r(j).forEach(q=>{_=_.updateImmediateChild(q.name,q.node)}),_}return $r(Ni(h.visibleWrites,u)).forEach(q=>{_=_.updateImmediateChild(q.name,q.node)}),_}(h.writeTree,h.treePath,u)}function Ha(h,u,c,_){return function Cl(h,u,c,_,M){(0,H.hu)(_||M,"Either existingEventSnap or existingServerSnap must exist");const j=Pr(u,c);if(Ii(h.visibleWrites,j))return null;{const q=Ni(h.visibleWrites,j);return gs(q)?M.getChild(c):gi(q,M.getChild(c))}}(h.writeTree,h.treePath,u,c,_)}function Xa(h,u){return function Pl(h,u){return ps(h.visibleWrites,u)}(h.writeTree,Pr(h.treePath,u))}function mi(h,u,c){return function Ml(h,u,c,_){const M=Pr(u,c),j=ps(h.visibleWrites,M);return null!=j?j:_.isCompleteForChild(c)?gi(Ni(h.visibleWrites,M),_.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,u,c)}function tr(h,u){return Ms(Pr(h.treePath,u),h.writeTree)}function Ms(h,u){return{treePath:h,writeTree:u}}class xl{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,_=u.childName;(0,H.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==_,"Only non-priority child changes can be tracked.");const M=this.changeMap.get(_);if(M){const j=M.type;if("child_added"===c&&"child_removed"===j)this.changeMap.set(_,ga(_,u.snapshotNode,M.snapshotNode));else if("child_removed"===c&&"child_added"===j)this.changeMap.delete(_);else if("child_removed"===c&&"child_changed"===j)this.changeMap.set(_,As(_,M.oldSnap));else if("child_changed"===c&&"child_added"===j)this.changeMap.set(_,Dn(_,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==j)throw(0,H.g5)("Illegal combination of changes: "+u+" occurred after "+M);this.changeMap.set(_,ga(_,u.snapshotNode,M.oldSnap))}}else this.changeMap.set(_,u)}getChanges(){return Array.from(this.changeMap.values())}}const On=new class ti{getCompleteChild(u){return null}getChildAfterChild(u,c,_){return null}};class oa{constructor(u,c,_=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=_}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const _=null!=this.optCompleteServerCache_?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mi(this.writes_,u,_)}}getChildAfterChild(u,c,_){const M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yt(this.viewCache_),j=function Ol(h,u,c,_,M,j){return function Ja(h,u,c,_,M,j,q){let oe;const Ie=Ni(h.visibleWrites,u),Re=ps(Ie,An());if(null!=Re)oe=Re;else{if(null==c)return[];oe=gi(Ie,c)}if(oe=oe.withIndex(q),oe.isEmpty()||oe.isLeafNode())return[];{const It=[],At=q.getCompare(),Ft=j?oe.getReverseIteratorFrom(_,q):oe.getIteratorFrom(_,q);let Cn=Ft.getNext();for(;Cn&&It.length<M;)0!==At(Cn,_)&&It.push(Cn),Cn=Ft.getNext();return It}}(h.writeTree,h.treePath,u,c,_,M,j)}(this.writes_,M,c,1,_,u);return 0===j.length?null:j[0]}}function to(h,u,c,_,M,j){const q=u.eventCache;if(null!=Xa(_,c))return u;{let oe,Ie;if(er(c))if((0,H.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Re=yt(u),At=ja(_,Re instanceof mn?Re:mn.EMPTY_NODE);oe=h.filter.updateFullNode(u.eventCache.getNode(),At,j)}else{const Re=vo(_,yt(u));oe=h.filter.updateFullNode(u.eventCache.getNode(),Re,j)}else{const Re=Mn(c);if(".priority"===Re){(0,H.hu)(1===fi(c),"Can't have a priority with additional path components");const It=q.getNode();Ie=u.serverCache.getNode();const At=Ha(_,c,It,Ie);oe=null!=At?h.filter.updatePriority(It,At):q.getNode()}else{const It=Pn(c);let At;if(q.isCompleteForChild(Re)){Ie=u.serverCache.getNode();const Ft=Ha(_,c,q.getNode(),Ie);At=null!=Ft?q.getNode().getImmediateChild(Re).updateChild(It,Ft):q.getNode().getImmediateChild(Re)}else At=mi(_,Re,u.serverCache);oe=null!=At?h.filter.updateChild(q.getNode(),Re,At,It,M,j):q.getNode()}}return ee(u,oe,q.isFullyInitialized()||er(c),h.filter.filtersNodes())}}function oo(h,u,c,_,M,j,q,oe){const Ie=u.serverCache;let Re;const It=q?h.filter:h.filter.getIndexedFilter();if(er(c))Re=It.updateFullNode(Ie.getNode(),_,null);else if(It.filtersNodes()&&!Ie.isFiltered()){const Cn=Ie.getNode().updateChild(c,_);Re=It.updateFullNode(Ie.getNode(),Cn,null)}else{const Cn=Mn(c);if(!Ie.isCompleteForPath(c)&&fi(c)>1)return u;const Zn=Pn(c),Wo=Ie.getNode().getImmediateChild(Cn).updateChild(Zn,_);Re=".priority"===Cn?It.updatePriority(Ie.getNode(),Wo):It.updateChild(Ie.getNode(),Cn,Wo,Zn,On,null)}const At=me(u,Re,Ie.isFullyInitialized()||er(c),It.filtersNodes());return to(h,At,c,M,new oa(M,At,j),oe)}function Po(h,u,c,_,M,j,q){const oe=u.eventCache;let Ie,Re;const It=new oa(M,u,j);if(er(c))Re=h.filter.updateFullNode(u.eventCache.getNode(),_,q),Ie=ee(u,Re,!0,h.filter.filtersNodes());else{const At=Mn(c);if(".priority"===At)Re=h.filter.updatePriority(u.eventCache.getNode(),_),Ie=ee(u,Re,oe.isFullyInitialized(),oe.isFiltered());else{const Ft=Pn(c),Cn=oe.getNode().getImmediateChild(At);let Zn;if(er(Ft))Zn=_;else{const ai=It.getCompleteChild(At);Zn=null!=ai?".priority"===ko(Ft)&&ai.getChild(ji(Ft)).isEmpty()?ai:ai.updateChild(Ft,_):mn.EMPTY_NODE}Ie=Cn.equals(Zn)?u:ee(u,h.filter.updateChild(oe.getNode(),At,Zn,Ft,It,q),oe.isFullyInitialized(),h.filter.filtersNodes())}}return Ie}function Rl(h,u){return h.eventCache.isCompleteForChild(u)}function el(h,u,c){return c.foreach((_,M)=>{u=u.updateChild(_,M)}),u}function tl(h,u,c,_,M,j,q,oe){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Re,Ie=u;Re=er(c)?_:new Nn(null).setTree(c,_);const It=u.serverCache.getNode();return Re.children.inorderTraversal((At,Ft)=>{if(It.hasChild(At)){const Zn=el(0,u.serverCache.getNode().getImmediateChild(At),Ft);Ie=oo(h,Ie,new Ln(At),Zn,M,j,q,oe)}}),Re.children.inorderTraversal((At,Ft)=>{const Cn=!u.serverCache.isCompleteForChild(At)&&null===Ft.value;if(!It.hasChild(At)&&!Cn){const ai=el(0,u.serverCache.getNode().getImmediateChild(At),Ft);Ie=oo(h,Ie,new Ln(At),ai,M,j,q,oe)}}),Ie}class rl{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const _=this.query_._queryParams,M=new Xs(_.getIndex()),j=function yo(h){return h.loadsAllData()?new Xs(h.getIndex()):h.hasLimit()?new Jo(h):new as(h)}(_);this.processor_=function Sr(h){return{filter:h}}(j);const q=c.serverCache,oe=c.eventCache,Ie=M.updateFullNode(mn.EMPTY_NODE,q.getNode(),null),Re=j.updateFullNode(mn.EMPTY_NODE,oe.getNode(),null),It=new ls(Ie,q.isFullyInitialized(),M.filtersNodes()),At=new ls(Re,oe.isFullyInitialized(),j.filtersNodes());this.viewCache_=U(At,It),this.eventGenerator_=new Za(this.query_)}get query(){return this.query_}}function Eo(h,u){const c=yt(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!er(u)&&!c.getImmediateChild(Mn(u)).isEmpty())?c.getChild(u):null}function $a(h){return 0===h.eventRegistrations_.length}function Co(h,u,c){const _=[];if(c){(0,H.hu)(null==u,"A cancel should cancel all event registrations.");const M=h.query._path;h.eventRegistrations_.forEach(j=>{const q=j.createCancelEvent(c,M);q&&_.push(q)})}if(u){let M=[];for(let j=0;j<h.eventRegistrations_.length;++j){const q=h.eventRegistrations_[j];if(q.matches(u)){if(u.hasAnyCallback()){M=M.concat(h.eventRegistrations_.slice(j+1));break}}else M.push(q)}h.eventRegistrations_=M}else h.eventRegistrations_=[];return _}function Ps(h,u,c,_){u.type===fs.MERGE&&null!==u.source.queryId&&((0,H.hu)(yt(h.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(lt(h.viewCache_),"Missing event cache, even though we have a server cache"));const M=h.viewCache_,j=function Ti(h,u,c,_,M){const j=new xl;let q,oe;if(c.type===fs.OVERWRITE){const Re=c;Re.source.fromUser?q=Po(h,u,Re.path,Re.snap,_,M,j):((0,H.hu)(Re.source.fromServer,"Unknown source."),oe=Re.source.tagged||u.serverCache.isFiltered()&&!er(Re.path),q=oo(h,u,Re.path,Re.snap,_,M,oe,j))}else if(c.type===fs.MERGE){const Re=c;Re.source.fromUser?q=function Ea(h,u,c,_,M,j,q){let oe=u;return _.foreach((Ie,Re)=>{const It=Pr(c,Ie);Rl(u,Mn(It))&&(oe=Po(h,oe,It,Re,M,j,q))}),_.foreach((Ie,Re)=>{const It=Pr(c,Ie);Rl(u,Mn(It))||(oe=Po(h,oe,It,Re,M,j,q))}),oe}(h,u,Re.path,Re.children,_,M,j):((0,H.hu)(Re.source.fromServer,"Unknown source."),oe=Re.source.tagged||u.serverCache.isFiltered(),q=tl(h,u,Re.path,Re.children,_,M,oe,j))}else if(c.type===fs.ACK_USER_WRITE){const Re=c;q=Re.revert?function ms(h,u,c,_,M,j){let q;if(null!=Xa(_,c))return u;{const oe=new oa(_,u,M),Ie=u.eventCache.getNode();let Re;if(er(c)||".priority"===Mn(c)){let It;if(u.serverCache.isFullyInitialized())It=vo(_,yt(u));else{const At=u.serverCache.getNode();(0,H.hu)(At instanceof mn,"serverChildren would be complete if leaf node"),It=ja(_,At)}Re=h.filter.updateFullNode(Ie,It,j)}else{const It=Mn(c);let At=mi(_,It,u.serverCache);null==At&&u.serverCache.isCompleteForChild(It)&&(At=Ie.getImmediateChild(It)),Re=null!=At?h.filter.updateChild(Ie,It,At,Pn(c),oe,j):u.eventCache.getNode().hasChild(It)?h.filter.updateChild(Ie,It,mn.EMPTY_NODE,Pn(c),oe,j):Ie,Re.isEmpty()&&u.serverCache.isFullyInitialized()&&(q=vo(_,yt(u)),q.isLeafNode()&&(Re=h.filter.updateFullNode(Re,q,j)))}return q=u.serverCache.isFullyInitialized()||null!=Xa(_,An()),ee(u,Re,q,h.filter.filtersNodes())}}(h,u,Re.path,_,M,j):function nl(h,u,c,_,M,j,q){if(null!=Xa(M,c))return u;const oe=u.serverCache.isFiltered(),Ie=u.serverCache;if(null!=_.value){if(er(c)&&Ie.isFullyInitialized()||Ie.isCompleteForPath(c))return oo(h,u,c,Ie.getNode().getChild(c),M,j,oe,q);if(er(c)){let Re=new Nn(null);return Ie.getNode().forEachChild(li,(It,At)=>{Re=Re.set(new Ln(It),At)}),tl(h,u,c,Re,M,j,oe,q)}return u}{let Re=new Nn(null);return _.foreach((It,At)=>{const Ft=Pr(c,It);Ie.isCompleteForPath(Ft)&&(Re=Re.set(It,Ie.getNode().getChild(Ft)))}),tl(h,u,c,Re,M,j,oe,q)}}(h,u,Re.path,Re.affectedTree,_,M,j)}else{if(c.type!==fs.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+c.type);q=function Ca(h,u,c,_,M){const j=u.serverCache;return to(h,me(u,j.getNode(),j.isFullyInitialized()||er(c),j.isFiltered()),c,_,On,M)}(h,u,c.path,_,j)}const Ie=j.getChanges();return function on(h,u,c){const _=u.eventCache;if(_.isFullyInitialized()){const M=_.getNode().isLeafNode()||_.getNode().isEmpty(),j=lt(h);(c.length>0||!h.eventCache.isFullyInitialized()||M&&!_.getNode().equals(j)||!_.getNode().getPriority().equals(j.getPriority()))&&c.push(Js(lt(u)))}}(u,q,Ie),{viewCache:q,changes:Ie}}(h.processor_,M,u,c,_);return function Xi(h,u){(0,H.hu)(u.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(u.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,j.viewCache),(0,H.hu)(j.viewCache.serverCache.isFullyInitialized()||!M.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=j.viewCache,wa(h,j.changes,j.viewCache.eventCache.getNode(),null)}function wa(h,u,c,_){return function ea(h,u,c,_){const M=[],j=[];return u.forEach(q=>{"child_changed"===q.type&&h.index_.indexedValueChanged(q.oldSnap,q.snapshotNode)&&j.push(function ra(h,u){return{type:"child_moved",snapshotNode:u,childName:h}}(q.childName,q.snapshotNode))}),va(h,M,"child_removed",u,_,c),va(h,M,"child_added",u,_,c),va(h,M,"child_moved",j,_,c),va(h,M,"child_changed",u,_,c),va(h,M,"value",u,_,c),M}(h.eventGenerator_,u,c,_?[_]:h.eventRegistrations_)}let Wi,ki;class Da{constructor(){this.views=new Map}}function dl(h,u,c,_){const M=u.source.queryId;if(null!==M){const j=h.views.get(M);return(0,H.hu)(null!=j,"SyncTree gave us an op for an invalid query."),Ps(j,u,c,_)}{let j=[];for(const q of h.views.values())j=j.concat(Ps(q,u,c,_));return j}}function Ql(h,u,c,_,M){const q=h.views.get(u._queryIdentifier);if(!q){let oe=vo(c,M?_:null),Ie=!1;oe?Ie=!0:_ instanceof mn?(oe=ja(c,_),Ie=!1):(oe=mn.EMPTY_NODE,Ie=!1);const Re=U(new ls(oe,Ie,!1),new ls(_,M,!1));return new rl(u,Re)}return q}function ba(h){const u=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function $o(h,u){let c=null;for(const _ of h.views.values())c=c||Eo(_,u);return c}function xo(h,u){return u._queryParams.loadsAllData()?Ga(h):h.views.get(u._queryIdentifier)}function Ta(h,u){return null!=xo(h,u)}function wo(h){return null!=Ga(h)}function Ga(h){for(const u of h.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let du=1;class T{constructor(u){this.listenProvider_=u,this.syncPointTree_=new Nn(null),this.pendingWriteTree_=function cu(){return{visibleWrites:Qn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function S(h,u,c,_,M){return function Ji(h,u,c,_,M){(0,H.hu)(_>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),h.allWrites.push({path:u,snap:c,writeId:_,visible:M}),M&&(h.visibleWrites=hr(h.visibleWrites,u,c)),h.lastWriteId=_}(h.pendingWriteTree_,u,c,_,M),M?qr(h,new eo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function F(h,u,c=!1){const _=function Gs(h,u){for(let c=0;c<h.allWrites.length;c++){const _=h.allWrites[c];if(_.writeId===u)return _}return null}(h.pendingWriteTree_,u);if(function hn(h,u){const c=h.allWrites.findIndex(oe=>oe.writeId===u);(0,H.hu)(c>=0,"removeWrite called with nonexistent writeId.");const _=h.allWrites[c];h.allWrites.splice(c,1);let M=_.visible,j=!1,q=h.allWrites.length-1;for(;M&&q>=0;){const oe=h.allWrites[q];oe.visible&&(q>=c&&In(oe,_.path)?M=!1:Yi(_.path,oe.path)&&(j=!0)),q--}return!!M&&(j?(function uu(h){h.visibleWrites=ft(h.allWrites,ln,An()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(_.snap?h.visibleWrites=Or(h.visibleWrites,_.path):Et(_.children,Ie=>{h.visibleWrites=Or(h.visibleWrites,Pr(_.path,Ie))}),!0))}(h.pendingWriteTree_,u)){let j=new Nn(null);return null!=_.snap?j=j.set(An(),!0):Et(_.children,q=>{j=j.set(new Ln(q),!0)}),qr(h,new sa(_.path,j,c))}return[]}function $(h,u,c){return qr(h,new eo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function et(h,u,c,_,M=!1){const j=u._path,q=h.syncPointTree_.get(j);let oe=[];if(q&&("default"===u._queryIdentifier||Ta(q,u))){const Ie=function Ia(h,u,c,_){const M=u._queryIdentifier,j=[];let q=[];const oe=wo(h);if("default"===M)for(const[Ie,Re]of h.views.entries())q=q.concat(Co(Re,c,_)),$a(Re)&&(h.views.delete(Ie),Re.query._queryParams.loadsAllData()||j.push(Re.query));else{const Ie=h.views.get(M);Ie&&(q=q.concat(Co(Ie,c,_)),$a(Ie)&&(h.views.delete(M),Ie.query._queryParams.loadsAllData()||j.push(Ie.query)))}return oe&&!wo(h)&&j.push(new(function Nl(){return(0,H.hu)(Wi,"Reference.ts has not been loaded"),Wi}())(u._repo,u._path)),{removed:j,events:q}}(q,u,c,_);(function ii(h){return 0===h.views.size})(q)&&(h.syncPointTree_=h.syncPointTree_.remove(j));const Re=Ie.removed;if(oe=Ie.events,!M){const It=-1!==Re.findIndex(Ft=>Ft._queryParams.loadsAllData()),At=h.syncPointTree_.findOnPath(j,(Ft,Cn)=>wo(Cn));if(It&&!At){const Ft=h.syncPointTree_.subtree(j);if(!Ft.isEmpty()){const Cn=function wl(h){return h.fold((u,c,_)=>{if(c&&wo(c))return[Ga(c)];{let M=[];return c&&(M=ba(c)),Et(_,(j,q)=>{M=M.concat(q)}),M}})}(Ft);for(let Zn=0;Zn<Cn.length;++Zn){const ai=Cn[Zn],Wo=ai.query,Tl=Do(h,ai);h.listenProvider_.startListening(Wa(Wo),Fs(h,Wo),Tl.hashFn,Tl.onComplete)}}}!At&&Re.length>0&&!_&&(It?h.listenProvider_.stopListening(Wa(u),null):Re.forEach(Ft=>{const Cn=h.queryToTagMap.get(il(Ft));h.listenProvider_.stopListening(Wa(Ft),Cn)}))}!function kl(h,u){for(let c=0;c<u.length;++c){const _=u[c];if(!_._queryParams.loadsAllData()){const M=il(_),j=h.queryToTagMap.get(M);h.queryToTagMap.delete(M),h.tagToQueryMap.delete(j)}}}(h,Re)}return oe}function Gt(h,u,c,_){const M=es(h,_);if(null!=M){const j=Sa(M),q=j.path,oe=j.queryId,Ie=Kr(q,u);return hl(h,q,new eo(Ba(oe),Ie,c))}return[]}function tn(h,u,c,_=!1){const M=u._path;let j=null,q=!1;h.syncPointTree_.foreachOnPath(M,(Ft,Cn)=>{const Zn=Kr(Ft,M);j=j||$o(Cn,Zn),q=q||wo(Cn)});let Ie,oe=h.syncPointTree_.get(M);oe?(q=q||wo(oe),j=j||$o(oe,An())):(oe=new Da,h.syncPointTree_=h.syncPointTree_.set(M,oe)),null!=j?Ie=!0:(Ie=!1,j=mn.EMPTY_NODE,h.syncPointTree_.subtree(M).foreachChild((Cn,Zn)=>{const ai=$o(Zn,An());ai&&(j=j.updateImmediateChild(Cn,ai))}));const Re=Ta(oe,u);if(!Re&&!u._queryParams.loadsAllData()){const Ft=il(u);(0,H.hu)(!h.queryToTagMap.has(Ft),"View does not exist, but we have a tag");const Cn=function fl(){return du++}();h.queryToTagMap.set(Ft,Cn),h.tagToQueryMap.set(Cn,Ft)}let At=function Oo(h,u,c,_,M,j){const q=Ql(h,u,_,M,j);return h.views.has(u._queryIdentifier)||h.views.set(u._queryIdentifier,q),function gt(h,u){h.eventRegistrations_.push(u)}(q,c),function aa(h,u){const c=h.viewCache_.eventCache,_=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Ur,(j,q)=>{_.push(Dn(j,q))}),c.isFullyInitialized()&&_.push(Js(c.getNode())),wa(h,_,c.getNode(),u)}(q,c)}(oe,u,c,jt(h.pendingWriteTree_,M),j,Ie);if(!Re&&!q&&!_){const Ft=xo(oe,u);At=At.concat(function Aa(h,u,c){const _=u._path,M=Fs(h,u),j=Do(h,c),q=h.listenProvider_.startListening(Wa(u),M,j.hashFn,j.onComplete),oe=h.syncPointTree_.subtree(_);if(M)(0,H.hu)(!wo(oe.value),"If we're adding a query, it shouldn't be shadowed");else{const Ie=oe.fold((Re,It,At)=>{if(!er(Re)&&It&&wo(It))return[Ga(It).query];{let Ft=[];return It&&(Ft=Ft.concat(ba(It).map(Cn=>Cn.query))),Et(At,(Cn,Zn)=>{Ft=Ft.concat(Zn)}),Ft}});for(let Re=0;Re<Ie.length;++Re){const It=Ie[Re];h.listenProvider_.stopListening(Wa(It),Fs(h,It))}}return q}(h,u,Ft))}return At}function kn(h,u,c){const M=h.pendingWriteTree_,j=h.syncPointTree_.findOnPath(u,(q,oe)=>{const Re=$o(oe,Kr(q,u));if(Re)return Re});return Ut(M,u,j,c,!0)}function qr(h,u){return Os(u,h.syncPointTree_,null,jt(h.pendingWriteTree_,An()))}function Os(h,u,c,_){if(er(h.path))return no(h,u,c,_);{const M=u.get(An());null==c&&null!=M&&(c=$o(M,An()));let j=[];const q=Mn(h.path),oe=h.operationForChild(q),Ie=u.children.get(q);if(Ie&&oe){const Re=c?c.getImmediateChild(q):null,It=tr(_,q);j=j.concat(Os(oe,Ie,Re,It))}return M&&(j=j.concat(dl(M,h,_,c))),j}}function no(h,u,c,_){const M=u.get(An());null==c&&null!=M&&(c=$o(M,An()));let j=[];return u.children.inorderTraversal((q,oe)=>{const Ie=c?c.getImmediateChild(q):null,Re=tr(_,q),It=h.operationForChild(q);It&&(j=j.concat(no(It,oe,Ie,Re)))}),M&&(j=j.concat(dl(M,h,_,c))),j}function Do(h,u){const c=u.query,_=Fs(h,c);return{hashFn:()=>(function Iu(h){return h.viewCache_.serverCache.getNode()}(u)||mn.EMPTY_NODE).hash(),onComplete:M=>{if("ok"===M)return _?function _e(h,u,c){const _=es(h,c);if(_){const M=Sa(_),j=M.path,q=M.queryId,oe=Kr(j,u);return hl(h,j,new Bo(Ba(q),oe))}return[]}(h,c._path,_):function he(h,u){return qr(h,new Bo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(h,c._path);{const j=function Ve(h,u){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const _=new Error(h+" at "+u._path.toString()+": "+c);return _.code=h.toUpperCase(),_}(M,c);return et(h,c,null,j)}}}}function Fs(h,u){const c=il(u);return h.queryToTagMap.get(c)}function il(h){return h._path.toString()+"$"+h._queryIdentifier}function es(h,u){return h.tagToQueryMap.get(u)}function Sa(h){const u=h.indexOf("$");return(0,H.hu)(-1!==u&&u<h.length-1,"Bad queryKey."),{queryId:h.substr(u+1),path:new Ln(h.substr(0,u))}}function hl(h,u,c){const _=h.syncPointTree_.get(u);return(0,H.hu)(_,"Missing sync point for query tag that we're tracking"),dl(_,c,jt(h.pendingWriteTree_,u),null)}function Wa(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Fi(){return(0,H.hu)(ki,"Reference.ts has not been loaded"),ki}())(h._repo,h._path):h}class za{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new za(c)}node(){return this.node_}}class Dl{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=Pr(this.path_,u);return new Dl(this.syncTree_,c)}node(){return kn(this.syncTree_,this.path_)}}const Hr=function(h,u,c){return h&&"object"==typeof h?((0,H.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?si(h[".sv"],u,c):"object"==typeof h[".sv"]?ua(h[".sv"],u):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},si=function(h,u,c){if("timestamp"===h)return c.timestamp;(0,H.hu)(!1,"Unexpected server value: "+h)},ua=function(h,u,c){h.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const _=h.increment;"number"!=typeof _&&(0,H.hu)(!1,"Unexpected increment value: "+_);const M=u.node();if((0,H.hu)(null!=M,"Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return _;const q=M.getValue();return"number"!=typeof q?_:q+_},Ma=function(h,u,c,_){return ts(u,new Dl(c,h),_)},Jl=function(h,u,c){return ts(h,new za(u),c)};function ts(h,u,c){const _=h.getPriority().val(),M=Hr(_,u.getImmediateChild(".priority"),c);let j;if(h.isLeafNode()){const q=h,oe=Hr(q.getValue(),u,c);return oe!==q.getValue()||M!==q.getPriority().val()?new ks(oe,vr(M)):h}{const q=h;return j=q,M!==q.getPriority().val()&&(j=j.updatePriority(new ks(M))),q.forEachChild(Ur,(oe,Ie)=>{const Re=ts(Ie,u.getImmediateChild(oe),c);Re!==Ie&&(j=j.updateImmediateChild(oe,Re))}),j}}class sl{constructor(u="",c=null,_={children:{},childCount:0}){this.name=u,this.parent=c,this.node=_}}function pl(h,u){let c=u instanceof Ln?u:new Ln(u),_=h,M=Mn(c);for(;null!==M;){const j=(0,H.DV)(_.node.children,M)||{children:{},childCount:0};_=new sl(M,_,j),c=Pn(c),M=Mn(c)}return _}function ta(h){return h.node.value}function Pa(h,u){h.node.value=u,Ka(h)}function zu(h){return h.node.childCount>0}function gl(h,u){Et(h.node.children,(c,_)=>{u(new sl(c,h,_))})}function Fl(h,u,c,_){c&&!_&&u(h),gl(h,M=>{Fl(M,u,!0,_)}),c&&_&&u(h)}function Oa(h){return new Ln(null===h.parent?h.name:Oa(h.parent)+"/"+h.name)}function Ka(h){null!==h.parent&&function bu(h,u,c){const _=function hu(h){return void 0===ta(h)&&!zu(h)}(c),M=(0,H.r3)(h.node.children,u);_&&M?(delete h.node.children[u],h.node.childCount--,Ka(h)):!_&&!M&&(h.node.children[u]=c.node,h.node.childCount++,Ka(h))}(h.parent,h.name,h)}const ol=/[\[\].#$\/\u0000-\u001F\u007F]/,Xl=/[\[\].#$\u0000-\u001F\u007F]/,Si=10485760,ro=function(h){return"string"==typeof h&&0!==h.length&&!ol.test(h)},Ls=function(h){return"string"==typeof h&&0!==h.length&&!Xl.test(h)},ca=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!nt(h)||h&&"object"==typeof h&&(0,H.r3)(h,".sv")},ys=function(h,u,c,_){_&&void 0===u||Vs((0,H.gK)(h,"value"),u,c)},Vs=function(h,u,c){const _=c instanceof Ln?new Bs(c,h):c;if(void 0===u)throw new Error(h+"contains undefined "+Ze(_));if("function"==typeof u)throw new Error(h+"contains a function "+Ze(_)+" with contents = "+u.toString());if(nt(u))throw new Error(h+"contains "+u.toString()+" "+Ze(_));if("string"==typeof u&&u.length>Si/3&&(0,H.ug)(u)>Si)throw new Error(h+"contains a string greater than "+Si+" utf8 bytes "+Ze(_)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let M=!1,j=!1;if(Et(u,(q,oe)=>{if(".value"===q)M=!0;else if(".priority"!==q&&".sv"!==q&&(j=!0,!ro(q)))throw new Error(h+" contains an invalid key ("+q+") "+Ze(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bs(h,u){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(u),h.byteLength_+=(0,H.ug)(u),fe(h)})(_,q),Vs(h,oe,_),function js(h){const u=h.parts_.pop();h.byteLength_-=(0,H.ug)(u),h.parts_.length>0&&(h.byteLength_-=1)}(_)}),M&&j)throw new Error(h+' contains ".value" child '+Ze(_)+" in addition to actual children.")}},eu=function(h,u,c,_){if(_&&void 0===u)return;const M=(0,H.gK)(h,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(M+" must be an object containing the children to replace.");const j=[];Et(u,(q,oe)=>{const Ie=new Ln(q);if(Vs(M,oe,Pr(c,Ie)),".priority"===ko(Ie)&&!ca(oe))throw new Error(M+"contains an invalid value for '"+Ie.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");j.push(Ie)}),function(h,u){let c,_;for(c=0;c<u.length;c++){_=u[c];const j=jr(_);for(let q=0;q<j.length;q++)if((".priority"!==j[q]||q!==j.length-1)&&!ro(j[q]))throw new Error(h+"contains an invalid key ("+j[q]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(rs);let M=null;for(c=0;c<u.length;c++){if(_=u[c],null!==M&&Yi(M,_))throw new Error(h+"contains a path "+M.toString()+" that is ancestor of another path "+_.toString());M=_}}(M,j)},Ll=function(h,u,c,_){if(!(_&&void 0===c||Ls(c)))throw new Error((0,H.gK)(h,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Io=function(h,u){if(".info"===Mn(u))throw new Error(h+" failed = Can't modify data under /.info/")};class Vl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ul(h,u){let c=null;for(let _=0;_<u.length;_++){const M=u[_],j=M.getPath();null!==c&&!qs(j,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:j}),c.events.push(M)}c&&h.eventLists_.push(c)}function Bl(h,u,c){Ul(h,c),nu(h,_=>qs(_,u))}function xs(h,u,c){Ul(h,c),nu(h,_=>Yi(_,u)||Yi(u,_))}function nu(h,u){h.recursionDepth_++;let c=!0;for(let _=0;_<h.eventLists_.length;_++){const M=h.eventLists_[_];M&&(u(M.path)?(jl(h.eventLists_[_]),h.eventLists_[_]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function jl(h){for(let u=0;u<h.events.length;u++){const c=h.events[u];if(null!==c){h.events[u]=null;const _=c.getEventRunner();Pt&&je("event: "+c.toString()),wr(_)}}}class yl{constructor(u,c,_,M){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=_,this.appCheckProvider_=M,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zr(),this.transactionQueueTree_=new sl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ha(h){const c=h.infoData_.getNode(new Ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function zi(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:ha(h)})}function I(h,u,c,_,M){h.dataUpdateCount++;const j=new Ln(u);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(u,c):c;let q=[];if(M)if(_){const Ie=(0,H.UI)(c,Re=>vr(Re));q=function _n(h,u,c,_){const M=es(h,_);if(M){const j=Sa(M),q=j.path,oe=j.queryId,Ie=Kr(q,u),Re=Nn.fromObject(c);return hl(h,q,new Xo(Ba(oe),Ie,Re))}return[]}(h.serverSyncTree_,j,Ie,M)}else{const Ie=vr(c);q=Gt(h.serverSyncTree_,j,Ie,M)}else if(_){const Ie=(0,H.UI)(c,Re=>vr(Re));q=function J(h,u,c){const _=Nn.fromObject(c);return qr(h,new Xo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,_))}(h.serverSyncTree_,j,Ie)}else{const Ie=vr(c);q=$(h.serverSyncTree_,j,Ie)}let oe=j;q.length>0&&(oe=Rs(h,j)),xs(h.eventQueue_,oe,q)}function v(h,u){x(h,"connected",u),!1===u&&function Qe(h){Nr(h,"onDisconnectEvents");const u=zi(h),c=Zr();Jr(h.onDisconnect_,An(),(M,j)=>{const q=Ma(M,j,h.serverSyncTree_,u);Gi(c,M,q)});let _=[];Jr(c,An(),(M,j)=>{_=_.concat($(h.serverSyncTree_,M,j));const q=Z(h,M);Rs(h,q)}),h.onDisconnect_=Zr(),xs(h.eventQueue_,An(),_)}(h)}function x(h,u,c){const _=new Ln("/.info/"+u),M=vr(c);h.infoData_.updateSnapshot(_,M);const j=$(h.infoSyncTree_,_,M);xs(h.eventQueue_,_,j)}function z(h){return h.nextWriteId_++}function wt(h,u,c){h.server_.onDisconnectCancel(u.toString(),(_,M)=>{"ok"===_&&Hs(h.onDisconnect_,u),Li(0,c,_,M)})}function nn(h,u,c,_){const M=vr(c);h.server_.onDisconnectPut(u.toString(),M.val(!0),(j,q)=>{"ok"===j&&Gi(h.onDisconnect_,u,M),Li(0,_,j,q)})}function fn(h,u,c){let _;_=".info"===Mn(u._path)?et(h.infoSyncTree_,u,c):et(h.serverSyncTree_,u,c),Bl(h.eventQueue_,u._path,_)}function Nr(h,...u){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),je(c,...u)}function Li(h,u,c,_){u&&wr(()=>{if("ok"===c)u(null);else{const M=(c||"error").toUpperCase();let j=M;_&&(j+=": "+_);const q=new Error(j);q.code=M,u(q)}})}function vs(h,u,c){return kn(h.serverSyncTree_,u,c)||mn.EMPTY_NODE}function bo(h,u=h.transactionQueueTree_){if(u||N(h,u),ta(u)){const c=m(h,u);(0,H.hu)(c.length>0,"Sending zero length transaction queue"),c.every(M=>0===M.status)&&function fa(h,u,c){const _=c.map(Re=>Re.currentWriteId),M=vs(h,u,_);let j=M;const q=M.hash();for(let Re=0;Re<c.length;Re++){const It=c[Re];(0,H.hu)(0===It.status,"tryToSendTransactionQueue_: items in queue should all be run."),It.status=1,It.retryCount++;const At=Kr(u,It.path);j=j.updateChild(At,It.currentOutputSnapshotRaw)}const oe=j.val(!0),Ie=u;h.server_.put(Ie.toString(),oe,Re=>{Nr(h,"transaction put response",{path:Ie.toString(),status:Re});let It=[];if("ok"===Re){const At=[];for(let Ft=0;Ft<c.length;Ft++)c[Ft].status=2,It=It.concat(F(h.serverSyncTree_,c[Ft].currentWriteId)),c[Ft].onComplete&&At.push(()=>c[Ft].onComplete(null,!0,c[Ft].currentOutputSnapshotResolved)),c[Ft].unwatcher();N(h,pl(h.transactionQueueTree_,u)),bo(h,h.transactionQueueTree_),xs(h.eventQueue_,u,It);for(let Ft=0;Ft<At.length;Ft++)wr(At[Ft])}else{if("datastale"===Re)for(let At=0;At<c.length;At++)c[At].status=3===c[At].status?4:0;else{Ht("transaction at "+Ie.toString()+" failed: "+Re);for(let At=0;At<c.length;At++)c[At].status=4,c[At].abortReason=Re}Rs(h,u)}},q)}(h,Oa(u),c)}else zu(u)&&gl(u,c=>{bo(h,c)})}function Rs(h,u){const c=P(h,u),_=Oa(c);return function ao(h,u,c){if(0===u.length)return;const _=[];let M=[];const q=u.filter(oe=>0===oe.status).map(oe=>oe.currentWriteId);for(let oe=0;oe<u.length;oe++){const Ie=u[oe],Re=Kr(c,Ie.path);let At,It=!1;if((0,H.hu)(null!==Re,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ie.status)It=!0,At=Ie.abortReason,M=M.concat(F(h.serverSyncTree_,Ie.currentWriteId,!0));else if(0===Ie.status)if(Ie.retryCount>=25)It=!0,At="maxretry",M=M.concat(F(h.serverSyncTree_,Ie.currentWriteId,!0));else{const Ft=vs(h,Ie.path,q);Ie.currentInputSnapshot=Ft;const Cn=u[oe].update(Ft.val());if(void 0!==Cn){Vs("transaction failed: Data returned ",Cn,Ie.path);let Zn=vr(Cn);"object"==typeof Cn&&null!=Cn&&(0,H.r3)(Cn,".priority")||(Zn=Zn.updatePriority(Ft.getPriority()));const Wo=Ie.currentWriteId,Tl=zi(h),Cs=Jl(Zn,Ft,Tl);Ie.currentOutputSnapshotRaw=Zn,Ie.currentOutputSnapshotResolved=Cs,Ie.currentWriteId=z(h),q.splice(q.indexOf(Wo),1),M=M.concat(S(h.serverSyncTree_,Ie.path,Cs,Ie.currentWriteId,Ie.applyLocally)),M=M.concat(F(h.serverSyncTree_,Wo,!0))}else It=!0,At="nodata",M=M.concat(F(h.serverSyncTree_,Ie.currentWriteId,!0))}xs(h.eventQueue_,c,M),M=[],It&&(u[oe].status=2,setTimeout(u[oe].unwatcher,Math.floor(0)),u[oe].onComplete&&_.push("nodata"===At?()=>u[oe].onComplete(null,!1,u[oe].currentInputSnapshot):()=>u[oe].onComplete(new Error(At),!1,null)))}N(h,h.transactionQueueTree_);for(let oe=0;oe<_.length;oe++)wr(_[oe]);bo(h,h.transactionQueueTree_)}(h,m(h,c),_),_}function P(h,u){let c,_=h.transactionQueueTree_;for(c=Mn(u);null!==c&&void 0===ta(_);)_=pl(_,c),c=Mn(u=Pn(u));return _}function m(h,u){const c=[];return E(h,u,c),c.sort((_,M)=>_.order-M.order),c}function E(h,u,c){const _=ta(u);if(_)for(let M=0;M<_.length;M++)c.push(_[M]);gl(u,M=>{E(h,M,c)})}function N(h,u){const c=ta(u);if(c){let _=0;for(let M=0;M<c.length;M++)2!==c[M].status&&(c[_]=c[M],_++);c.length=_,Pa(u,c.length>0?c:void 0)}gl(u,_=>{N(h,_)})}function Z(h,u){const c=Oa(P(h,u)),_=pl(h.transactionQueueTree_,u);return function ml(h,u,c){let _=c?h:h.parent;for(;null!==_;){if(u(_))return!0;_=_.parent}}(_,M=>{le(h,M)}),le(h,_),Fl(_,M=>{le(h,M)}),c}function le(h,u){const c=ta(u);if(c){const _=[];let M=[],j=-1;for(let q=0;q<c.length;q++)3===c[q].status||(1===c[q].status?((0,H.hu)(j===q-1,"All SENT items should be at beginning of queue."),j=q,c[q].status=3,c[q].abortReason="set"):((0,H.hu)(0===c[q].status,"Unexpected transaction status in abort"),c[q].unwatcher(),M=M.concat(F(h.serverSyncTree_,c[q].currentWriteId,!0)),c[q].onComplete&&_.push(c[q].onComplete.bind(null,new Error("set"),!1,null))));-1===j?Pa(u,void 0):c.length=j+1,xs(h.eventQueue_,Oa(u),M);for(let q=0;q<_.length;q++)wr(_[q])}}const Mt=function(h,u){const c=$t(h),_=c.namespace;return"firebase.com"===c.domain&&it(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==c.domain&&it("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ee(c.host,c.secure,_,"ws"===c.scheme||"wss"===c.scheme,u,"",_!==c.subdomain),path:new Ln(c.pathString)}},$t=function(h){let u="",c="",_="",M="",j="",q=!0,oe="https",Ie=443;if("string"==typeof h){let Re=h.indexOf("//");Re>=0&&(oe=h.substring(0,Re-1),h=h.substring(Re+2));let It=h.indexOf("/");-1===It&&(It=h.length);let At=h.indexOf("?");-1===At&&(At=h.length),u=h.substring(0,Math.min(It,At)),It<At&&(M=function ot(h){let u="";const c=h.split("/");for(let _=0;_<c.length;_++)if(c[_].length>0){let M=c[_];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch(j){}u+="/"+M}return u}(h.substring(It,At)));const Ft=function tt(h){const u={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const _=c.split("=");2===_.length?u[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Ht(`Invalid query segment '${c}' in query '${h}'`)}return u}(h.substring(Math.min(h.length,At)));Re=u.indexOf(":"),Re>=0?(q="https"===oe||"wss"===oe,Ie=parseInt(u.substring(Re+1),10)):Re=u.length;const Cn=u.slice(0,Re);if("localhost"===Cn.toLowerCase())c="localhost";else if(Cn.split(".").length<=2)c=Cn;else{const Zn=u.indexOf(".");_=u.substring(0,Zn).toLowerCase(),c=u.substring(Zn+1),j=_}"ns"in Ft&&(j=Ft.ns)}return{host:u,port:Ie,domain:c,subdomain:_,secure:q,scheme:oe,pathString:M,namespace:j}},an="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qn=function(){let h=0;const u=[];return function(c){const _=c===h;let M;h=c;const j=new Array(8);for(M=7;M>=0;M--)j[M]=an.charAt(c%64),c=Math.floor(c/64);(0,H.hu)(0===c,"Cannot push at time == 0");let q=j.join("");if(_){for(M=11;M>=0&&63===u[M];M--)u[M]=0;u[M]++}else for(M=0;M<12;M++)u[M]=Math.floor(64*Math.random());for(M=0;M<12;M++)q+=an.charAt(u[M]);return(0,H.hu)(20===q.length,"nextPushId: Length should be 20."),q}}();class ns{constructor(u,c,_,M){this.eventType=u,this.eventRegistration=c,this.snapshot=_,this.prevName=M}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class Es{constructor(u,c,_){this.eventRegistration=u,this.error=c,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Go{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class oi{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new H.BH;return wt(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Io("OnDisconnect.remove",this._path);const u=new H.BH;return nn(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Io("OnDisconnect.set",this._path),ys("OnDisconnect.set",u,this._path,!1);const c=new H.BH;return nn(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){Io("OnDisconnect.setWithPriority",this._path),ys("OnDisconnect.setWithPriority",u,this._path,!1),function(h,u,c){if(!c||void 0!==u){if(nt(u))throw new Error((0,H.gK)(h,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ca(u))throw new Error((0,H.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",c,!1);const _=new H.BH;return function gn(h,u,c,_,M){const j=vr(c,_);h.server_.onDisconnectPut(u.toString(),j.val(!0),(q,oe)=>{"ok"===q&&Gi(h.onDisconnect_,u,j),Li(0,M,q,oe)})}(this._repo,this._path,u,c,_.wrapCallback(()=>{})),_.promise}update(u){Io("OnDisconnect.update",this._path),eu("OnDisconnect.update",u,this._path,!1);const c=new H.BH;return function Vn(h,u,c,_){if((0,H.xb)(c))return je("onDisconnect().update() called with empty data.  Don't do anything."),void Li(0,_,"ok",void 0);h.server_.onDisconnectMerge(u.toString(),c,(M,j)=>{"ok"===M&&Et(c,(q,oe)=>{const Ie=vr(oe);Gi(h.onDisconnect_,Pr(u,q),Ie)}),Li(0,_,M,j)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class Ws{constructor(u,c,_,M){this._repo=u,this._path=c,this._queryParams=_,this._orderByCalled=M}get key(){return er(this._path)?null:ko(this._path)}get ref(){return new Vi(this._repo,this._path)}get _queryIdentifier(){const u=X(this._queryParams),c=Yt(u);return"{}"===c?"default":c}get _queryObject(){return X(this._queryParams)}isEqual(u){if(!((u=(0,H.m9)(u))instanceof Ws))return!1;const c=this._repo===u._repo,_=qs(this._path,u._path);return c&&_&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fo(h){let u="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(u+="/"+encodeURIComponent(String(h.pieces_[c])));return u||"/"}(this._path)}}class Vi extends Ws{constructor(u,c){super(u,c,new ei,!1)}get parent(){const u=ji(this._path);return null===u?null:new Vi(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class To{constructor(u,c,_){this._node=u,this.ref=c,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new Ln(u),_=zs(this.ref,u);return new To(this._node.getChild(c),_,Ur)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,M)=>u(new To(M,zs(this.ref,_),Ur)))}hasChild(u){const c=new Ln(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ro(h,u){return(h=(0,H.m9)(h))._checkNotDeleted("ref"),void 0!==u?zs(h._root,u):h._root}function zs(h,u){return null===Mn((h=(0,H.m9)(h))._path)?(c=u,c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Ll("child","path",c,!1)):Ll("child","path",u,!1),new Vi(h._repo,Pr(h._path,u));var c}function us(h){return h=(0,H.m9)(h),new oi(h._repo,h._path)}function iu(h,u){h=(0,H.m9)(h),Io("push",h._path),ys("push",u,h._path,!0);const c=ha(h._repo),_=qn(c),M=zs(h,_),j=zs(h,_);let q;return q=null!=u?xa(j,u).then(()=>j):Promise.resolve(j),M.then=q.then.bind(q),M.catch=q.then.bind(q,void 0),M}function Qd(h){return Io("remove",h._path),xa(h,null)}function xa(h,u){h=(0,H.m9)(h),Io("set",h._path),ys("set",u,h._path,!1);const c=new H.BH;return function ye(h,u,c,_,M){Nr(h,"set",{path:u.toString(),value:c,priority:_});const j=zi(h),q=vr(c,_),oe=kn(h.serverSyncTree_,u),Ie=Jl(q,oe,j),Re=z(h),It=S(h.serverSyncTree_,u,Ie,Re,!0);Ul(h.eventQueue_,It),h.server_.put(u.toString(),q.val(!0),(Ft,Cn)=>{const Zn="ok"===Ft;Zn||Ht("set at "+u+" failed: "+Ft);const ai=F(h.serverSyncTree_,Re,!Zn);xs(h.eventQueue_,u,ai),Li(0,M,Ft,Cn)});const At=Z(h,u);Rs(h,At),xs(h.eventQueue_,At,[])}(h._repo,h._path,u,null,c.wrapCallback(()=>{})),c.promise}function Tf(h,u){eu("update",u,h._path,!1);const c=new H.BH;return function Te(h,u,c,_){Nr(h,"update",{path:u.toString(),value:c});let M=!0;const j=zi(h),q={};if(Et(c,(oe,Ie)=>{M=!1,q[oe]=Ma(Pr(u,oe),vr(Ie),h.serverSyncTree_,j)}),M)je("update() called with empty data.  Don't do anything."),Li(0,_,"ok",void 0);else{const oe=z(h),Ie=function D(h,u,c,_){!function jo(h,u,c,_){(0,H.hu)(_>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:u,children:c,writeId:_,visible:!0}),h.visibleWrites=ui(h.visibleWrites,u,c),h.lastWriteId=_}(h.pendingWriteTree_,u,c,_);const M=Nn.fromObject(c);return qr(h,new Xo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,M))}(h.serverSyncTree_,u,q,oe);Ul(h.eventQueue_,Ie),h.server_.merge(u.toString(),c,(Re,It)=>{const At="ok"===Re;At||Ht("update at "+u+" failed: "+Re);const Ft=F(h.serverSyncTree_,oe,!At),Cn=Ft.length>0?Rs(h,u):u;xs(h.eventQueue_,Cn,Ft),Li(0,_,Re,It)}),Et(c,Re=>{const It=Z(h,Pr(u,Re));Rs(h,It)}),xs(h.eventQueue_,u,[])}}(h._repo,h._path,u,c.wrapCallback(()=>{})),c.promise}function Sf(h){h=(0,H.m9)(h);const u=new Go(()=>{}),c=new br(u);return function te(h,u,c){const _=function Er(h,u){const c=u._path;let _=null;h.syncPointTree_.foreachOnPath(c,(Re,It)=>{const At=Kr(Re,c);_=_||$o(It,At)});let M=h.syncPointTree_.get(c);M?_=_||$o(M,An()):(M=new Da,h.syncPointTree_=h.syncPointTree_.set(c,M));const j=null!=_,q=j?new ls(_,!0,!1):null;return function cl(h){return lt(h.viewCache_)}(Ql(M,u,jt(h.pendingWriteTree_,u._path),j?q.getNode():mn.EMPTY_NODE,j))}(h.serverSyncTree_,u);return null!=_?Promise.resolve(_):h.server_.get(u).then(M=>{const j=vr(M).withIndex(u._queryParams.getIndex());let q;if(tn(h.serverSyncTree_,u,c,!0),u._queryParams.loadsAllData())q=$(h.serverSyncTree_,u._path,j);else{const oe=Fs(h.serverSyncTree_,u);q=Gt(h.serverSyncTree_,u._path,j,oe)}return xs(h.eventQueue_,u._path,q),et(h.serverSyncTree_,u,c,null,!0),j},M=>(Nr(h,"get for query "+(0,H.Wl)(u)+" failed: "+M),Promise.reject(new Error(M))))}(h._repo,h,c).then(_=>new To(_,new Vi(h._repo,h._path),h._queryParams.getIndex()))}class br{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const _=c._queryParams.getIndex();return new ns("value",this,new To(u.snapshotNode,new Vi(c._repo,c._path),_))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Es(this,u,c):null}matches(u){return u instanceof br&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bc{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Es(this,u,c):null}createEvent(u,c){(0,H.hu)(null!=u.childName,"Child events should have a childName.");const _=zs(new Vi(c._repo,c._path),u.childName),M=c._queryParams.getIndex();return new ns(u.type,this,new To(u.snapshotNode,_,M),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof bc&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qu(h,u,c,_){return function fu(h,u,c,_,M){let j;if("object"==typeof _&&(j=void 0,M=_),"function"==typeof _&&(j=_),M&&M.onlyOnce){const Ie=c,Re=(It,At)=>{fn(h._repo,h,oe),Ie(It,At)};Re.userCallback=c.userCallback,Re.context=c.context,c=Re}const q=new Go(c,j||void 0),oe="value"===u?new br(q):new bc(u,q);return function Gn(h,u,c){let _;_=".info"===Mn(u._path)?tn(h.infoSyncTree_,u,c):tn(h.serverSyncTree_,u,c),Bl(h.eventQueue_,u._path,_)}(h._repo,h,oe),()=>fn(h._repo,h,oe)}(h,"value",u,c,_)}function rd(h,u,c){let _=null;const M=c?new Go(c):null;"value"===u?_=new br(M):u&&(_=new bc(u,M)),fn(h._repo,h,_)}(function Ho(h){(0,H.hu)(!Wi,"__referenceConstructor has already been defined"),Wi=h})(Vi),function la(h){(0,H.hu)(!ki,"__referenceConstructor has already been defined"),ki=h}(Vi);const ad={};function sh(h,u,c,_,M){let j=_||h.options.databaseURL;void 0===j&&(h.options.projectId||it("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",h.options.projectId),j=`${h.options.projectId}-default-rtdb.firebaseio.com`);let Ie,Re,q=Mt(j,M),oe=q.repoInfo;"undefined"!=typeof process&&process.env&&(Re=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Re?(Ie=!0,j=`http://${Re}?ns=${oe.namespace}`,q=Mt(j,M),oe=q.repoInfo):Ie=!q.repoInfo.secure;const It=M&&Ie?new Wr(Wr.OWNER):new ar(h.name,h.options,u);(function(h,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!ro(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Ls(h)}(c))throw new Error((0,H.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",q),er(q.path)||it("Database URL must point to the root of a Firebase Database (not including a child path).");const At=function ah(h,u,c,_){let M=ad[u.name];M||(M={},ad[u.name]=M);let j=M[h.toURLString()];return j&&it("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),j=new yl(h,false,c,_),M[h.toURLString()]=j,j}(oe,h,It,new kr(h.name,c));return new Ig(At,h)}class Ig{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Il(h,u,c){if(h.stats_=Jt(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new mt(h.repoInfo_,(_,M,j,q)=>{I(h,_,M,j,q)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>v(h,!0),0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(c)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}h.persistentConnection_=new mr(h.repoInfo_,u,(_,M,j,q)=>{I(h,_,M,j,q)},_=>{v(h,_)},_=>{!function y(h,u){Et(u,(c,_)=>{x(h,c,_)})}(h,_)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(_=>{h.server_.refreshAuthToken(_)}),h.appCheckProvider_.addTokenChangeListener(_=>{h.server_.refreshAppCheckToken(_.token)}),h.statsReporter_=function zn(h,u){const c=h.toString();return gr[c]||(gr[c]=u()),gr[c]}(h.repoInfo_,()=>new _a(h.stats_,h.server_)),h.infoData_=new cn,h.infoSyncTree_=new T({startListening:(_,M,j,q)=>{let oe=[];const Ie=h.infoData_.getNode(_._path);return Ie.isEmpty()||(oe=$(h.infoSyncTree_,_._path,Ie),setTimeout(()=>{q("ok")},0)),oe},stopListening:()=>{}}),x(h,"connected",!1),h.serverSyncTree_=new T({startListening:(_,M,j,q)=>(h.server_.listen(_,j,M,(oe,Ie)=>{const Re=q(oe,Ie);xs(h.eventQueue_,_._path,Re)}),[]),stopListening:(_,M)=>{h.server_.unlisten(_,M)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vi(this._repo,An())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oh(h,u){const c=ad[u];(!c||c[h.key]!==h)&&it(`Database ${u}(${h.repoInfo_}) has already been deleted.`),function Un(h){h.persistentConnection_&&h.persistentConnection_.interrupt("repo_interrupt")}(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&it("Cannot call "+u+" on a deleted database.")}}function yu(h=(0,b.Mq)(),u){const c=(0,b.qX)(h,"database").getImmediate({identifier:u});if(!c._instanceStarted){const _=(0,H.P0)("database");_&&function tc(h,u,c,_={}){(h=(0,H.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&it("Cannot call useEmulator() after instance has already been initialized.");const M=h._repoInternal;let j;if(M.repoInfo_.nodeAdmin)_.mockUserToken&&it('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),j=new Wr(Wr.OWNER);else if(_.mockUserToken){const q="string"==typeof _.mockUserToken?_.mockUserToken:(0,H.Sg)(_.mockUserToken,h.app.options.projectId);j=new Wr(q)}!function Xu(h,u,c,_){h.repoInfo_=new Ee(`${u}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),_&&(h.authTokenProvider_=_)}(M,u,c,j)}(c,..._)}return c}const bl={".sv":"timestamp"};function dh(){return bl}function nc(h){return{".sv":{increment:h}}}mr.prototype.simpleListen=function(h,u){this.sendRequest("q",{p:h},u)},mr.prototype.echo=function(h,u){this.sendRequest("echo",{d:h},u)},function ch(h){(function Se(h){se=h})(b.Jn),(0,b.Xd)(new ie.wA("database",(u,{instanceIdentifier:c})=>sh(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,b.KN)(pe,"0.14.3",h),(0,b.KN)(pe,"0.14.3","esm2017")}()},9996:(xt,Pe,A)=>{A.d(Pe,{ET:()=>Ym,hJ:()=>Xh,oe:()=>y_,JU:()=>qc,ST:()=>Qc,Lx:()=>Hm,QT:()=>zm,kl:()=>g_,PL:()=>m_,ad:()=>Yc,b9:()=>jm,cf:()=>Qm,Xo:()=>c_,IO:()=>Bm,Bt:()=>Xm,TQ:()=>h_,r7:()=>qm});var se,p=A(5861),b=A(6881),ie=A(4859),H=A(1877),ge=A(2090),pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},we={},Se=Se||{},re=pe||self;function ue(){}function ve(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function rt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ne="closure_uid_"+(1e9*Math.random()>>>0),Ye=0;function $e(i,e,t){return i.call.apply(i.bind,arguments)}function Je(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Pt(i,e,t){return(Pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$e:Je).apply(null,arguments)}function Qt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ze(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,l,f){for(var C=Array(arguments.length-2),R=2;R<arguments.length;R++)C[R-2]=arguments[R];return e.prototype[l].apply(o,C)}}function je(){this.s=this.s,this.o=this.o}je.prototype.s=!1,je.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function qe(i){Object.prototype.hasOwnProperty.call(i,Ne)&&i[Ne]||(i[Ne]=++Ye)}(this)},je.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function it(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ht(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ve(o)){const l=i.length||0,f=o.length||0;i.length=l+f;for(let C=0;C<f;C++)i[l+C]=o[C]}else i.push(o)}}function Ot(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{re.addEventListener("test",ue,e),re.removeEventListener("test",ue,e)}catch(t){}return i}();function We(i){return/^[\s\xa0]*$/.test(i)}var pt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function He(i,e){return i<e?-1:i>e?1:0}function Vt(){var i=re.navigator;return i&&(i=i.userAgent)?i:""}function dt(i){return-1!=Vt().indexOf(i)}function zt(i){return zt[" "](i),i}zt[" "]=ue;var St,i,Bt=dt("Opera"),Et=dt("Trident")||dt("MSIE"),pr=dt("Edge"),Tt=pr||Et,st=dt("Gecko")&&!(-1!=Vt().toLowerCase().indexOf("webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Ve=-1!=Vt().toLowerCase().indexOf("webkit")&&!dt("Edge");function Xe(){var i=re.document;return i?i.documentMode:void 0}e:{var Tn="",rr=(i=Vt(),st?/rv:([^\);]+)(\)|;)/.exec(i):pr?/Edge\/([\d\.]+)/.exec(i):Et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ve?/WebKit\/(\S+)/.exec(i):Bt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(rr&&(Tn=rr?rr[1]:""),Et){var wr=Xe();if(null!=wr&&wr>parseFloat(Tn)){St=String(wr);break e}}St=Tn}var Dr={};var Wr=re.document&&Et&&(Xe()||parseInt(St,10))||void 0;function Ci(i,e){if(Ot.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(st){e:{try{zt(e.nodeName);var l=!0;break e}catch(f){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mi[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ci.X.h.call(this)}}ze(Ci,Ot);var Mi={2:"touch",3:"pen",4:"mouse"};Ci.prototype.h=function(){Ci.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var sn="closure_listenable_"+(1e6*Math.random()|0),wi=0;function Ns(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++wi,this.ba=this.ea=!1}function Fr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Pi(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function vi(i){const e={};for(const t in i)e[t]=i[t];return e}const Lr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let f=0;f<Lr.length;f++)t=Lr[f],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function be(i){this.src=i,this.g={},this.h=0}function Ee(i,e){var t=e.type;if(t in i.g){var f,o=i.g[t],l=Rt(o,e);(f=0<=l)&&Array.prototype.splice.call(o,l,1),f&&(Fr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function at(i,e,t,o){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ba&&f.listener==e&&f.capture==!!t&&f.ha==o)return l}return-1}be.prototype.add=function(i,e,t,o,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var C=at(i,e,o,l);return-1<C?(e=i[C],t||(e.ea=!1)):((e=new Ns(e,this.src,f,!!o,l)).ea=t,i.push(e)),e};var _t="closure_lm_"+(1e6*Math.random()|0),yn={};function Sn(i,e,t,o,l){if(o&&o.once)return zn(i,e,t,o,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Sn(i,e[f],t,o,l);return null}return t=Gr(t),i&&i[sn]?i.N(e,t,rt(o)?!!o.capture:!!o,l):gr(i,e,t,!1,o,l)}function gr(i,e,t,o,l,f){if(!e)throw Error("Invalid event type");var C=rt(l)?!!l.capture:!!l,R=Xn(i);if(R||(i[_t]=R=new be(i)),(t=R.add(e,t,o,C,f)).proxy)return t;if(o=function Jt(){const e=Bn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)nt||(l=C),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(jn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function zn(i,e,t,o,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)zn(i,e[f],t,o,l);return null}return t=Gr(t),i&&i[sn]?i.O(e,t,rt(o)?!!o.capture:!!o,l):gr(i,e,t,!0,o,l)}function nr(i,e,t,o,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)nr(i,e[f],t,o,l);else o=rt(o)?!!o.capture:!!o,t=Gr(t),i&&i[sn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=at(f=i.g[e],t,o,l))&&(Fr(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=Xn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=at(e,t,o,l)),(t=-1<i?e[i]:null)&&di(t))}function di(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[sn])Ee(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(jn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Xn(e))?(Ee(t,i),0==t.h&&(t.src=null,e[_t]=null)):Fr(i)}}}function jn(i){return i in yn?yn[i]:yn[i]="on"+i}function Bn(i,e){if(i.ba)i=!0;else{e=new Ci(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&di(i),i=t.call(o,e)}return i}function Xn(i){return(i=i[_t])instanceof be?i:null}var ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gr(i){return"function"==typeof i?i:(i[ni]||(i[ni]=function(e){return i.handleEvent(e)}),i[ni])}function $n(){je.call(this),this.i=new be(this),this.P=this,this.I=null}function Ir(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ot(e,i);else if(e instanceof Ot)e.target=e.target||i;else{var l=e;Ke(e=new Ot(o,i),l)}if(l=!0,t)for(var f=t.length-1;0<=f;f--){var C=e.g=t[f];l=ri(C,o,!0,e)&&l}if(l=ri(C=e.g=i,o,!0,e)&&l,l=ri(C,o,!1,e)&&l,t)for(f=0;f<t.length;f++)l=ri(C=e.g=t[f],o,!1,e)&&l}function ri(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var C=e[f];if(C&&!C.ba&&C.capture==t){var R=C.listener,W=C.ha||C.src;C.ea&&Ee(i.i,C),l=!1!==R.call(W,o)&&l}}return l&&!o.defaultPrevented}ze($n,je),$n.prototype[sn]=!0,$n.prototype.removeEventListener=function(i,e,t,o){nr(this,i,e,t,o)},$n.prototype.M=function(){if($n.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Fr(t[o]);delete i.g[e],i.h--}}this.I=null},$n.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},$n.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Ei=re.JSON.stringify;function Oe(){var i=Br;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var dn,ke=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new bt,i=>i.reset());class bt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Be(i){re.setTimeout(()=>{throw i},0)}function en(i,e){dn||function Yn(){var i=re.Promise.resolve(void 0);dn=function(){i.then(Ue)}}(),ir||(dn(),ir=!0),Br.add(i,e)}var ir=!1,Br=new class De{constructor(){this.h=this.g=null}add(e,t){const o=ke.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ue(){for(var i;i=Oe();){try{i.h.call(i.g)}catch(t){Be(t)}var e=ke;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ir=!1}function Ce(i,e){$n.call(this),this.h=i||1,this.g=e||re,this.j=Pt(this.lb,this),this.l=Date.now()}function de(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Ge(i,e,t){if("function"==typeof i)t&&(i=Pt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Pt(i.handleEvent,i)}return 2147483647<Number(e)?-1:re.setTimeout(i,e||0)}function vt(i){i.g=Ge(()=>{i.g=null,i.i&&(i.i=!1,vt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ze(Ce,$n),(se=Ce.prototype).ca=!1,se.R=null,se.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ir(this,"tick"),this.ca&&(de(this),this.start()))}},se.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){Ce.X.M.call(this),de(this),delete this.g};class En extends je{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vt(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(i){je.call(this),this.h=i,this.g={}}ze(wn,je);var Me=[];function xe(i,e,t,o){Array.isArray(t)||(t&&(Me[0]=t.toString()),t=Me);for(var l=0;l<t.length;l++){var f=Sn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Dt(i){Pi(i.g,function(e,t){this.g.hasOwnProperty(t)&&di(e)},i),i.g={}}function Kt(){this.g=!0}function sr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var C=1;C<l.length;C++)l[C]=""}}}return Ei(t)}catch(R){return e}}(i,t)+(o?" "+o:"")})}wn.prototype.M=function(){wn.X.M.call(this),Dt(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kt.prototype.Aa=function(){this.g=!1},Kt.prototype.info=function(){};var Xr={},Fn=null;function hi(){return Fn=Fn||new $n}function Ds(i){Ot.call(this,Xr.Pa,i)}function Is(i){const e=hi();Ir(e,new Ds(e))}function Bi(i,e){Ot.call(this,Xr.STAT_EVENT,i),this.stat=e}function or(i){const e=hi();Ir(e,new Bi(e,i))}function Mr(i,e){Ot.call(this,Xr.Qa,i),this.size=e}function Ln(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){i()},e)}Xr.Pa="serverreachability",ze(Ds,Ot),Xr.STAT_EVENT="statevent",ze(Bi,Ot),Xr.Qa="timingevent",ze(Mr,Ot);var An={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Mn={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fi(){}function ko(){}fi.prototype.h=null;var Pr,fo={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function jr(){Ot.call(this,"d")}function ji(){Ot.call(this,"c")}function er(){}function Kr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new wn(this),this.O=qs,this.T=new Ce(i=Tt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}ze(jr,Ot),ze(ji,Ot),ze(er,fi),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Pr=new er;var qs=45e3,Yi={},Bs={};function bs(i,e,t){i.K=1,i.v=is(li(e)),i.s=t,i.P=!0,js(i,null)}function js(i,e){i.F=Date.now(),ht(i),i.A=li(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Ur(t.i,"t",o),i.C=0,t=i.l.H,i.h=new rs,i.g=va(i.l,t?e:null,!i.s),0<i.N&&(i.L=new En(Pt(i.La,i,i.g),i.N)),xe(i.S,i.g,"readystatechange",i.ib),e=i.H?vi(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Is(),function bn(i,e,t,o,l,f){i.info(function(){if(i.g)if(f)for(var C="",R=f.split("&"),W=0;W<R.length;W++){var Q=R[W].split("=");if(1<Q.length){var ae=Q[0];Q=Q[1];var Ae=ae.split("_");C=2<=Ae.length&&"type"==Ae[1]?C+(ae+"=")+Q+"&":C+(ae+"=redacted&")}}else C=null;else C=f;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+C})}(i.j,i.u,i.A,i.m,i.U,i.s)}function fe(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Ze(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Le(i,t),l==Bs){4==e&&(i.o=4,or(14),o=!1),sr(i.j,i.m,null,"[Incomplete Response]");break}if(l==Yi){i.o=4,or(15),sr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}sr(i.j,i.m,l,null),_r(i,l)}fe(i)&&l!=Bs&&l!=Yi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,or(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ba(e),e.K=!0,or(11))):(sr(i.j,i.m,t,"[Invalid Chunked Response]"),Vr(i),Kn(i))}function Le(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Bs:(t=Number(e.substring(t,o)),isNaN(t)?Yi:(o+=1)+t>e.length?Bs:(e=e.substr(o,t),i.C=o+t,e))}function ht(i){i.V=Date.now()+i.O,Xt(i,i.O)}function Xt(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ln(Pt(i.gb,i),e)}function Zt(i){i.B&&(re.clearTimeout(i.B),i.B=null)}function Kn(i){0==i.l.G||i.I||eo(i.l,i)}function Vr(i){Zt(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,de(i.T),Dt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function _r(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||mn(t.h,i)))if(!i.J&&mn(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(Q){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Bo(t),so(t)}Uo(t),or(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ln(Pt(t.cb,t),6e3));if(1>=Qs(t.h)&&t.ja){try{t.ja()}catch(Q){}t.ja=void 0}}else ls(t,11)}else if((i.J||t.g==i)&&Bo(t),!We(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let Q=l[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const ae=Q[3];null!=ae&&(t.ma=ae,t.j.info("VER="+t.ma));const Ae=Q[4];null!=Ae&&(t.Ca=Ae,t.j.info("SVER="+t.Ca));const ct=Q[5];null!=ct&&"number"==typeof ct&&0<ct&&(t.J=o=1.5*ct,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Lt=i.g;if(Lt){const qt=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qt){var f=o.h;f.g||-1==qt.indexOf("spdy")&&-1==qt.indexOf("quic")&&-1==qt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Zs(f,f.h),f.h=null))}if(o.D){const vn=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(o.za=vn,Hn(o.F,o.D,vn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var C=i;if((o=t).sa=ea(o,o.H?o.ka:null,o.V),C.J){ur(o.h,C);var R=C,W=o.J;W&&R.setTimeout(W),R.B&&(Zt(R),ht(R)),o.g=C}else ia(o);0<t.i.length&&_o(t)}else"stop"!=Q[0]&&"close"!=Q[0]||ls(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?ls(t,7):Jr(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}Is()}catch(Q){}}function Rn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ve(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function mr(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(ve(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Oi(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ve(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,f=0;f<l;f++)e.call(void 0,o[f],t&&t[f],i)}(se=Kr.prototype).setTimeout=function(i){this.O=i},se.ib=function(i){i=i.target;const e=this.L;e&&3==X(i)?e.l():this.La(i)},se.La=function(i){try{if(i==this.g)e:{const ae=X(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ae)&&(3!=ae||Tt||this.g&&(this.h.h||this.g.fa()||mt(this.g)))){this.I||4!=ae||7==e||Is(),Zt(this);var t=this.g.aa();this.Y=t;t:if(fe(this)){var o=mt(this.g);i="";var l=o.length,f=4==X(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vr(this),Kn(this);var C="";break t}this.h.i=new re.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==t,function xn(i,e,t,o,l,f,C){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+f+" "+C})}(this.j,this.u,this.A,this.m,this.U,ae,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var R,W=this.g;if((R=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!We(R)){var Q=R;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,or(12),Vr(this),Kn(this);break e}sr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_r(this,t)}this.P?(Ze(this,ae,C),Tt&&this.i&&3==ae&&(xe(this.S,this.T,"tick",this.hb),this.T.start())):(sr(this.j,this.m,C,null),_r(this,C)),4==ae&&Vr(this),this.i&&!this.I&&(4==ae?eo(this.l,this):(this.i=!1,ht(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,or(12)):(this.o=0,or(13)),Vr(this),Kn(this)}}}catch(ae){}},se.hb=function(){if(this.g){var i=X(this.g),e=this.g.fa();this.C<e.length&&(Zt(this),Ze(this,i,e),this.i&&4!=i&&ht(this))}},se.cancel=function(){this.I=!0,Vr(this)},se.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function lr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Is(),or(17)),Vr(this),this.o=2,Kn(this)):Xt(this,this.V-i)};var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof $i){this.h=void 0!==e?e:i.h,xi(this,i.j),this.s=i.s,this.g=i.g,Qi(this,i.m),this.l=i.l,e=i.i;var t=new Di;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Zi(this,t),this.o=i.o}else i&&(t=String(i).match(Hi))?(this.h=!!e,xi(this,t[1]||"",!0),this.s=Ts(t[2]||""),this.g=Ts(t[3]||"",!0),Qi(this,t[4]),this.l=Ts(t[5]||"",!0),Zi(this,t[6]||"",!0),this.o=Ts(t[7]||"")):(this.h=!!e,this.i=new Di(null,this.h))}function li(i){return new $i(i)}function xi(i,e,t){i.j=t?Ts(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Qi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Zi(i,e,t){e instanceof Di?(i.i=e,function Qr(i,e){e&&!i.j&&(ds(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(hs(this,o),Ur(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=po(e,ks)),i.i=new Di(e,i.h))}function Hn(i,e,t){i.i.set(e,t)}function is(i){return Hn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ts(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function po(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ao),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ao(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$i.prototype.toString=function(){var i=[],e=this.j;e&&i.push(po(e,Qo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(po(e,Qo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(po(t,"/"==t.charAt(0)?go:Ss,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",po(t,Ya)),i.join("")};var Qo=/[#\/\?@]/g,Ss=/[#\?:]/g,go=/[#\?]/g,ks=/[#\?@]/g,Ya=/#/g;function Di(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ds(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ys(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var f=i[t].substring(0,o);l=i[t].substring(o+1)}else f=i[t];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hs(i,e){ds(i),e=Mo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ss(i,e){return ds(i),e=Mo(i,e),i.g.has(e)}function Ur(i,e,t){hs(i,e),0<t.length&&(i.i=null,i.g.set(Mo(i,e),it(t)),i.h+=t.length)}function Mo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Zo(i){this.l=i||mo,i=re.PerformanceNavigationTiming?0<(i=re.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(re.g&&re.g.Ga&&re.g.Ga()&&re.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=Di.prototype).add=function(i,e){ds(this),this.i=null,i=Mo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},se.forEach=function(i,e){ds(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},se.oa=function(){ds(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let f=0;f<l.length;f++)t.push(e[o])}return t},se.W=function(i){ds(this);let e=[];if("string"==typeof i)ss(this,i)&&(e=e.concat(this.g.get(Mo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},se.set=function(i,e){return ds(this),this.i=null,ss(this,i=Mo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},se.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const f=encodeURIComponent(String(o)),C=this.W(o);for(o=0;o<C.length;o++){var l=f;""!==C[o]&&(l+="="+encodeURIComponent(String(C[o]))),i.push(l)}}return this.i=i.join("&")};var mo=10;function pi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Qs(i){return i.h?1:i.g?i.g.size:0}function mn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Zs(i,e){i.g?i.g.add(e):i.h=e}function ur(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Qa(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return it(i.i)}function vr(){}function Lo(){this.g=new vr}function os(i,e,t){const o=t||"";try{Rn(i,function(l,f){let C=l;rt(l)&&(C=Ei(l)),e.push(o+f+"="+encodeURIComponent(C))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Js(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(f){}}function Dn(i){this.l=i.ac||null,this.j=i.jb||!1}function As(i,e){$n.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zo.prototype.cancel=function(){if(this.i=Qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},vr.prototype.stringify=function(i){return re.JSON.stringify(i,void 0)},vr.prototype.parse=function(i){return re.JSON.parse(i,void 0)},ze(Dn,fi),Dn.prototype.g=function(){return new As(this.l,this.j)},Dn.prototype.i=function(i){return function(){return i}}({}),ze(As,$n);var ga=0;function ra(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Xs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,as(i)}function as(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(se=As.prototype).open=function(i,e){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,as(this)},se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||re).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xs(this)),this.readyState=ga},se.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==re.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ra(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},se.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Xs(this):as(this),3==this.readyState&&ra(this)}},se.Va=function(i){this.g&&(this.response=this.responseText=i,Xs(this))},se.Ua=function(i){this.g&&(this.response=i,Xs(this))},se.ga=function(){this.g&&Xs(this)},se.setRequestHeader=function(i,e){this.v.append(i,e)},se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(As.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Jo=re.JSON.parse;function ei(i){$n.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yo,this.K=this.L=!1}ze(ei,$n);var yo="",Nt=/^https?$/i,dr=["POST","PUT"];function La(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ri(i),B(i)}function Ri(i){i.D||(i.D=!0,Ir(i,"complete"),Ir(i,"error"))}function G(i){if(i.h&&void 0!==Se&&(!i.C[1]||4!=X(i)||2!=i.aa()))if(i.v&&4==X(i))Ge(i.Ha,0,i);else if(Ir(i,"readystatechange"),4==X(i)){i.h=!1;try{const R=i.aa();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===R){var l=String(i.H).match(Hi)[1]||null;if(!l&&re.self&&re.self.location){var f=re.self.location.protocol;l=f.substr(0,f.length-1)}o=!Nt.test(l?l.toLowerCase():"")}t=o}if(t)Ir(i,"complete"),Ir(i,"success");else{i.m=6;try{var C=2<X(i)?i.g.statusText:""}catch(W){C=""}i.j=C+" ["+i.aa()+"]",Ri(i)}}finally{B(i)}}}function B(i,e){if(i.g){k(i);const t=i.g,o=i.C[0]?ue:null;i.g=null,i.C=null,e||Ir(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function k(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(re.clearTimeout(i.A),i.A=null)}function X(i){return i.g?i.g.readyState:0}function mt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case yo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function cn(i){let e="";return Pi(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Zr(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=cn(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Hn(i,e,t))}function Gi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Hs(i){this.Ca=0,this.i=[],this.j=new Kt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Gi("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Gi("baseRetryDelayMs",5e3,i),this.bb=Gi("retryDelaySeedMs",1e4,i),this.$a=Gi("forwardChannelMaxRetries",2,i),this.ta=Gi("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Zo(i&&i.concurrentRequestLimit),this.Fa=new Lo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Jr(i){if(Va(i),3==i.G){var e=i.U++,t=li(i.F);Hn(t,"SID",i.I),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),_a(i,t),(e=new Kr(i,i.j,e,void 0)).K=2,e.v=is(li(t)),t=!1,re.navigator&&re.navigator.sendBeacon&&(t=re.navigator.sendBeacon(e.v.toString(),"")),!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=va(e.l,null),e.g.da(e.v)),e.F=Date.now(),ht(e)}Za(i)}function so(i){i.g&&(Ba(i),i.g.cancel(),i.g=null)}function Va(i){so(i),i.u&&(re.clearTimeout(i.u),i.u=null),Bo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&re.clearTimeout(i.m),i.m=null)}function _o(i){pi(i.h)||i.m||(i.m=!0,en(i.Ja,i),i.C=0)}function Ua(i,e){var t;t=e?e.m:i.U++;const o=li(i.F);Hn(o,"SID",i.I),Hn(o,"RID",t),Hn(o,"AID",i.T),_a(i,o),i.o&&i.s&&Zr(o,i.o,i.s),t=new Kr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=fs(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Zs(i.h,t),bs(t,o,e)}function _a(i,e){i.ia&&Pi(i.ia,function(t,o){Hn(e,o,t)}),i.l&&Rn({},function(t,o){Hn(e,o,t)})}function fs(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Pt(i.l.Ra,i.l,i):null;e:{var l=i.i;let f=-1;for(;;){const C=["count="+t];-1==f?0<t?(f=l[0].h,C.push("ofs="+f)):f=0:C.push("ofs="+f);let R=!0;for(let W=0;W<t;W++){let Q=l[W].h;const ae=l[W].g;if(Q-=f,0>Q)f=Math.max(0,l[W].h-100),R=!1;else try{os(ae,C,"req"+Q+"_")}catch(Ae){o&&o(ae)}}if(R){o=C.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function ia(i){i.g||i.u||(i.Z=1,en(i.Ia,i),i.A=0)}function Uo(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Ln(Pt(i.Ia,i),Xo(i,i.A)),i.A++,0))}function Ba(i){null!=i.B&&(re.clearTimeout(i.B),i.B=null)}function sa(i){i.g=new Kr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=li(i.sa);Hn(e,"RID","rpc"),Hn(e,"SID",i.I),Hn(e,"CI",i.L?"0":"1"),Hn(e,"AID",i.T),Hn(e,"TYPE","xmlhttp"),_a(i,e),i.o&&i.s&&Zr(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=is(li(e)),t.s=null,t.P=!0,js(t,i)}function Bo(i){null!=i.v&&(re.clearTimeout(i.v),i.v=null)}function eo(i,e){var t=null;if(i.g==e){Bo(i),Ba(i),i.g=null;var o=2}else{if(!mn(i.h,e))return;t=e.D,ur(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Ir(o=hi(),new Mr(o,t)),_o(i)}else ia(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==o&&function ya(i,e){return!(Qs(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Ln(Pt(i.Ja,i,e),Xo(i,i.C)),i.C++,0)))}(i,e)||2==o&&Uo(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:ls(i,5);break;case 4:ls(i,10);break;case 3:ls(i,6);break;default:ls(i,2)}}function Xo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function ls(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Pt(i.kb,i);t||(t=new $i("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||xi(t,"https"),is(t)),function Vo(i,e){const t=new Kt;if(re.Image){const o=new Image;o.onload=Qt(Js,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Qt(Js,t,o,"TestLoadImage: error",!1,e),o.onabort=Qt(Js,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Qt(Js,t,o,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else or(2);i.G=0,i.l&&i.l.va(e),Za(i),Va(i)}function Za(i){if(i.G=0,i.la=[],i.l){const e=Qa(i.h);(0!=e.length||0!=i.i.length)&&(Ht(i.la,e),Ht(i.la,i.i),i.h.i.length=0,it(i.i),i.i.length=0),i.l.ua()}}function ea(i,e,t){var o=t instanceof $i?li(t):new $i(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Qi(o,o.m);else{var l=re.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var f=new $i(null,void 0);o&&xi(f,o),e&&(f.g=e),l&&Qi(f,l),t&&(f.l=t),o=f}return e=i.za,(t=i.D)&&e&&Hn(o,t,e),Hn(o,"VER",i.ma),_a(i,o),o}function va(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ei(t&&i.Da&&!i.ra?new Dn({jb:!0}):i.ra)).Ka(i.H),e}function L(){}function Y(){if(Et&&!(10<=Number(Wr)))throw Error("Environmental error: no available transport.")}function U(i,e){$n.call(this),this.g=new Hs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!We(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!We(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new lt(this)}function ee(i){jr.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function me(){ji.call(this),this.status=1}function lt(i){this.g=i}(se=ei.prototype).Ka=function(i){this.L=i},se.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pr.g(),this.C=function Pn(i){return i.h||(i.h=i.i())}(this.u?this.u:Pr),this.g.onreadystatechange=Pt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void La(this,f)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const f of o.keys())t.set(f,o.get(f))}o=Array.from(t.keys()).find(f=>"content-type"==f.toLowerCase()),l=re.FormData&&i instanceof re.FormData,!(0<=Rt(dr,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,C]of t)this.g.setRequestHeader(f,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{k(this),0<this.B&&((this.K=function ma(i){return Et&&function Yr(){return function Yt(i){var e=Dr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=pt(String(St)).split("."),t=pt("9").split("."),o=Math.max(e.length,t.length);for(let C=0;0==i&&C<o;C++){var l=e[C]||"",f=t[C]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;i=He(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||He(0==l[2].length,0==f[2].length)||He(l[2],f[2]),l=l[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.qa,this)):this.A=Ge(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){La(this,f)}},se.qa=function(){void 0!==Se&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ir(this,"timeout"),this.abort(8))},se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ir(this,"complete"),Ir(this,"abort"),B(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B(this,!0)),ei.X.M.call(this)},se.Ha=function(){this.s||(this.F||this.v||this.l?G(this):this.fb())},se.fb=function(){G(this)},se.aa=function(){try{return 2<X(this)?this.g.status:-1}catch(i){return-1}},se.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},se.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Jo(e)}},se.Ea=function(){return this.m},se.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=Hs.prototype).ma=8,se.G=1,se.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new Kr(this,this.j,i,void 0);let f=this.s;if(this.S&&(f?(f=vi(f),Ke(f,this.S)):f=this.S),null!==this.o||this.N||(l.H=f,f=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fs(this,l,e),Hn(t=li(this.F),"RID",i),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),_a(this,t),f&&(this.N?e="headers="+encodeURIComponent(String(cn(f)))+"&"+e:this.o&&Zr(t,this.o,f)),Zs(this.h,l),this.Ya&&Hn(t,"TYPE","init"),this.O?(Hn(t,"$req",e),Hn(t,"SID","null"),l.Z=!0,bs(l,t,null)):bs(l,t,e),this.G=2}}else 3==this.G&&(i?Ua(this,i):0==this.i.length||pi(this.h)||Ua(this))},se.Ia=function(){if(this.u=null,sa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Ln(Pt(this.eb,this),i)}},se.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,or(10),so(this),sa(this))},se.cb=function(){null!=this.v&&(this.v=null,so(this),Uo(this),or(19))},se.kb=function(i){i?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))},(se=L.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Ra=function(){},Y.prototype.g=function(i,e){return new U(i,e)},ze(U,$n),U.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;or(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ea(i,null,i.V),_o(i)},U.prototype.close=function(){Jr(this.g)},U.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Ei(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&_o(e)},U.prototype.M=function(){this.g.l=null,delete this.j,Jr(this.g),delete this.g,U.X.M.call(this)},ze(ee,jr),ze(me,ji),ze(lt,L),lt.prototype.xa=function(){Ir(this.g,"a")},lt.prototype.wa=function(i){Ir(this.g,new ee(i))},lt.prototype.va=function(i){Ir(this.g,new me)},lt.prototype.ua=function(){Ir(this.g,"b")},Y.prototype.createWebChannel=Y.prototype.g,U.prototype.send=U.prototype.u,U.prototype.open=U.prototype.m,U.prototype.close=U.prototype.close,An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,Mn.COMPLETE="complete",ko.EventType=fo,fo.OPEN="a",fo.CLOSE="b",fo.ERROR="c",fo.MESSAGE="d",$n.prototype.listen=$n.prototype.N,ei.prototype.listenOnce=ei.prototype.O,ei.prototype.getLastError=ei.prototype.Oa,ei.prototype.getLastErrorCode=ei.prototype.Ea,ei.prototype.getStatus=ei.prototype.aa,ei.prototype.getResponseJson=ei.prototype.Sa,ei.prototype.getResponseText=ei.prototype.fa,ei.prototype.send=ei.prototype.da,ei.prototype.setWithCredentials=ei.prototype.Ka;var yt=we.createWebChannelTransport=function(){return new Y},un=we.getStatEventTarget=function(){return hi()},Rr=we.ErrorCode=An,Nn=we.EventType=Mn,Qn=we.Event=Xr,hr=we.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ui=we.FetchXmlHttpFactory=Dn,Or=we.WebChannel=ko,Ii=we.XhrIo=ei;const ps="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let Ni="9.17.1";const gs=new H.Yd("@firebase/firestore");function gi(){return gs.logLevel}function jt(i,...e){if(gs.logLevel<=H.in.DEBUG){const t=e.map(Gs);gs.debug(`Firestore (${Ni}): ${i}`,...t)}}function Ji(i,...e){if(gs.logLevel<=H.in.ERROR){const t=e.map(Gs);gs.error(`Firestore (${Ni}): ${i}`,...t)}}function jo(i,...e){if(gs.logLevel<=H.in.WARN){const t=e.map(Gs);gs.warn(`Firestore (${Ni}): ${i}`,...t)}}function Gs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function hn(i="Unexpected state"){const e=`FIRESTORE (${Ni}) INTERNAL ASSERTION FAILED: `+i;throw Ji(e),new Error(e)}function In(i,e){i||hn()}function ln(i,e){return i}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends ge.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ml{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class Pl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ja{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const f=Q=>this.i!==l?(l=this.i,t(Q)):Promise.resolve();let C=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new bi,e.enqueueRetryable(()=>f(this.currentUser))};const R=()=>{const Q=C;e.enqueueRetryable((0,p.Z)(function*(){yield Q.promise,yield f(o.currentUser)}))},W=Q=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Q=>W(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?W(Q):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new bi)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(In("string"==typeof o.accessToken),new Cl(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new $r(e)}}class cu{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(In(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class vo{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l}getToken(){return Promise.resolve(new cu(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ja{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ha{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=f=>{null!=f.error&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const C=f.token!==this.A;return this.A=f.token,jt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const l=f=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.T.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.T.getImmediate({optional:!0});f?l(f):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.A=t.token,new ja(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ol(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class mi{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Ol(40);for(let f=0;f<l.length;++f)o.length<20&&l[f]<t&&(o+=e.charAt(l[f]%e.length))}return o}}function tr(i,e){return i<e?-1:i>e?1:0}function Ms(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function xl(i){return i+"\0"}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ut(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ti(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tr(this.nanoseconds,e.nanoseconds):tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(e){this.timestamp=e}static fromTimestamp(e){return new On(e)}static min(){return new On(new ti(0,0))}static max(){return new On(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class oa{constructor(e,t,o){void 0===t?t=0:t>e.length&&hn(),void 0===o?o=e.length-t:o>e.length-t&&hn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===oa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const f=e.get(l),C=t.get(l);if(f<C)return-1;if(f>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sr extends oa{construct(e,t,o){return new Sr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ut(ft.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Sr(t)}static emptyPath(){return new Sr([])}}const Xi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends oa{construct(e,t,o){return new Ti(e,t,o)}static isValidIdentifier(e){return Xi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const f=()=>{if(0===o.length)throw new Ut(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let C=!1;for(;l<e.length;){const R=e[l];if("\\"===R){if(l+1===e.length)throw new Ut(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[l+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new Ut(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=W,l+=2}else"`"===R?(C=!C,l++):"."!==R||C?(o+=R,l++):(f(),l++)}if(f(),C)throw new Ut(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(t)}static emptyPath(){return new Ti([])}}class on{constructor(e){this.path=e}static fromPath(e){return new on(Sr.fromString(e))}static fromName(e){return new on(Sr.fromString(e).popFirst(5))}static empty(){return new on(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new Sr(e.slice()))}}class to{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function oo(i){return i.fields.find(e=>2===e.kind)}function Po(i){return i.fields.filter(e=>2!==e.kind)}to.UNKNOWN_ID=-1;class Ea{constructor(e,t){this.fieldPath=e,this.kind=t}}class tl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tl(0,ms.min())}}function Ca(i){return new ms(i.readTime,i.key,-1)}class ms{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ms(On.min(),on.empty(),-1)}static max(){return new ms(On.max(),on.empty(),-1)}}function rl(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=on.comparator(i.documentKey,e.documentKey),0!==t?t:tr(i.largestBatchId,e.largestBatchId))}const Iu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Eo(i){return $a.apply(this,arguments)}function $a(){return $a=(0,p.Z)(function*(i){if(i.code!==ft.FAILED_PRECONDITION||i.message!==Iu)throw i;jt("LocalStore","Unexpectedly lost primary lease")}),$a.apply(this,arguments)}class gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gt((o,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,l)},this.catchCallback=f=>{this.wrapFailure(t,f).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gt?t:gt.resolve(t)}catch(t){return gt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.reject(t)}static resolve(e){return new gt((t,o)=>{t(e)})}static reject(e){return new gt((t,o)=>{o(e)})}static waitFor(e){return new gt((t,o)=>{let l=0,f=0,C=!1;e.forEach(R=>{++l,R.next(()=>{++f,C&&f===l&&t()},W=>o(W))}),C=!0,f===l&&t()})}static or(e){let t=gt.resolve(!1);for(const o of e)t=t.next(l=>l?gt.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,f)=>{o.push(t.call(this,l,f))}),this.waitFor(o)}static mapArray(e,t){return new gt((o,l)=>{const f=e.length,C=new Array(f);let R=0;for(let W=0;W<f;W++){const Q=W;t(e[Q]).next(ae=>{C[Q]=ae,++R,R===f&&o(C)},ae=>l(ae))}})}static doWhile(e,t){return new gt((o,l)=>{const f=()=>{!0===e()?t().next(()=>{f()},l):o()};f()})}}class Co{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new bi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new wa(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const l=ii(o.target.error);this.P.reject(new wa(e,l))}}static open(e,t,o,l){try{return new Co(t,e.transaction(l,o))}catch(f){throw new wa(t,f)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(jt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Da(t)}}class Ps{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Ps.D((0,ge.z$)())&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return jt("SimpleDb","Removing database:",e),Ho(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ge.hl)())return!1;if(Ps.N())return!0;const e=(0,ge.z$)(),t=Ps.D(e),o=0<t&&t<10,l=Ps.k(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,p.Z)(function*(){return t.db||(jt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=C=>{o(C.target.result)},f.onblocked=()=>{l(new wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=C=>{const R=C.target.error;l("VersionError"===R.name?new Ut(ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Ut(ft.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new wa(e,R))},f.onupgradeneeded=C=>{jt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.S.$(C.target.result,f.transaction,C.oldVersion,t.version).next(()=>{jt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var f=this;return(0,p.Z)(function*(){const C="readonly"===t;let R=0;for(;;){++R;try{f.db=yield f.F(e);const W=Co.open(f.db,e,C?"readonly":"readwrite",o),Q=l(W).next(ae=>(W.V(),ae)).catch(ae=>(W.abort(ae),gt.reject(ae))).toPromise();return Q.catch(()=>{}),yield W.v,Q}catch(W){const Q=W,ae="FirebaseError"!==Q.name&&R<3;if(jt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ae),f.close(),!ae)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aa{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ho(this.q.delete())}}class wa extends Ut{constructor(e,t){super(ft.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wi(i){return"IndexedDbTransactionError"===i.name}class Da{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(jt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(jt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ho(o)}add(e){return jt("SimpleDb","ADD",this.store.name,e,e),Ho(this.store.add(e))}get(e){return Ho(this.store.get(e)).next(t=>(void 0===t&&(t=null),jt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return jt("SimpleDb","DELETE",this.store.name,e),Ho(this.store.delete(e))}count(){return jt("SimpleDb","COUNT",this.store.name),Ho(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),f=[];return this.H(l,(C,R)=>{f.push(R)}).next(()=>f)}{const l=this.store.getAll(o.range);return new gt((f,C)=>{l.onerror=R=>{C(R.target.error)},l.onsuccess=R=>{f(R.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new gt((l,f)=>{o.onerror=C=>{f(C.target.error)},o.onsuccess=C=>{l(C.target.result)}})}Y(e,t){jt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const l=this.cursor(o);return this.H(l,(f,C,R)=>R.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.H(l,t)}tt(e){const t=this.cursor({});return new gt((o,l)=>{t.onerror=f=>{const C=ii(f.target.error);l(C)},t.onsuccess=f=>{const C=f.target.result;C?e(C.primaryKey,C.value).next(R=>{R?C.continue():o()}):o()}})}H(e,t){const o=[];return new gt((l,f)=>{e.onerror=C=>{f(C.target.error)},e.onsuccess=C=>{const R=C.target.result;if(!R)return void l();const W=new aa(R),Q=t(R.primaryKey,R.value,W);if(Q instanceof gt){const ae=Q.catch(Ae=>(W.done(),gt.reject(Ae)));o.push(ae)}W.isDone?l():null===W.G?R.continue():R.continue(W.G)}}).next(()=>gt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ho(i){return new gt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=ii(o.target.error);t(l)}})}let Nl=!1;function ii(i){const e=Ps.D((0,ge.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nl||(Nl=!0,setTimeout(()=>{throw o},0)),o}}return i}class dl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;jt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{jt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Wi(o)?jt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Eo(o)}yield t.nt(6e4)}))}}class Ql{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let l=t,f=!0;return gt.doWhile(()=>!0===f&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!o.has(C))return jt("IndexBackiller",`Processing collection: ${C}`),this.rt(e,C,l).next(R=>{l-=R,o.add(C)});f=!1})).next(()=>t-l)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(f=>{const C=f.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.ot(l,f)).next(R=>(jt("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>C.size)}))}ot(e,t){let o=e;return t.changes.forEach((l,f)=>{const C=Ca(f);rl(C,o)>0&&(o=C)}),new ms(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Oo=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>o.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Ia{constructor(e,t,o,l,f,C,R,W){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=f,this.forceLongPolling=C,this.autoDetectLongPolling=R,this.useFetchStreams=W}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}function $o(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function xo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ta(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function wo(i){return null==i}function Ga(i){return 0===i&&1/i==-1/0}class Fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new Fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fi.EMPTY_BYTE_STRING=new Fi("");const du=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function T(i){if(In(!!i),"string"==typeof i){let e=0;const t=du.exec(i);if(In(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:S(i.seconds),nanos:S(i.nanos)}}function S(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function D(i){return"string"==typeof i?Fi.fromBase64String(i):Fi.fromUint8Array(i)}function F(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $(i){const e=i.mapValue.fields.__previous_value__;return F(e)?$(e):e}function J(i){const e=T(i.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}const he={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_e={nullValue:"NULL_VALUE"};function et(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?F(i)?4:hl(i)?9007199254740991:10:hn()}function Gt(i,e){if(i===e)return!0;const t=et(i);if(t!==et(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return J(i).isEqual(J(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=T(o.timestampValue),C=T(l.timestampValue);return f.seconds===C.seconds&&f.nanos===C.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,D(i.bytesValue).isEqual(D(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return S(o.geoPointValue.latitude)===S(l.geoPointValue.latitude)&&S(o.geoPointValue.longitude)===S(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return S(o.integerValue)===S(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=S(o.doubleValue),C=S(l.doubleValue);return f===C?Ga(f)===Ga(C):isNaN(f)&&isNaN(C)}return!1}(i,e);case 9:return Ms(i.arrayValue.values||[],e.arrayValue.values||[],Gt);case 10:return function(o,l){const f=o.mapValue.fields||{},C=l.mapValue.fields||{};if($o(f)!==$o(C))return!1;for(const R in f)if(f.hasOwnProperty(R)&&(void 0===C[R]||!Gt(f[R],C[R])))return!1;return!0}(i,e);default:return hn()}var l}function _n(i,e){return void 0!==(i.values||[]).find(t=>Gt(t,e))}function tn(i,e){if(i===e)return 0;const t=et(i),o=et(e);if(t!==o)return tr(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return tr(i.booleanValue,e.booleanValue);case 2:return function(l,f){const C=S(l.integerValue||l.doubleValue),R=S(f.integerValue||f.doubleValue);return C<R?-1:C>R?1:C===R?0:isNaN(C)?isNaN(R)?0:-1:1}(i,e);case 3:return kn(i.timestampValue,e.timestampValue);case 4:return kn(J(i),J(e));case 5:return tr(i.stringValue,e.stringValue);case 6:return function(l,f){const C=D(l),R=D(f);return C.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const C=l.split("/"),R=f.split("/");for(let W=0;W<C.length&&W<R.length;W++){const Q=tr(C[W],R[W]);if(0!==Q)return Q}return tr(C.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const C=tr(S(l.latitude),S(f.latitude));return 0!==C?C:tr(S(l.longitude),S(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const C=l.values||[],R=f.values||[];for(let W=0;W<C.length&&W<R.length;++W){const Q=tn(C[W],R[W]);if(Q)return Q}return tr(C.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===he.mapValue&&f===he.mapValue)return 0;if(l===he.mapValue)return 1;if(f===he.mapValue)return-1;const C=l.fields||{},R=Object.keys(C),W=f.fields||{},Q=Object.keys(W);R.sort(),Q.sort();for(let ae=0;ae<R.length&&ae<Q.length;++ae){const Ae=tr(R[ae],Q[ae]);if(0!==Ae)return Ae;const ct=tn(C[R[ae]],W[Q[ae]]);if(0!==ct)return ct}return tr(R.length,Q.length)}(i.mapValue,e.mapValue);default:throw hn()}}function kn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return tr(i,e);const t=T(i),o=T(e),l=tr(t.seconds,o.seconds);return 0!==l?l:tr(t.nanos,o.nanos)}function Er(i){return qr(i)}function qr(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=T(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?D(i.bytesValue).toBase64():"referenceValue"in i?on.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",f=!0;for(const C of o.values||[])f?f=!1:l+=",",l+=qr(C);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let f="{",C=!0;for(const R of l)C?C=!1:f+=",",f+=`${R}:${qr(o.fields[R])}`;return f+"}"}(i.mapValue):hn();var e}function Os(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function no(i){return!!i&&"integerValue"in i}function Do(i){return!!i&&"arrayValue"in i}function Fs(i){return!!i&&"nullValue"in i}function il(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function es(i){return!!i&&"mapValue"in i}function Sa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return xo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Sa(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sa(i.arrayValue.values[t]);return e}return Object.assign({},i)}function hl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function wl(i){return"nullValue"in i?_e:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Os(ba.empty(),on.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:hn()}function Wa(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Os(ba.empty(),on.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?he:hn()}function kl(i,e){const t=tn(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function fl(i,e){const t=tn(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Aa{constructor(e,t){this.position=e,this.inclusive=t}}function za(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const f=e[l],C=i.position[l];if(o=f.field.isKeyField()?on.comparator(on.fromName(C.referenceValue),t.key):tn(C,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function Dl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Gt(i.position[t],e.position[t]))return!1;return!0}class Zl{}class Hr extends Zl{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new zu(e,t,o):"array-contains"===t?new ml(e,o):"in"===t?new Oa(e,o):"not-in"===t?new Ka(e,o):"array-contains-any"===t?new bu(e,o):new Hr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new hu(e,o):new gl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tn(t,this.value)):null!==t&&et(this.value)===et(t)&&this.matchesComparison(tn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class si extends Zl{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new si(e,t)}matches(e){return ua(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ua(i){return"and"===i.op}function Ma(i){return"or"===i.op}function Jl(i){return ts(i)&&ua(i)}function ts(i){for(const e of i.filters)if(e instanceof si)return!1;return!0}function sl(i){if(i instanceof Hr)return i.field.canonicalString()+i.op.toString()+Er(i.value);if(Jl(i))return i.filters.map(e=>sl(e)).join(",");{const e=i.filters.map(t=>sl(t)).join(",");return`${i.op}(${e})`}}function pl(i,e){return i instanceof Hr?(t=i,(o=e)instanceof Hr&&t.op===o.op&&t.field.isEqual(o.field)&&Gt(t.value,o.value)):i instanceof si?function(t,o){return o instanceof si&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,f,C)=>l&&pl(f,o.filters[C]),!0)}(i,e):void hn();var t,o}function ta(i,e){const t=i.filters.concat(e);return si.create(t,i.op)}function Pa(i){return i instanceof Hr?`${(e=i).field.canonicalString()} ${e.op} ${Er(e.value)}`:i instanceof si?function(e){return e.op.toString()+" {"+e.getFilters().map(Pa).join(" ,")+"}"}(i):"Filter";var e}class zu extends Hr{constructor(e,t,o){super(e,t,o),this.key=on.fromName(o.referenceValue)}matches(e){const t=on.comparator(e.key,this.key);return this.matchesComparison(t)}}class hu extends Hr{constructor(e,t){super(e,"in",t),this.keys=Fl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gl extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=Fl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fl(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>on.fromName(o.referenceValue))}class ml extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Do(t)&&_n(t.arrayValue,this.value)}}class Oa extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_n(this.value.arrayValue,t)}}class Ka extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(_n(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_n(this.value.arrayValue,t)}}class bu extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Do(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>_n(this.value.arrayValue,o))}}class ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Si{constructor(e,t){this.comparator=e,this.root=t||Ls.EMPTY}insert(e,t){return new Si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ls.BLACK,null,null))}remove(e){return new Si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ro(this.root,e,this.comparator,!0)}}class ro{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?o(e.key,t):1,t&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ls{constructor(e,t,o,l,f){this.key=e,this.value=t,this.color=null!=o?o:Ls.RED,this.left=null!=l?l:Ls.EMPTY,this.right=null!=f?f:Ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,f){return new Ls(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===f?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Ls.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}Ls.EMPTY=null,Ls.RED=!0,Ls.BLACK=!1,Ls.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Ls(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(e){this.comparator=e,this.data=new Si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ca(this.data.getIterator())}getIteratorFrom(e){return new ca(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yi(this.comparator);return t.data=e,t}}class ca{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ys(i){return i.hasNext()?i.getNext():void 0}class Vs{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new Vs([])}unionWith(e){let t=new yi(Ti.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!es(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(t)}setAll(e){let t=Ti.emptyPath(),o={},l=[];e.forEach((C,R)=>{if(!t.isImmediateParentOf(R)){const W=this.getFieldsMap(t);this.applyChanges(W,o,l),o={},l=[],t=R.popLast()}C?o[R.lastSegment()]=Sa(C):l.push(R.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,o,l)}delete(e){const t=this.field(e.popLast());es(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];es(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){xo(t,(l,f)=>e[l]=f);for(const l of o)delete e[l]}clone(){return new io(Sa(this.value))}}function eu(i){const e=[];return xo(i.fields,(t,o)=>{const l=new Ti([t]);if(es(o)){const f=eu(o.mapValue).fields;if(0===f.length)e.push(l);else for(const C of f)e.push(l.child(C))}else e.push(l)}),new Vs(e)}class ci{constructor(e,t,o,l,f,C,R){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=f,this.data=C,this.documentState=R}static newInvalidDocument(e){return new ci(e,0,On.min(),On.min(),On.min(),io.empty(),0)}static newFoundDocument(e,t,o,l){return new ci(e,1,t,On.min(),o,l,0)}static newNoDocument(e,t){return new ci(e,2,t,On.min(),On.min(),io.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,On.min(),On.min(),io.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(On.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=On.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tu{constructor(e,t=null,o=[],l=[],f=null,C=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=f,this.startAt=C,this.endAt=R,this.ft=null}}function Ll(i,e=null,t=[],o=[],l=null,f=null,C=null){return new tu(i,e,t,o,l,f,C)}function al(i){const e=ln(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>sl(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),wo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Er(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Er(o)).join(",")),e.ft=t}return e.ft}function Io(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Xl(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!pl(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Dl(i.startAt,e.startAt)&&Dl(i.endAt,e.endAt)}function da(i){return on.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Vl(i,e){return i.filters.filter(t=>t instanceof Hr&&t.field.isEqual(e))}function Ul(i,e,t){let o=_e,l=!0;for(const f of Vl(i,e)){let C=_e,R=!0;switch(f.op){case"<":case"<=":C=wl(f.value);break;case"==":case"in":case">=":C=f.value;break;case">":C=f.value,R=!1;break;case"!=":case"not-in":C=_e}kl({value:o,inclusive:l},{value:C,inclusive:R})<0&&(o=C,l=R)}if(null!==t)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const C=t.position[f];kl({value:o,inclusive:l},{value:C,inclusive:t.inclusive})<0&&(o=C,l=t.inclusive);break}return{value:o,inclusive:l}}function Bl(i,e,t){let o=he,l=!0;for(const f of Vl(i,e)){let C=he,R=!0;switch(f.op){case">=":case">":C=Wa(f.value),R=!1;break;case"==":case"in":case"<=":C=f.value;break;case"<":C=f.value,R=!1;break;case"!=":case"not-in":C=he}fl({value:o,inclusive:l},{value:C,inclusive:R})>0&&(o=C,l=R)}if(null!==t)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const C=t.position[f];fl({value:o,inclusive:l},{value:C,inclusive:t.inclusive})>0&&(o=C,l=t.inclusive);break}return{value:o,inclusive:l}}class xs{constructor(e,t=null,o=[],l=[],f=null,C="F",R=null,W=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=f,this.limitType=C,this.startAt=R,this.endAt=W,this.dt=null,this._t=null}}function jl(i){return new xs(i)}function Hl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ru(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function yl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Il(i){return null!==i.collectionGroup}function ha(i){const e=ln(i);if(null===e.dt){e.dt=[];const t=yl(e),o=ru(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new ol(t)),e.dt.push(new ol(Ti.keyField(),"asc"));else{let l=!1;for(const f of e.explicitOrderBy)e.dt.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ol(Ti.keyField(),f))}}}return e.dt}function zi(i){const e=ln(i);if(!e._t)if("F"===e.limitType)e._t=Ll(e.path,e.collectionGroup,ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of ha(e))t.push(new ol(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new Aa(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Aa(e.startAt.position,e.startAt.inclusive):null;e._t=Ll(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function I(i,e){e.getFirstInequalityField(),yl(i);const t=i.filters.concat([e]);return new xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function v(i,e,t){return new xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function y(i,e){return Io(zi(i),zi(e))&&i.limitType===e.limitType}function x(i){return`${al(zi(i))}|lt:${i.limitType}`}function z(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Pa(o)).join(", ")}]`),wo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Er(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Er(o)).join(",")),`Target(${t})`}(zi(i))}; limitType=${i.limitType})`}function te(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):on.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of ha(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,f,C){const R=za(l,f,C);return l.inclusive?R<=0:R<0}(t.startAt,ha(t),o)||t.endAt&&!function(l,f,C){const R=za(l,f,C);return l.inclusive?R>=0:R>0}(t.endAt,ha(t),o)));var t,o}function Te(i){return(e,t)=>{let o=!1;for(const l of ha(i)){const f=Qe(l,e,t);if(0!==f)return f;o=o||l.field.isKeyField()}return 0}}function Qe(i,e,t){const o=i.field.isKeyField()?on.comparator(e.key,t.key):function(l,f,C){const R=f.data.field(l),W=C.data.field(l);return null!==R&&null!==W?tn(R,W):hn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return hn()}}function wt(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(e)?"-0":e}}function nn(i){return{integerValue:""+i}}function gn(i,e){return function ki(i){return"number"==typeof i&&Number.isInteger(i)&&!Ga(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?nn(e):wt(i,e)}class Vn{constructor(){this._=void 0}}function Gn(i,e,t){return i instanceof Ar?function(o,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(t,e):i instanceof Nr?Li(i,e):i instanceof _s?vs(i,e):function(o,l){const f=Un(o,l),C=fa(f)+fa(o.gt);return no(f)&&no(o.gt)?nn(C):wt(o.yt,C)}(i,e)}function fn(i,e,t){return i instanceof Nr?Li(i,e):i instanceof _s?vs(i,e):t}function Un(i,e){return i instanceof bo?no(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Ar extends Vn{}class Nr extends Vn{constructor(e){super(),this.elements=e}}function Li(i,e){const t=Rs(e);for(const o of i.elements)t.some(l=>Gt(l,o))||t.push(o);return{arrayValue:{values:t}}}class _s extends Vn{constructor(e){super(),this.elements=e}}function vs(i,e){let t=Rs(e);for(const o of i.elements)t=t.filter(l=>!Gt(l,o));return{arrayValue:{values:t}}}class bo extends Vn{constructor(e,t){super(),this.yt=e,this.gt=t}}function fa(i){return S(i.integerValue||i.doubleValue)}function Rs(i){return Do(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ao{constructor(e,t){this.field=e,this.transform=t}}class m{constructor(e,t){this.version=e,this.transformResults=t}}class E{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new E}static exists(e){return new E(void 0,e)}static updateTime(e){return new E(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function N(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Z{}function le(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new oi(i.key,E.none()):new an(i.key,i.data,E.none());{const t=i.data,o=io.empty();let l=new yi(Ti.comparator);for(let f of e.fields)if(!l.has(f)){let C=t.field(f);null===C&&f.length>1&&(f=f.popLast(),C=t.field(f)),null===C?o.delete(f):o.set(f,C),l=l.add(f)}return new qn(i.key,o,new Vs(l.toArray()),E.none())}}function ot(i,e,t){i instanceof an?function(o,l,f){const C=o.value.clone(),R=Es(o.fieldTransforms,l,f.transformResults);C.setAll(R),l.convertToFoundDocument(f.version,C).setHasCommittedMutations()}(i,e,t):i instanceof qn?function(o,l,f){if(!N(o.precondition,l))return void l.convertToUnknownDocument(f.version);const C=Es(o.fieldTransforms,l,f.transformResults),R=l.data;R.setAll(ns(o)),R.setAll(C),l.convertToFoundDocument(f.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tt(i,e,t,o){return i instanceof an?function(l,f,C,R){if(!N(l.precondition,f))return C;const W=l.value.clone(),Q=Go(l.fieldTransforms,R,f);return W.setAll(Q),f.convertToFoundDocument(f.version,W).setHasLocalMutations(),null}(i,e,t,o):i instanceof qn?function(l,f,C,R){if(!N(l.precondition,f))return C;const W=Go(l.fieldTransforms,R,f),Q=f.data;return Q.setAll(ns(l)),Q.setAll(W),f.convertToFoundDocument(f.version,Q).setHasLocalMutations(),null===C?null:C.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ae=>ae.field))}(i,e,t,o):(C=t,N(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):C);var f,C}function Mt(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),f=Un(o.transform,l||null);null!=f&&(null===t&&(t=io.empty()),t.set(o.field,f))}return t||null}function $t(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ms(t,o,(l,f)=>function P(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Nr&&o instanceof Nr||t instanceof _s&&o instanceof _s?Ms(t.elements,o.elements,Gt):t instanceof bo&&o instanceof bo?Gt(t.gt,o.gt):t instanceof Ar&&o instanceof Ar);var t,o}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class an extends Z{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qn extends Z{constructor(e,t,o,l,f=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ns(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Es(i,e,t){const o=new Map;In(i.length===t.length);for(let l=0;l<t.length;l++){const f=i[l],C=f.transform,R=e.data.field(f.field);o.set(f.field,fn(C,R,t[l]))}return o}function Go(i,e,t){const o=new Map;for(const l of i){const f=l.transform,C=t.data.field(l.field);o.set(l.field,Gn(f,C,e))}return o}class oi extends Z{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ws extends Z{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $l{constructor(e){this.count=e}}var Cr,fr;function Vi(i){switch(i){default:return hn();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function To(i){if(void 0===i)return Ji("GRPC error has no .code"),ft.UNKNOWN;switch(i){case Cr.OK:return ft.OK;case Cr.CANCELLED:return ft.CANCELLED;case Cr.UNKNOWN:return ft.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return ft.INTERNAL;case Cr.UNAVAILABLE:return ft.UNAVAILABLE;case Cr.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Cr.NOT_FOUND:return ft.NOT_FOUND;case Cr.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Cr.ABORTED:return ft.ABORTED;case Cr.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Cr.DATA_LOSS:return ft.DATA_LOSS;default:return hn()}}(fr=Cr||(Cr={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,f]of o)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(t,o)=>{for(const[l,f]of o)e(l,f)})}isEmpty(){return Ta(this.inner)}size(){return this.innerSize}}const Ku=new Si(on.comparator);function zs(){return Ku}const us=new Si(on.comparator);function iu(...i){let e=us;for(const t of i)e=e.insert(t.key,t);return e}function Qd(i){let e=us;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function xa(){return Ic()}function nd(){return Ic()}function Ic(){return new Ro(i=>i.toString(),(i,e)=>i.isEqual(e))}const Tf=new Si(on.comparator),Sf=new yi(on.comparator);function br(...i){let e=Sf;for(const t of i)e=e.add(t);return e}const bc=new yi(tr);function fu(){return bc}class qu{constructor(e,t,o,l,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new qu(On.min(),l,fu(),zs(),br())}}class su{constructor(e,t,o,l,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new su(o,t,br(),br(),br())}}class Yu{constructor(e,t,o,l){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=l}}class Zd{constructor(e,t){this.targetId=e,this.Et=t}}class Jd{constructor(e,t,o=Fi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class rd{constructor(){this.At=0,this.Rt=Xd(),this.bt=Fi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=br(),t=br(),o=br();return this.Rt.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:hn()}}),new su(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=Xd()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Dg{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=zs(),this.qt=Tc(),this.Ut=new yi(tr)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,o=e.Et.count,l=this.Yt(t);if(l){const f=l.target;if(da(f))if(0===o){const C=new on(f.path);this.Qt(t,C,ci.newNoDocument(C,On.min()))}else In(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((f,C)=>{const R=this.Yt(C);if(R){if(f.current&&da(R.target)){const W=new on(R.target.path);null!==this.Lt.get(W)||this.te(C,W)||this.Qt(C,W,ci.newNoDocument(W,e))}f.St&&(t.set(C,f.Ct()),f.xt())}});let o=br();this.qt.forEach((f,C)=>{let R=!0;C.forEachWhile(W=>{const Q=this.Yt(W);return!Q||2===Q.purpose||(R=!1,!1)}),R&&(o=o.add(f))}),this.Lt.forEach((f,C)=>C.setReadTime(e));const l=new qu(e,t,this.Ut,this.Lt,o);return this.Lt=zs(),this.qt=Tc(),this.Ut=new yi(tr),l}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new rd,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new yi(tr),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||jt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new rd),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Tc(){return new Si(on.comparator)}function Xd(){return new Si(on.comparator)}const id={asc:"ASCENDING",desc:"DESCENDING"},gy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eh={and:"AND",or:"OR"};class th{constructor(e,t){this.databaseId=e,this.wt=t}}function pu(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nh(i,e){return i.wt?e.toBase64():e.toUint8Array()}function gu(i,e){return pu(i,e.toTimestamp())}function lo(i){return In(!!i),On.fromTimestamp(function(e){const t=T(e);return new ti(t.seconds,t.nanos)}(i))}function Qu(i,e){return(t=i,new Sr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Sc(i){const e=Sr.fromString(i);return In(Mf(e)),e}function Zu(i,e){return Qu(i.databaseId,e.path)}function _l(i,e){const t=Sc(e);if(t.get(1)!==i.databaseId.projectId)throw new Ut(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ut(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new on(sd(t))}function Tu(i,e){return Qu(i.databaseId,e)}function mu(i){const e=Sc(i);return 4===e.length?Sr.emptyPath():sd(e)}function Su(i){return new Sr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sd(i){return In(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function rh(i,e,t){return{name:Zu(i,e),fields:t.value.mapValue.fields}}function Ac(i,e){let t;if(e instanceof an)t={update:rh(i,e.key,e.value)};else if(e instanceof oi)t={delete:Zu(i,e.key)};else if(e instanceof qn)t={update:rh(i,e.key,e.data),updateMask:tc(e.fieldMask)};else{if(!(e instanceof Ws))return hn();t={verify:Zu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const C=f.transform;if(C instanceof Ar)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Nr)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof _s)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof bo)return{fieldPath:f.field.canonicalString(),increment:C.gt};throw hn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:gu(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:hn()),t;var l}function od(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?E.updateTime(lo(l.updateTime)):void 0!==l.exists?E.exists(l.exists):E.none():E.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(f,C){let R=null;"setToServerValue"in C?(In("REQUEST_TIME"===C.setToServerValue),R=new Ar):"appendMissingElements"in C?R=new Nr(C.appendMissingElements.values||[]):"removeAllFromArray"in C?R=new _s(C.removeAllFromArray.values||[]):"increment"in C?R=new bo(f,C.increment):hn();const W=Ti.fromServerFormat(C.fieldPath);return new ao(W,R)}(i,l)):[];var l;if(e.update){const l=_l(i,e.update.name),f=new io({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Vs((e.updateMask.fieldPaths||[]).map(Q=>Ti.fromServerFormat(Q)));return new qn(l,f,C,t,o)}return new an(l,f,t,o)}if(e.delete){const l=_l(i,e.delete);return new oi(l,t)}if(e.verify){const l=_l(i,e.verify);return new Ws(l,t)}return hn()}function ld(i,e){return{documents:[Tu(i,e.path)]}}function Xu(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Tu(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tu(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(W){if(0!==W.length)return yu(si.create(W,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const f=function(W){if(0!==W.length)return W.map(Q=>{return{field:Gl((ae=Q).field),direction:lh(ae.dir)};var ae})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const C=(Q=e.limit,i.wt||wo(Q)?Q:{value:Q});var Q,R,W;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),t}function sh(i){let e=mu(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){In(1===o);const ae=t.from[0];ae.allDescendants?l=ae.collectionId:e=e.child(ae.collectionId)}let f=[];t.where&&(f=function(ae){const Ae=ah(ae);return Ae instanceof si&&Jl(Ae)?Ae.getFilters():[Ae]}(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(ae=>{return new ol(ec((Ae=ae).field),function(ct){switch(ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ae.direction));var Ae}));let R=null;t.limit&&(R=function(ae){let Ae;return Ae="object"==typeof ae?ae.value:ae,wo(Ae)?null:Ae}(t.limit));let W=null;var ae;t.startAt&&(W=new Aa((ae=t.startAt).values||[],!!ae.before));let Q=null;return t.endAt&&(Q=function(ae){return new Aa(ae.values||[],!ae.before)}(t.endAt)),function nu(i,e,t,o,l,f,C,R){return new xs(i,e,t,o,l,f,C,R)}(e,l,C,f,R,"F",W,Q)}function ah(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ec(e.unaryFilter.field);return Hr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=ec(e.unaryFilter.field);return Hr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ec(e.unaryFilter.field);return Hr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ec(e.unaryFilter.field);return Hr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}(i):void 0!==i.fieldFilter?Hr.create(ec((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return si.create(e.compositeFilter.filters.map(t=>ah(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return hn()}}(e.compositeFilter.op))}(i):hn();var e}function lh(i){return id[i]}function Ig(i){return gy[i]}function uh(i){return eh[i]}function Gl(i){return{fieldPath:i.canonicalString()}}function ec(i){return Ti.fromServerFormat(i.fieldPath)}function yu(i){return i instanceof Hr?function(e){if("=="===e.op){if(il(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NAN"}};if(Fs(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(il(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NAN"}};if(Fs(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(e.field),op:Ig(e.op),value:e.value}}}(i):i instanceof si?function(e){const t=e.getFilters().map(o=>yu(o));return 1===t.length?t[0]:{compositeFilter:{op:uh(e.op),filters:t}}}(i):hn()}function tc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function qa(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ch(e)),e=Pf(i.get(t),e);return ch(e)}function Pf(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const f=i.charAt(l);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function ch(i){return i+"\x01\x01"}function bl(i){const e=i.length;if(In(e>=2),2===e)return In("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Sr.emptyPath();const t=e-2,o=[];let l="";for(let f=0;f<e;){const C=i.indexOf("\x01",f);switch((C<0||C>t)&&hn(),i.charAt(C+1)){case"\x01":const R=i.substring(f,C);let W;0===l.length?W=R:(l+=R,W=l,l=""),o.push(W);break;case"\x10":l+=i.substring(f,C),l+="\0";break;case"\x11":l+=i.substring(f,C+1);break;default:hn()}f=C+2}return new Sr(o)}const dh=["userId","batchId"];function nc(i,e){return[i,qa(e)]}function ud(i,e,t){return[i,qa(e),t]}const hh={},bg=["prefixPath","collectionGroup","readTime","documentId"],Tg=["prefixPath","collectionGroup","documentId"],h=["collectionGroup","readTime","prefixPath","documentId"],u=["canonicalId","targetId"],c=["targetId","path"],_=["path","targetId"],M=["collectionId","parent"],j=["indexId","uid"],q=["uid","sequenceNumber"],oe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ie=["indexId","uid","orderedDocumentKey"],Re=["userId","collectionPath","documentId"],It=["userId","collectionPath","largestBatchId"],At=["userId","collectionGroup","largestBatchId"],Ft=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cn=[...Ft,"documentOverlays"],Zn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ai=Zn,Wo=[...ai,"indexConfiguration","indexState","indexEntries"];class Tl extends cl{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Cs(i,e){const t=ln(i);return Ps.M(t.se,e)}class rc{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&ot(f,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=tt(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=tt(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=nd();return this.mutations.forEach(l=>{const f=e.get(l.key),C=f.overlayedDocument;let R=this.applyToLocalView(C,f.mutatedFields);R=t.has(l.key)?null:R;const W=le(C,R);null!==W&&o.set(l.key,W),C.isValidDocument()||C.convertToNoDocument(On.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),br())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(t,o)=>$t(t,o))&&Ms(this.baseMutations,e.baseMutations,(t,o)=>$t(t,o))}}class cd{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){In(e.mutations.length===o.length);let l=Tf;const f=e.mutations;for(let C=0;C<f.length;C++)l=l.insert(f[C].key,o[C].version);return new cd(e,t,o,l)}}class Of{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _u{constructor(e,t,o,l,f=On.min(),C=On.min(),R=Fi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=R}withSequenceNumber(e){return new _u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sg{constructor(e){this.ie=e}}function Ag(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Zu(l=i.ie,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:pu(l,f.version.toTimestamp()),createTime:pu(l,f.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:vu(e.version)};else{if(!e.isUnknownDocument())return hn();o.unknownDocument={path:t.path.toArray(),version:vu(e.version)}}var l,f;return o}function fh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function vu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ic(i){const e=new ti(i.seconds,i.nanoseconds);return On.fromTimestamp(e)}function sc(i,e){const t=(e.baseMutations||[]).map(f=>od(i.ie,f));for(let f=0;f<e.mutations.length-1;++f){const C=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(C.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>od(i.ie,f)),l=ti.fromMillis(e.localWriteTimeMs);return new rc(e.batchId,l,t,o)}function dd(i){const e=ic(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?ic(i.lastLimboFreeSnapshotVersion):On.min();let o;var l;return void 0!==i.query.documents?(In(1===(l=i.query).documents.length),o=zi(jl(mu(l.documents[0])))):o=zi(sh(i.query)),new _u(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Fi.fromBase64String(i.resumeToken))}function xf(i,e){const t=vu(e.snapshotVersion),o=vu(e.lastLimboFreeSnapshotVersion);let l;l=da(e.target)?ld(i.ie,e.target):Xu(i.ie,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:al(e.target),readTime:t,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Rf(i){const e=sh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?v(e,e.limit,"L"):e}function Nf(i,e){return new Of(e.largestBatchId,od(i.ie,e.overlayMutation))}function Ra(i,e){const t=e.path.lastSegment();return[i,qa(e.path.popLast()),t]}function ph(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:vu(o.readTime),documentKey:qa(o.documentKey.path),largestBatchId:o.largestBatchId}}class Mg{getBundleMetadata(e,t){return gh(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:ic(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return gh(e).put({bundleId:(o=t).id,createTime:vu(lo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return pa(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Rf(l.bundledQuery),readTime:ic(l.readTime)};var l})}saveNamedQuery(e,t){return pa(e).put({name:(o=t).name,readTime:vu(lo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function gh(i){return Cs(i,"bundles")}function pa(i){return Cs(i,"namedQueries")}class Au{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Au(e,t.uid||"")}getOverlay(e,t){return Mc(e).get(Ra(this.userId,t)).next(o=>o?Nf(this.yt,o):null)}getOverlays(e,t){const o=xa();return gt.forEach(t,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((f,C)=>{const R=new Of(t,C);l.push(this.oe(e,R))}),gt.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(C=>l.add(qa(C.getCollectionPath())));const f=[];return l.forEach(C=>{const R=IDBKeyRange.bound([this.userId,C,o],[this.userId,C,o+1],!1,!0);f.push(Mc(e).Y("collectionPathOverlayIndex",R))}),gt.waitFor(f)}getOverlaysForCollection(e,t,o){const l=xa(),f=qa(t),C=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Mc(e).W("collectionPathOverlayIndex",C).next(R=>{for(const W of R){const Q=Nf(this.yt,W);l.set(Q.getKey(),Q)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const f=xa();let C;const R=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mc(e).Z({index:"collectionGroupOverlayIndex",range:R},(W,Q,ae)=>{const Ae=Nf(this.yt,Q);f.size()<l||Ae.largestBatchId===C?(f.set(Ae.getKey(),Ae),C=Ae.largestBatchId):ae.done()}).next(()=>f)}oe(e,t){return Mc(e).put(function(o,l,f){const[C,R,W]=Ra(l,f.mutation.key);return{userId:l,collectionPath:R,documentId:W,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Ac(o.ie,f.mutation)}}(this.yt,this.userId,t))}}function Mc(i){return Cs(i,"documentOverlays")}class oc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(S(e.integerValue));else if("doubleValue"in e){const o=S(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),Ga(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(D(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?hl(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):hn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const l of Object.keys(o))this.de(l,t),this.ce(o[l],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const l of o)this.ce(l,t)}me(e,t){this.he(t,37),on.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function yy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function kf(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const f=yy(255&t[l]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}oc.Ie=new oc;class _y{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ee(o.value),o=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.be(o.value),o=t.next();this.Pe()}ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const l=t.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const l=t.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}xe(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(l){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,l,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Pg{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class vy{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Pc{constructor(){this.$e=new _y,this.Be=new Pg(this.$e),this.Le=new vy(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class ac{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ac(this.indexId,this.documentKey,this.arrayValue,o)}}function Mu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ff(i.arrayValue,e.arrayValue),0!==t?t:(t=Ff(i.directionalValue,e.directionalValue),0!==t?t:on.comparator(i.documentKey,e.documentKey)))}function Ff(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Og{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const o=t;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){In(e.collectionGroup===this.collectionId);const t=oo(e);if(void 0!==t&&!this.We(t))return!1;const o=Po(e);let l=0,f=0;for(;l<o.length&&this.We(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Qe){const C=o[l];if(!this.ze(this.Qe,C)||!this.He(this.Ke[f++],C))return!1;++l}for(;l<o.length;++l){const C=o[l];if(f>=this.Ke.length||!this.He(this.Ke[f++],C))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xg(i){var e,t;if(In(i instanceof Hr||i instanceof si),i instanceof Hr){if(i instanceof Oa){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(f=>Hr.create(i.field,"==",f)))||[];return si.create(l,"or")}return i}const o=i.filters.map(l=>xg(l));return si.create(o,i.op)}function Oc(i){if(0===i.getFilters().length)return[];const e=Ng(xg(i));return In(Rg(e)),Wl(e)||Lf(e)?[e]:e.getFilters()}function Wl(i){return i instanceof Hr}function Lf(i){return i instanceof si&&Jl(i)}function Rg(i){return Wl(i)||Lf(i)||function(e){if(e instanceof si&&Ma(e)){for(const t of e.getFilters())if(!Wl(t)&&!Lf(t))return!1;return!0}return!1}(i)}function Ng(i){if(In(i instanceof Hr||i instanceof si),i instanceof Hr)return i;if(1===i.filters.length)return Ng(i.filters[0]);const e=i.filters.map(o=>Ng(o));let t=si.create(e,i.op);return t=Uf(t),Rg(t)?t:(In(t instanceof si),In(ua(t)),In(t.filters.length>1),t.filters.reduce((o,l)=>kg(o,l)))}function kg(i,e){let t;return In(i instanceof Hr||i instanceof si),In(e instanceof Hr||e instanceof si),t=i instanceof Hr?e instanceof Hr?si.create([i,e],"and"):Vf(i,e):e instanceof Hr?Vf(e,i):function(o,l){if(In(o.filters.length>0&&l.filters.length>0),ua(o)&&ua(l))return ta(o,l.getFilters());const f=Ma(o)?o:l,C=Ma(o)?l:o,R=f.filters.map(W=>kg(W,C));return si.create(R,"or")}(i,e),Uf(t)}function Vf(i,e){if(ua(e))return ta(e,i.getFilters());{const t=e.filters.map(o=>kg(i,o));return si.create(t,"or")}}function Uf(i){if(In(i instanceof Hr||i instanceof si),i instanceof Hr)return i;const e=i.getFilters();if(1===e.length)return Uf(e[0]);if(ts(i))return i;const t=e.map(l=>Uf(l)),o=[];return t.forEach(l=>{l instanceof Hr?o.push(l):l instanceof si&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:si.create(o,i.op)}class ou{constructor(){this.Je=new hd}addToCollectionParentIndex(e,t){return this.Je.add(t),gt.resolve()}getCollectionParents(e,t){return gt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return gt.resolve()}deleteFieldIndex(e,t){return gt.resolve()}getDocumentsMatchingTarget(e,t){return gt.resolve(null)}getIndexType(e,t){return gt.resolve(0)}getFieldIndexes(e,t){return gt.resolve([])}getNextCollectionGroupToUpdate(e){return gt.resolve(null)}getMinOffset(e,t){return gt.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,t){return gt.resolve(ms.min())}updateCollectionGroup(e,t,o){return gt.resolve()}updateIndexEntries(e,t){return gt.resolve()}}class hd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new yi(Sr.comparator),f=!l.has(o);return this.index[t]=l.add(o),f}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new yi(Sr.comparator)).toArray()}}const xc=new Uint8Array(0);class Ey{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new hd,this.Xe=new Ro(o=>al(o),(o,l)=>Io(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const f={collectionId:o,parent:qa(l)};return Bf(e).put(f)}return gt.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[xl(t),""],!1,!0);return Bf(e).W(l).next(f=>{for(const C of f){if(C.collectionId!==t)break;o.push(bl(C.parent))}return o})}addFieldIndex(e,t){const o=Pu(e),l={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var C;delete l.indexId;const f=o.add(l);if(t.indexState){const C=pd(e);return f.next(R=>{C.put(ph(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return f.next()}deleteFieldIndex(e,t){const o=Pu(e),l=pd(e),f=fd(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=fd(e);let l=!0;const f=new Map;return gt.forEach(this.Ze(t),C=>this.tn(e,C).next(R=>{l&&(l=!!R),f.set(C,R)})).next(()=>{if(l){let C=br();const R=[];return gt.forEach(f,(W,Q)=>{var ae;jt("IndexedDbIndexManager",`Using index ${ae=W,`id=${ae.indexId}|cg=${ae.collectionGroup}|f=${ae.fields.map(qi=>`${qi.fieldPath}:${qi.kind}`).join(",")}`} to execute ${al(t)}`);const Ae=function(qi,qo){const cs=oo(qo);if(void 0===cs)return null;for(const Ui of Vl(qi,cs.fieldPath))switch(Ui.op){case"array-contains-any":return Ui.value.arrayValue.values||[];case"array-contains":return[Ui.value]}return null}(Q,W),ct=function(qi,qo){const cs=new Map;for(const Ui of Po(qo))for(const Yo of Vl(qi,Ui.fieldPath))switch(Yo.op){case"==":case"in":cs.set(Ui.fieldPath.canonicalString(),Yo.value);break;case"not-in":case"!=":return cs.set(Ui.fieldPath.canonicalString(),Yo.value),Array.from(cs.values())}return null}(Q,W),Lt=function(qi,qo){const cs=[];let Ui=!0;for(const Yo of Po(qo)){const wc=0===Yo.kind?Ul(qi,Yo.fieldPath,qi.startAt):Bl(qi,Yo.fieldPath,qi.startAt);cs.push(wc.value),Ui&&(Ui=wc.inclusive)}return new Aa(cs,Ui)}(Q,W),qt=function(qi,qo){const cs=[];let Ui=!0;for(const Yo of Po(qo)){const wc=0===Yo.kind?Bl(qi,Yo.fieldPath,qi.endAt):Ul(qi,Yo.fieldPath,qi.endAt);cs.push(wc.value),Ui&&(Ui=wc.inclusive)}return new Aa(cs,Ui)}(Q,W),vn=this.en(W,Q,Lt),Jn=this.en(W,Q,qt),ws=this.nn(W,Q,ct),Ks=this.sn(W.indexId,Ae,vn,Lt.inclusive,Jn,qt.inclusive,ws);return gt.forEach(Ks,qi=>o.J(qi,t.limit).next(qo=>{qo.forEach(cs=>{const Ui=on.fromSegments(cs.documentKey);C.has(Ui)||(C=C.add(Ui),R.push(Ui))})}))}).next(()=>R)}return gt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Oc(si.create(e.filters,"and")).map(o=>Ll(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,o,l,f,C,R){const W=(null!=t?t.length:1)*Math.max(o.length,f.length),Q=W/(null!=t?t.length:1),ae=[];for(let Ae=0;Ae<W;++Ae){const ct=t?this.rn(t[Ae/Q]):xc,Lt=this.on(e,ct,o[Ae%Q],l),qt=this.un(e,ct,f[Ae%Q],C),vn=R.map(Jn=>this.on(e,ct,Jn,!0));ae.push(...this.createRange(Lt,qt,vn))}return ae}on(e,t,o,l){const f=new ac(e,on.empty(),t,o);return l?f:f.Ue()}un(e,t,o,l){const f=new ac(e,on.empty(),t,o);return l?f.Ue():f}tn(e,t){const o=new Og(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(f=>{let C=null;for(const R of f)o.je(R)&&(!C||R.fields.length>C.fields.length)&&(C=R);return C})}getIndexType(e,t){let o=2;const l=this.Ze(t);return gt.forEach(l,f=>this.tn(e,f).next(C=>{C?0!==o&&C.fields.length<function(R){let W=new yi(Ti.comparator),Q=!1;for(const ae of R.filters)for(const Ae of ae.getFlattenedFilters())Ae.field.isKeyField()||("array-contains"===Ae.op||"array-contains-any"===Ae.op?Q=!0:W=W.add(Ae.field));for(const ae of R.orderBy)ae.field.isKeyField()||(W=W.add(ae.field));return W.size+(Q?1:0)}(f)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}cn(e,t){const o=new Pc;for(const l of Po(e)){const f=t.data.field(l.fieldPath);if(null==f)return null;const C=o.qe(l.kind);oc.Ie.ue(f,C)}return o.Fe()}rn(e){const t=new Pc;return oc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const o=new Pc;return oc.Ie.ue(Os(this.databaseId,t),o.qe(function(l){const f=Po(l);return 0===f.length?0:f[f.length-1].kind}(e))),o.Fe()}nn(e,t,o){if(null===o)return[];let l=[];l.push(new Pc);let f=0;for(const C of Po(e)){const R=o[f++];for(const W of l)if(this.hn(t,C.fieldPath)&&Do(R))l=this.ln(l,C,R);else{const Q=W.qe(C.kind);oc.Ie.ue(R,Q)}}return this.fn(l)}en(e,t,o){return this.nn(e,t,o.position)}fn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Fe();return t}ln(e,t,o){const l=[...e],f=[];for(const C of o.arrayValue.values||[])for(const R of l){const W=new Pc;W.seed(R.Fe()),oc.Ie.ue(C,W.qe(t.kind)),f.push(W)}return f}hn(e,t){return!!e.filters.find(o=>o instanceof Hr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Pu(e),l=pd(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(f=>{const C=[];return gt.forEach(f,R=>l.get([R.indexId,this.uid]).next(W=>{C.push(function(Q,ae){const Ae=ae?new tl(ae.sequenceNumber,new ms(ic(ae.readTime),new on(bl(ae.documentKey)),ae.largestBatchId)):tl.empty(),ct=Q.fields.map(([Lt,qt])=>new Ea(Ti.fromServerFormat(Lt),qt));return new to(Q.indexId,Q.collectionGroup,ct,Ae)}(R,W))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const f=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==f?f:tr(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=Pu(e),f=pd(e);return this.dn(e).next(C=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>gt.forEach(R,W=>f.put(ph(W.indexId,this.user,C,o)))))}updateIndexEntries(e,t){const o=new Map;return gt.forEach(t,(l,f)=>{const C=o.get(l.collectionGroup);return(C?gt.resolve(C):this.getFieldIndexes(e,l.collectionGroup)).next(R=>(o.set(l.collectionGroup,R),gt.forEach(R,W=>this._n(e,l,W).next(Q=>{const ae=this.wn(f,W);return Q.isEqual(ae)?gt.resolve():this.mn(e,f,W,Q,ae)}))))})}gn(e,t,o,l){return fd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(o,t.key),documentKey:t.key.path.toArray()})}yn(e,t,o,l){return fd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(o,t.key),t.key.path.toArray()])}_n(e,t,o){const l=fd(e);let f=new yi(Mu);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,t)])},(C,R)=>{f=f.add(new ac(o.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>f)}wn(e,t){let o=new yi(Mu);const l=this.cn(t,e);if(null==l)return o;const f=oo(t);if(null!=f){const C=e.data.field(f.fieldPath);if(Do(C))for(const R of C.arrayValue.values||[])o=o.add(new ac(t.indexId,e.key,this.rn(R),l))}else o=o.add(new ac(t.indexId,e.key,xc,l));return o}mn(e,t,o,l,f){jt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(R,W,Q,ae,Ae){const ct=R.getIterator(),Lt=W.getIterator();let qt=ys(ct),vn=ys(Lt);for(;qt||vn;){let Jn=!1,ws=!1;if(qt&&vn){const Ks=Q(qt,vn);Ks<0?ws=!0:Ks>0&&(Jn=!0)}else null!=qt?ws=!0:Jn=!0;Jn?(ae(vn),vn=ys(Lt)):ws?(Ae(qt),qt=ys(ct)):(qt=ys(ct),vn=ys(Lt))}}(l,f,Mu,R=>{C.push(this.gn(e,t,o,R))},R=>{C.push(this.yn(e,t,o,R))}),gt.waitFor(C)}dn(e){let t=1;return pd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,f)=>{f.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((C,R)=>Mu(C,R)).filter((C,R,W)=>!R||0!==Mu(C,W[R-1]));const l=[];l.push(e);for(const C of o){const R=Mu(C,e),W=Mu(C,t);if(0===R)l[0]=e.Ue();else if(R>0&&W<0)l.push(C),l.push(C.Ue());else if(W>0)break}l.push(t);const f=[];for(let C=0;C<l.length;C+=2){if(this.pn(l[C],l[C+1]))return[];f.push(IDBKeyRange.bound([l[C].indexId,this.uid,l[C].arrayValue,l[C].directionalValue,xc,[]],[l[C+1].indexId,this.uid,l[C+1].arrayValue,l[C+1].directionalValue,xc,[]]))}return f}pn(e,t){return Mu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Fg)}getMinOffset(e,t){return gt.mapArray(this.Ze(t),o=>this.tn(e,o).next(l=>l||hn())).next(Fg)}}function Bf(i){return Cs(i,"collectionParents")}function fd(i){return Cs(i,"indexEntries")}function Pu(i){return Cs(i,"indexConfiguration")}function pd(i){return Cs(i,"indexState")}function Fg(i){In(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;rl(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new ms(e.readTime,e.documentKey,t)}const mh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Na{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Na(e,Na.DEFAULT_COLLECTION_PERCENTILE,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jf(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),f=[],C=IDBKeyRange.only(t.batchId);let R=0;const W=o.Z({range:C},(ae,Ae,ct)=>(R++,ct.delete()));f.push(W.next(()=>{In(1===R)}));const Q=[];for(const ae of t.mutations){const Ae=ud(e,ae.key.path,t.batchId);f.push(l.delete(Ae)),Q.push(ae.key)}return gt.waitFor(f).next(()=>Q)}function Hf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw hn();e=i.noDocument}return JSON.stringify(e).length}Na.DEFAULT_COLLECTION_PERCENTILE=10,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Na.DEFAULT=new Na(41943040,Na.DEFAULT_COLLECTION_PERCENTILE,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Na.DISABLED=new Na(-1,0,0);class Eu{constructor(e,t,o,l){this.userId=e,this.yt=t,this.indexManager=o,this.referenceDelegate=l,this.In={}}static re(e,t,o,l){In(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Eu(f,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).Z({index:"userMutationsIndex",range:o},(l,f,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const f=Rc(e),C=Cu(e);return C.add({}).next(R=>{In("number"==typeof R);const W=new rc(R,t,o,l),Q=function(ct,Lt,qt){const vn=qt.baseMutations.map(ws=>Ac(ct.ie,ws)),Jn=qt.mutations.map(ws=>Ac(ct.ie,ws));return{userId:Lt,batchId:qt.batchId,localWriteTimeMs:qt.localWriteTime.toMillis(),baseMutations:vn,mutations:Jn}}(this.yt,this.userId,W),ae=[];let Ae=new yi((ct,Lt)=>tr(ct.canonicalString(),Lt.canonicalString()));for(const ct of l){const Lt=ud(this.userId,ct.key.path,R);Ae=Ae.add(ct.key.path.popLast()),ae.push(C.put(Q)),ae.push(f.put(Lt,hh))}return Ae.forEach(ct=>{ae.push(this.indexManager.addToCollectionParentIndex(e,ct))}),e.addOnCommittedListener(()=>{this.In[R]=W.keys()}),gt.waitFor(ae).next(()=>W)})}lookupMutationBatch(e,t){return Cu(e).get(t).next(o=>o?(In(o.userId===this.userId),sc(this.yt,o)):null)}Tn(e,t){return this.In[t]?gt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Cu(e).Z({index:"userMutationsIndex",range:l},(C,R,W)=>{R.userId===this.userId&&(In(R.batchId>=o),f=sc(this.yt,R)),W.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Cu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,f,C)=>{o=f.batchId,C.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).W("userMutationsIndex",t).next(o=>o.map(l=>sc(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=nc(this.userId,t.path),l=IDBKeyRange.lowerBound(o),f=[];return Rc(e).Z({range:l},(C,R,W)=>{const[Q,ae,Ae]=C,ct=bl(ae);if(Q===this.userId&&t.path.isEqual(ct))return Cu(e).get(Ae).next(Lt=>{if(!Lt)throw hn();In(Lt.userId===this.userId),f.push(sc(this.yt,Lt))});W.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new yi(tr);const l=[];return t.forEach(f=>{const C=nc(this.userId,f.path),R=IDBKeyRange.lowerBound(C),W=Rc(e).Z({range:R},(Q,ae,Ae)=>{const[ct,Lt,qt]=Q,vn=bl(Lt);ct===this.userId&&f.path.isEqual(vn)?o=o.add(qt):Ae.done()});l.push(W)}),gt.waitFor(l).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,f=nc(this.userId,o),C=IDBKeyRange.lowerBound(f);let R=new yi(tr);return Rc(e).Z({range:C},(W,Q,ae)=>{const[Ae,ct,Lt]=W,qt=bl(ct);Ae===this.userId&&o.isPrefixOf(qt)?qt.length===l&&(R=R.add(Lt)):ae.done()}).next(()=>this.En(e,R))}En(e,t){const o=[],l=[];return t.forEach(f=>{l.push(Cu(e).get(f).next(C=>{if(null===C)throw hn();In(C.userId===this.userId),o.push(sc(this.yt,C))}))}),gt.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return jf(e.se,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),gt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return gt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Rc(e).Z({range:o},(f,C,R)=>{if(f[0]===this.userId){const W=bl(f[1]);l.push(W)}else R.done()}).next(()=>{In(0===l.length)})})}containsKey(e,t){return yh(e,this.userId,t)}Rn(e){return _h(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yh(i,e,t){const o=nc(e,t.path),l=o[1],f=IDBKeyRange.lowerBound(o);let C=!1;return Rc(i).Z({range:f,X:!0},(R,W,Q)=>{const[ae,Ae,ct]=R;ae===e&&Ae===l&&(C=!0),Q.done()}).next(()=>C)}function Cu(i){return Cs(i,"mutations")}function Rc(i){return Cs(i,"documentMutations")}function _h(i){return Cs(i,"mutationQueues")}class lc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lc(0)}static vn(){return new lc(-1)}}class Cy{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new lc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>On.fromTimestamp(new ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(In(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let l=0;const f=[];return Nc(e).Z((C,R)=>{const W=dd(R);W.sequenceNumber<=t&&null===o.get(W.targetId)&&(l++,f.push(this.removeTargetData(e,W)))}).next(()=>gt.waitFor(f)).next(()=>l)}forEachTarget(e,t){return Nc(e).Z((o,l)=>{const f=dd(l);t(f)})}Vn(e){return Lg(e).get("targetGlobalKey").next(t=>(In(null!==t),t))}Sn(e,t){return Lg(e).put("targetGlobalKey",t)}Dn(e,t){return Nc(e).put(xf(this.yt,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=al(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Nc(e).Z({range:l,index:"queryTargetsIndex"},(C,R,W)=>{const Q=dd(R);Io(t,Q.target)&&(f=Q,W.done())}).next(()=>f)}addMatchingKeys(e,t,o){const l=[],f=Ou(e);return t.forEach(C=>{const R=qa(C.path);l.push(f.put({targetId:o,path:R})),l.push(this.referenceDelegate.addReference(e,o,C))}),gt.waitFor(l)}removeMatchingKeys(e,t,o){const l=Ou(e);return gt.forEach(t,f=>{const C=qa(f.path);return gt.waitFor([l.delete([o,C]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,t){const o=Ou(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=Ou(e);let f=br();return l.Z({range:o,X:!0},(C,R,W)=>{const Q=bl(C[1]),ae=new on(Q);f=f.add(ae)}).next(()=>f)}containsKey(e,t){const o=qa(t.path),l=IDBKeyRange.bound([o],[xl(o)],!1,!0);let f=0;return Ou(e).Z({index:"documentTargetsIndex",X:!0,range:l},([C,R],W,Q)=>{0!==C&&(f++,Q.done())}).next(()=>f>0)}ne(e,t){return Nc(e).get(t).next(o=>o?dd(o):null)}}function Nc(i){return Cs(i,"targets")}function Lg(i){return Cs(i,"targetGlobal")}function Ou(i){return Cs(i,"targetDocuments")}function Vg([i,e],[t,o]){const l=tr(i,t);return 0===l?tr(e,o):l}class Ug{constructor(e){this.xn=e,this.buffer=new yi(Vg),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Vg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $f{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;jt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Wi(o)?jt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Eo(o)}yield t.Fn(3e5)}))}}class Bg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return gt.resolve(Oo.at);const o=new Ug(t);return this.$n.forEachTarget(e,l=>o.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>o.On(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(mh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mh):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let o,l,f,C,R,W,Q;const ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),l=this.params.maximumSequenceNumbersToCollect):l=Ae,C=Date.now(),this.nthSequenceNumber(e,l))).next(Ae=>(o=Ae,R=Date.now(),this.removeTargets(e,o,t))).next(Ae=>(f=Ae,W=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ae=>(Q=Date.now(),gi()<=H.in.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-ae}ms\n\tDetermined least recently used ${l} in `+(R-C)+`ms\n\tRemoved ${f} targets in `+(W-R)+`ms\n\tRemoved ${Ae} documents in `+(Q-W)+`ms\nTotal Duration: ${Q-ae}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:Ae})))}}class Gf{constructor(e,t){this.db=e,this.garbageCollector=new Bg(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Un(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,l)=>t(l))}addReference(e,t,o){return vh(e,o)}removeReference(e,t,o){return vh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return vh(e,t)}Gn(e,t){return function(o,l){let f=!1;return _h(o).tt(C=>yh(o,C,l).next(R=>(R&&(f=!0),gt.resolve(!R)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Kn(e,(C,R)=>{if(R<=t){const W=this.Gn(e,C).next(Q=>{if(!Q)return f++,o.getEntry(e,C).next(()=>(o.removeEntry(C,On.min()),Ou(e).delete([0,qa(C.path)])))});l.push(W)}}).next(()=>gt.waitFor(l)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return vh(e,t)}Kn(e,t){const o=Ou(e);let l,f=Oo.at;return o.Z({index:"documentTargetsIndex"},([C,R],{path:W,sequenceNumber:Q})=>{0===C?(f!==Oo.at&&t(new on(bl(l)),f),f=Q,l=W):f=Oo.at}).next(()=>{f!==Oo.at&&t(new on(bl(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vh(i,e){return Ou(i).put((o=i.currentSequenceNumber,{targetId:0,path:qa(e.path),sequenceNumber:o}));var o}class jg{constructor(){this.changes=new Ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?gt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hg{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return xu(e).put(o)}removeEntry(e,t,o){return xu(e).delete(function(l,f){const C=l.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],fh(f),C[C.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=ci.newInvalidDocument(t);return xu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gd(t))},(l,f)=>{o=this.jn(t,f)}).next(()=>o)}Wn(e,t){let o={size:0,document:ci.newInvalidDocument(t)};return xu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gd(t))},(l,f)=>{o={document:this.jn(t,f),size:Hf(f)}}).next(()=>o)}getEntries(e,t){let o=zs();return this.zn(e,t,(l,f)=>{const C=this.jn(l,f);o=o.insert(l,C)}).next(()=>o)}Hn(e,t){let o=zs(),l=new Si(on.comparator);return this.zn(e,t,(f,C)=>{const R=this.jn(f,C);o=o.insert(f,R),l=l.insert(f,Hf(C))}).next(()=>({documents:o,Jn:l}))}zn(e,t,o){if(t.isEmpty())return gt.resolve();let l=new yi(md);t.forEach(W=>l=l.add(W));const f=IDBKeyRange.bound(gd(l.first()),gd(l.last())),C=l.getIterator();let R=C.getNext();return xu(e).Z({index:"documentKeyIndex",range:f},(W,Q,ae)=>{const Ae=on.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;R&&md(R,Ae)<0;)o(R,null),R=C.getNext();R&&R.isEqual(Ae)&&(o(R,Q),R=C.hasNext()?C.getNext():null),R?ae.j(gd(R)):ae.done()}).next(()=>{for(;R;)o(R,null),R=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const f=t.path,C=[f.popLast().toArray(),f.lastSegment(),fh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],R=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xu(e).W(IDBKeyRange.bound(C,R,!0)).next(W=>{let Q=zs();for(const ae of W){const Ae=this.jn(on.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);Ae.isFoundDocument()&&(te(t,Ae)||l.has(Ae.key))&&(Q=Q.insert(Ae.key,Ae))}return Q})}getAllFromCollectionGroup(e,t,o,l){let f=zs();const C=wy(t,o),R=wy(t,ms.max());return xu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,R,!0)},(W,Q,ae)=>{const Ae=this.jn(on.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);f=f.insert(Ae.key,Ae),f.size===l&&ae.done()}).next(()=>f)}newChangeBuffer(e){return new uc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zf(e).get("remoteDocumentGlobalKey").next(t=>(In(!!t),t))}Qn(e,t){return zf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function my(i,e){let t;if(e.document)t=function Af(i,e,t){const o=_l(i,e.name),l=lo(e.updateTime),f=e.createTime?lo(e.createTime):On.min(),C=new io({mapValue:{fields:e.fields}}),R=ci.newFoundDocument(o,l,f,C);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=on.fromSegments(e.noDocument.path),l=ic(e.noDocument.readTime);t=ci.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return hn();{const o=on.fromSegments(e.unknownDocument.path),l=ic(e.unknownDocument.version);t=ci.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new ti(o[0],o[1]);return On.fromTimestamp(l)}(e.readTime)),t}(this.yt,t);if(!o.isNoDocument()||!o.version.isEqual(On.min()))return o}return ci.newInvalidDocument(e)}}function Wf(i){return new Hg(i)}class uc extends jg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ro(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new yi((f,C)=>tr(f.canonicalString(),C.canonicalString()));return this.changes.forEach((f,C)=>{const R=this.Xn.get(f);if(t.push(this.Yn.removeEntry(e,f,R.readTime)),C.isValidDocument()){const W=Ag(this.Yn.yt,C);l=l.add(f.path.popLast()),o+=Hf(W)-R.size,t.push(this.Yn.addEntry(e,f,W))}else if(o-=R.size,this.trackRemovals){const W=Ag(this.Yn.yt,C.convertToNoDocument(On.min()));t.push(this.Yn.addEntry(e,f,W))}}),l.forEach(f=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.Yn.updateMetadata(e,o)),gt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:l})=>(l.forEach((f,C)=>{this.Xn.set(f,{size:C,readTime:o.get(f).readTime})}),o))}}function zf(i){return Cs(i,"remoteDocumentGlobal")}function xu(i){return Cs(i,"remoteDocumentsV14")}function gd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wy(i,e){const t=e.documentKey.path.toArray();return[i,fh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function md(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let f=0;f<t.length-2&&f<o.length-2;++f)if(l=tr(t[f],o[f]),l)return l;return l=tr(t.length,o.length),l||(l=tr(t[t.length-2],o[o.length-2]),l||tr(t[t.length-1],o[o.length-1]))}class Dy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Kf{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&tt(o.mutation,l,Vs.empty(),ti.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,br()).next(()=>o))}getLocalViewOfDocuments(e,t,o=br()){const l=xa();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(f=>{let C=iu();return f.forEach((R,W)=>{C=C.insert(R,W.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const o=xa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,br()))}populateOverlays(e,t,o){const l=[];return o.forEach(f=>{t.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((C,R)=>{t.set(C,R)})})}computeViews(e,t,o,l){let f=zs();const C=Ic(),R=Ic();return t.forEach((W,Q)=>{const ae=o.get(Q.key);l.has(Q.key)&&(void 0===ae||ae.mutation instanceof qn)?f=f.insert(Q.key,Q):void 0!==ae?(C.set(Q.key,ae.mutation.getFieldMask()),tt(ae.mutation,Q,ae.mutation.getFieldMask(),ti.now())):C.set(Q.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,f).next(W=>(W.forEach((Q,ae)=>C.set(Q,ae)),t.forEach((Q,ae)=>{var Ae;return R.set(Q,new Dy(ae,null!==(Ae=C.get(Q))&&void 0!==Ae?Ae:null))}),R))}recalculateAndSaveOverlays(e,t){const o=Ic();let l=new Si((C,R)=>C-R),f=br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const R of C)R.keys().forEach(W=>{const Q=t.get(W);if(null===Q)return;let ae=o.get(W)||Vs.empty();ae=R.applyToLocalView(Q,ae),o.set(W,ae);const Ae=(l.get(R.batchId)||br()).add(W);l=l.insert(R.batchId,Ae)})}).next(()=>{const C=[],R=l.getReverseIterator();for(;R.hasNext();){const W=R.getNext(),Q=W.key,ae=W.value,Ae=nd();ae.forEach(ct=>{if(!f.has(ct)){const Lt=le(t.get(ct),o.get(ct));null!==Lt&&Ae.set(ct,Lt),f=f.add(ct)}}),C.push(this.documentOverlayCache.saveOverlays(e,Q,Ae))}return gt.waitFor(C)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return on.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Il(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(f=>{const C=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-f.size):gt.resolve(xa());let R=-1,W=f;return C.next(Q=>gt.forEach(Q,(ae,Ae)=>(R<Ae.largestBatchId&&(R=Ae.largestBatchId),f.get(ae)?gt.resolve():this.remoteDocumentCache.getEntry(e,ae).next(ct=>{W=W.insert(ae,ct)}))).next(()=>this.populateOverlays(e,Q,f)).next(()=>this.computeViews(e,W,Q,br())).next(ae=>({batchId:R,changes:Qd(ae)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new on(t)).next(o=>{let l=iu();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let f=iu();return this.indexManager.getCollectionParents(e,l).next(C=>gt.forEach(C,R=>{const W=(Q=t,ae=R.child(l),new xs(ae,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ae;return this.getDocumentsMatchingCollectionQuery(e,W,o).next(Q=>{Q.forEach((ae,Ae)=>{f=f.insert(ae,Ae)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(f=>{l.forEach((R,W)=>{const Q=W.getKey();null===f.get(Q)&&(f=f.insert(Q,ci.newInvalidDocument(Q)))});let C=iu();return f.forEach((R,W)=>{const Q=l.get(R);void 0!==Q&&tt(Q.mutation,W,Vs.empty(),ti.now()),te(t,W)&&(C=C.insert(R,W))}),C})}}class $g{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return gt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:lo(o.createTime)}),gt.resolve()}getNamedQuery(e,t){return gt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Rf(o.bundledQuery),readTime:lo(o.readTime)}),gt.resolve();var o}}class Gg{constructor(){this.overlays=new Si(on.comparator),this.es=new Map}getOverlay(e,t){return gt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=xa();return gt.forEach(t,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,f)=>{this.oe(e,t,f)}),gt.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.es.get(o);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.es.delete(o)),gt.resolve()}getOverlaysForCollection(e,t,o){const l=xa(),f=t.length+1,C=new on(t.child("")),R=this.overlays.getIteratorFrom(C);for(;R.hasNext();){const W=R.getNext().value,Q=W.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===f&&W.largestBatchId>o&&l.set(W.getKey(),W)}return gt.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let f=new Si((Q,ae)=>Q-ae);const C=this.overlays.getIterator();for(;C.hasNext();){const Q=C.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>o){let ae=f.get(Q.largestBatchId);null===ae&&(ae=xa(),f=f.insert(Q.largestBatchId,ae)),ae.set(Q.getKey(),Q)}}const R=xa(),W=f.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((Q,ae)=>R.set(Q,ae)),!(R.size()>=l)););return gt.resolve(R)}oe(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const C=this.es.get(l.largestBatchId).delete(o.key);this.es.set(l.largestBatchId,C)}this.overlays=this.overlays.insert(o.key,new Of(t,o));let f=this.es.get(t);void 0===f&&(f=br(),this.es.set(t,f)),this.es.set(t,f.add(o.key))}}class yd{constructor(){this.ns=new yi(zo.ss),this.rs=new yi(zo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new zo(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new zo(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new on(new Sr([])),o=new zo(t,e),l=new zo(t,e+1),f=[];return this.rs.forEachInRange([o,l],C=>{this.cs(C),f.push(C.key)}),f}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new on(new Sr([])),o=new zo(t,e),l=new zo(t,e+1);let f=br();return this.rs.forEachInRange([o,l],C=>{f=f.add(C.key)}),f}containsKey(e){const t=new zo(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class zo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return on.comparator(e.key,t.key)||tr(e._s,t._s)}static os(e,t){return tr(e._s,t._s)||on.comparator(e.key,t.key)}}class Eh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new yi(zo.ss)}checkEmpty(e){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const f=this.ws;this.ws++;const C=new rc(f,t,o,l);this.mutationQueue.push(C);for(const R of l)this.gs=this.gs.add(new zo(R.key,f)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return gt.resolve(C)}lookupMutationBatch(e,t){return gt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),f=l<0?0:l;return gt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new zo(t,0),l=new zo(t,Number.POSITIVE_INFINITY),f=[];return this.gs.forEachInRange([o,l],C=>{const R=this.ys(C._s);f.push(R)}),gt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new yi(tr);return t.forEach(l=>{const f=new zo(l,0),C=new zo(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([f,C],R=>{o=o.add(R._s)})}),gt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let f=o;on.isDocumentKey(f)||(f=f.child(""));const C=new zo(new on(f),0);let R=new yi(tr);return this.gs.forEachWhile(W=>{const Q=W.key.path;return!!o.isPrefixOf(Q)&&(Q.length===l&&(R=R.add(W._s)),!0)},C),gt.resolve(this.Is(R))}Is(e){const t=[];return e.forEach(o=>{const l=this.ys(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){In(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return gt.forEach(t.mutations,l=>{const f=new zo(l.key,t.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new zo(t,0),l=this.gs.firstAfterOrEqual(o);return gt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return gt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ch{constructor(e){this.Es=e,this.docs=new Si(on.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),f=l?l.size:0,C=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:C}),this.size+=C-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return gt.resolve(o?o.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let o=zs();return t.forEach(l=>{const f=this.docs.get(l);o=o.insert(l,f?f.document.mutableCopy():ci.newInvalidDocument(l))}),gt.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let f=zs();const C=t.path,R=new on(C.child("")),W=this.docs.getIteratorFrom(R);for(;W.hasNext();){const{key:Q,value:{document:ae}}=W.getNext();if(!C.isPrefixOf(Q.path))break;Q.path.length>C.length+1||rl(Ca(ae),o)<=0||(l.has(ae.key)||te(t,ae))&&(f=f.insert(ae.key,ae.mutableCopy()))}return gt.resolve(f)}getAllFromCollectionGroup(e,t,o,l){hn()}As(e,t){return gt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Wg(this)}getSize(e){return gt.resolve(this.size)}}class Wg extends jg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(o)}),gt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qf{constructor(e){this.persistence=e,this.Rs=new Ro(t=>al(t),Io),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.bs=0,this.Ps=new yd,this.targetCount=0,this.vs=lc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,l)=>t(l)),gt.resolve()}getLastRemoteSnapshotVersion(e){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),gt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,gt.resolve()}updateTargetData(e,t){return this.Dn(t),gt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,gt.resolve()}removeTargets(e,t,o){let l=0;const f=[];return this.Rs.forEach((C,R)=>{R.sequenceNumber<=t&&null===o.get(R.targetId)&&(this.Rs.delete(C),f.push(this.removeMatchingKeysForTargetId(e,R.targetId)),l++)}),gt.waitFor(f).next(()=>l)}getTargetCount(e){return gt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return gt.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),gt.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const l=this.persistence.referenceDelegate,f=[];return l&&t.forEach(C=>{f.push(l.markPotentiallyOrphaned(e,C))}),gt.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),gt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return gt.resolve(o)}containsKey(e,t){return gt.resolve(this.Ps.containsKey(t))}}class Yf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Oo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qf(this),this.indexManager=new ou,this.remoteDocumentCache=new Ch(o=>this.referenceDelegate.xs(o)),this.yt=new Sg(t),this.Ns=new $g(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Eh(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){jt("MemoryPersistence","Starting transaction:",e);const l=new Qf(this.Ss.next());return this.referenceDelegate.ks(),o(l).next(f=>this.referenceDelegate.Os(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ms(e,t){return gt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Qf extends cl{constructor(e){super(),this.currentSequenceNumber=e}}class Ru{constructor(e){this.persistence=e,this.Fs=new yd,this.$s=null}static Bs(e){return new Ru(e)}get Ls(){if(this.$s)return this.$s;throw hn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),gt.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),gt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),gt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(f=>this.Ls.add(f.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Ls,o=>{const l=on.fromPath(o);return this.qs(e,l).next(f=>{f||t.removeEntry(l,On.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return gt.or([()=>gt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Iy{constructor(e){this.yt=e}$(e,t,o,l){const f=new Co("createOrUpgrade",t);var R;o<1&&l>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dh,{unique:!0}),R.createObjectStore("documentMutations"),Zf(e),function(R){R.createObjectStore("remoteDocuments")}(e));let C=gt.resolve();return o<3&&l>=3&&(0!==o&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Zf(e)),C=C.next(()=>function(R){const W=R.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:On.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",Q)}(f))),o<4&&l>=4&&(0!==o&&(C=C.next(()=>function(R,W){return W.store("mutations").W().next(Q=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dh,{unique:!0});const ae=W.store("mutations"),Ae=Q.map(ct=>ae.put(ct));return gt.waitFor(Ae)})}(e,f))),C=C.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(C=C.next(()=>this.Us(f))),o<6&&l>=6&&(C=C.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(f)))),o<7&&l>=7&&(C=C.next(()=>this.Gs(f))),o<8&&l>=8&&(C=C.next(()=>this.Qs(e,f))),o<9&&l>=9&&(C=C.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(C=C.next(()=>this.js(f))),o<11&&l>=11&&(C=C.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(C=C.next(()=>{!function(R){const W=R.createObjectStore("documentOverlays",{keyPath:Re});W.createIndex("collectionPathOverlayIndex",It,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",At,{unique:!1})}(e)})),o<13&&l>=13&&(C=C.next(()=>function(R){const W=R.createObjectStore("remoteDocumentsV14",{keyPath:bg});W.createIndex("documentKeyIndex",Tg),W.createIndex("collectionGroupIndex",h)}(e)).next(()=>this.Ws(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(C=C.next(()=>this.zs(e,f))),o<15&&l>=15&&(C=C.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:j}).createIndex("sequenceNumberIndex",q,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:oe}).createIndex("documentKeyIndex",Ie,{unique:!1})}(e))),C}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,l)=>{t+=Hf(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(l=>gt.forEach(l,f=>{const C=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",C).next(R=>gt.forEach(R,W=>{In(W.userId===f.userId);const Q=sc(this.yt,W);return jf(e,f.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const f=[];return o.Z((C,R)=>{const W=new Sr(C),Q=[0,qa(W)];f.push(t.get(Q).next(ae=>ae?gt.resolve():t.put({targetId:0,path:qa(W),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>gt.waitFor(f))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:M});const o=t.store("collectionParents"),l=new hd,f=C=>{if(l.add(C)){const R=C.lastSegment(),W=C.popLast();return o.put({collectionId:R,parent:qa(W)})}};return t.store("remoteDocuments").Z({X:!0},(C,R)=>{const W=new Sr(C);return f(W.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([C,R,W],Q)=>{const ae=bl(R);return f(ae.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,l)=>{const f=dd(l),C=xf(this.yt,f);return t.put(C)})}Ws(e,t){const o=t.store("remoteDocuments"),l=[];return o.Z((f,C)=>{const R=t.store("remoteDocumentsV14"),W=(Q=C,Q.document?new on(Sr.fromString(Q.document.name).popFirst(5)):Q.noDocument?on.fromSegments(Q.noDocument.path):Q.unknownDocument?on.fromSegments(Q.unknownDocument.path):hn()).path.toArray();var Q;const ae={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};l.push(R.put(ae))}).next(()=>gt.waitFor(l))}zs(e,t){const o=t.store("mutations"),l=Wf(this.yt),f=new Yf(Ru.Bs,this.yt.ie);return o.W().next(C=>{const R=new Map;return C.forEach(W=>{var Q;let ae=null!==(Q=R.get(W.userId))&&void 0!==Q?Q:br();sc(this.yt,W).keys().forEach(Ae=>ae=ae.add(Ae)),R.set(W.userId,ae)}),gt.forEach(R,(W,Q)=>{const ae=new $r(Q),Ae=Au.re(this.yt,ae),ct=f.getIndexManager(ae),Lt=Eu.re(ae,this.yt,ct,f.referenceDelegate);return new Kf(l,Lt,Ae,ct).recalculateAndSaveOverlaysForDocumentKeys(new Tl(t,Oo.at),W).next()})})}}function Zf(i){i.createObjectStore("targetDocuments",{keyPath:c}).createIndex("documentTargetsIndex",_,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u,{unique:!0}),i.createObjectStore("targetGlobal")}const Jf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xf{constructor(e,t,o,l,f,C,R,W,Q,ae,Ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=f,this.window=C,this.document=R,this.Js=Q,this.Ys=ae,this.Xs=Ae,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ct=>Promise.resolve(),!Xf.C())throw new Ut(ft.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gf(this,l),this.ii=t+"main",this.yt=new Sg(W),this.ri=new Ps(this.ii,this.Xs,new Iy(this.yt)),this.Cs=new Cy(this.referenceDelegate,this.yt),this.remoteDocumentCache=Wf(this.yt),this.Ns=new Mg,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ae&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(ft.FAILED_PRECONDITION,Jf);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Oo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,p.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,p.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Wi(e))return jt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return jt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return kc(e).get("owner").next(t=>gt.resolve(this.mi(t)))}gi(e){return Fc(e).delete(this.clientId)}yi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Cs(o,"clientMetadata");return l.W().next(f=>{const C=e.Ii(f,18e5),R=f.filter(W=>-1===C.indexOf(W));return gt.forEach(R,W=>l.delete(W.clientId)).next(()=>R)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?gt.resolve(!0):kc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ut(ft.FAILED_PRECONDITION,Jf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fc(e).W().next(o=>void 0===this.Ii(o,5e3).find(l=>{if(this.clientId!==l.clientId){const C=!this.inForeground&&l.inForeground,R=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||C&&R)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&jt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Tl(t,Oo.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Fc(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Eu.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ey(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Au.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){jt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",f=15===(C=this.Xs)?Wo:14===C?ai:13===C?Zn:12===C?Cn:11===C?Ft:void hn();var C;let R;return this.ri.runTransaction(e,l,f,W=>(R=new Tl(W,this.Ss?this.Ss.next():Oo.at),"readwrite-primary"===t?this.fi(R).next(Q=>!!Q||this.di(R)).next(Q=>{if(!Q)throw Ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ut(ft.FAILED_PRECONDITION,Iu);return o(R)}).next(Q=>this.wi(R).next(()=>Q)):this.Vi(R).next(()=>o(R)))).then(W=>(R.raiseOnCommittedEvent(),W))}Vi(e){return kc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ut(ft.FAILED_PRECONDITION,Jf)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kc(e).put("owner",t)}static C(){return Ps.C()}_i(e){const t=kc(e);return t.get("owner").next(o=>this.mi(o)?(jt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):gt.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ji(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ge.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return jt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ji("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ji("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kc(i){return Cs(i,"owner")}function Fc(i){return Cs(i,"clientMetadata")}class zg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=l}static Ci(e,t){let o=br(),l=br();for(const f of t.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new zg(e,t.fromCache,o,l)}}class ep{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.ki(e,t).next(f=>f||this.Oi(e,t,l,o)).next(f=>f||this.Mi(e,t))}ki(e,t){if(Hl(t))return gt.resolve(null);let o=zi(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=v(t,null,"F"),o=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const C=br(...f);return this.Ni.getDocuments(e,C).next(R=>this.indexManager.getMinOffset(e,o).next(W=>{const Q=this.Fi(t,R);return this.$i(t,Q,C,W.readTime)?this.ki(e,v(t,null,"F")):this.Bi(e,Q,t,W)}))})))}Oi(e,t,o,l){return Hl(t)||l.isEqual(On.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(f=>{const C=this.Fi(t,f);return this.$i(t,C,o,l)?this.Mi(e,t):(gi()<=H.in.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),z(t)),this.Bi(e,C,t,function nl(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=On.fromTimestamp(1e9===o?new ti(t+1,0):new ti(t,o));return new ms(l,on.empty(),e)}(l,-1)))})}Fi(e,t){let o=new yi(Te(e));return t.forEach((l,f)=>{te(e,f)&&(o=o.add(f))}),o}$i(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const f="F"===e.limitType?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Mi(e,t){return gi()<=H.in.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",z(t)),this.Ni.getDocumentsMatchingQuery(e,t,ms.min())}Bi(e,t,o,l){return this.Ni.getDocumentsMatchingQuery(e,o,l).next(f=>(t.forEach(C=>{f=f.insert(C.key,C)}),f))}}class by{constructor(e,t,o,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new Si(tr),this.Ui=new Ro(f=>al(f),Io),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function tp(i,e,t,o){return new by(i,e,t,o)}function Kg(i,e){return np.apply(this,arguments)}function np(){return np=(0,p.Z)(function*(i,e){const t=ln(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(f=>(l=f,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(f=>{const C=[],R=[];let W=br();for(const Q of l){C.push(Q.batchId);for(const ae of Q.mutations)W=W.add(ae.key)}for(const Q of f){R.push(Q.batchId);for(const ae of Q.mutations)W=W.add(ae.key)}return t.localDocuments.getDocuments(o,W).next(Q=>({ji:Q,removedBatchIds:C,addedBatchIds:R}))})})}),np.apply(this,arguments)}function zl(i,e){const t=ln(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),f=t.Gi.newChangeBuffer({trackRemovals:!0});return function(C,R,W,Q){const ae=W.batch,Ae=ae.keys();let ct=gt.resolve();return Ae.forEach(Lt=>{ct=ct.next(()=>Q.getEntry(R,Lt)).next(qt=>{const vn=W.docVersions.get(Lt);In(null!==vn),qt.version.compareTo(vn)<0&&(ae.applyToRemoteDocument(qt,W),qt.isValidDocument()&&(qt.setReadTime(W.commitVersion),Q.addEntry(qt)))})}),ct.next(()=>C.mutationQueue.removeMutationBatch(R,ae))}(t,o,e,f).next(()=>f.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let R=br();for(let W=0;W<C.mutationResults.length;++W)C.mutationResults[W].transformResults.length>0&&(R=R.add(C.batch.mutations[W].key));return R}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}function qg(i){const e=ln(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Yg(i,e){const t=ln(i),o=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const C=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const R=[];e.targetChanges.forEach((ae,Ae)=>{const ct=l.get(Ae);if(!ct)return;R.push(t.Cs.removeMatchingKeys(f,ae.removedDocuments,Ae).next(()=>t.Cs.addMatchingKeys(f,ae.addedDocuments,Ae)));let Lt=ct.withSequenceNumber(f.currentSequenceNumber);var qt,vn,Jn;e.targetMismatches.has(Ae)?Lt=Lt.withResumeToken(Fi.EMPTY_BYTE_STRING,On.min()).withLastLimboFreeSnapshotVersion(On.min()):ae.resumeToken.approximateByteSize()>0&&(Lt=Lt.withResumeToken(ae.resumeToken,o)),l=l.insert(Ae,Lt),vn=Lt,Jn=ae,(0===(qt=ct).resumeToken.approximateByteSize()||vn.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||Jn.addedDocuments.size+Jn.modifiedDocuments.size+Jn.removedDocuments.size>0)&&R.push(t.Cs.updateTargetData(f,Lt))});let W=zs(),Q=br();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(f,ae))}),R.push(function Qg(i,e,t){let o=br(),l=br();return t.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let C=zs();return t.forEach((R,W)=>{const Q=f.get(R);W.isFoundDocument()!==Q.isFoundDocument()&&(l=l.add(R)),W.isNoDocument()&&W.version.isEqual(On.min())?(e.removeEntry(R,W.readTime),C=C.insert(R,W)):!Q.isValidDocument()||W.version.compareTo(Q.version)>0||0===W.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(W),C=C.insert(R,W)):jt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Q.version," Watch version:",W.version)}),{Wi:C,zi:l}})}(f,C,e.documentUpdates).next(ae=>{W=ae.Wi,Q=ae.zi})),!o.isEqual(On.min())){const ae=t.Cs.getLastRemoteSnapshotVersion(f).next(Ae=>t.Cs.setTargetsMetadata(f,f.currentSequenceNumber,o));R.push(ae)}return gt.waitFor(R).next(()=>C.apply(f)).next(()=>t.localDocuments.getLocalViewOfDocuments(f,W,Q)).next(()=>W)}).then(f=>(t.qi=l,f))}function Ty(i,e){const t=ln(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Lc(i,e){const t=ln(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Cs.getTargetData(o,e).next(f=>f?(l=f,gt.resolve(l)):t.Cs.allocateTargetId(o).next(C=>(l=new _u(e,C,0,o.currentSequenceNumber),t.Cs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.qi.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function Vc(i,e,t){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,p.Z)(function*(i,e,t){const o=ln(i),l=o.qi.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",f,C=>o.persistence.referenceDelegate.removeTarget(C,l)))}catch(C){if(!Wi(C))throw C;jt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}o.qi=o.qi.remove(e),o.Ui.delete(l.target)}),Dh.apply(this,arguments)}function Ih(i,e,t){const o=ln(i);let l=On.min(),f=br();return o.persistence.runTransaction("Execute query","readonly",C=>function(R,W,Q){const ae=ln(R),Ae=ae.Ui.get(Q);return void 0!==Ae?gt.resolve(ae.qi.get(Ae)):ae.Cs.getTargetData(W,Q)}(o,C,zi(e)).next(R=>{if(R)return l=R.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(C,R.targetId).next(W=>{f=W})}).next(()=>o.Li.getDocumentsMatchingQuery(C,e,t?l:On.min(),t?f:br())).next(R=>(function xr(i,e,t){let o=i.Ki.get(e)||On.min();t.forEach((l,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.Ki.set(e,o)}(o,function ye(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),R),{documents:R,Hi:f})))}class Sh{constructor(){this.activeTargetIds=fu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nu{constructor(){this.Lr=new Sh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Sh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sy{Ur(e){}shutdown(){}}class Mh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){jt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){jt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const op={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ay{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class pv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,l,f){const C=this.ho(e,t);jt("RestConnection","Sending: ",C,o);const R={};return this.lo(R,l,f),this.fo(e,C,R,o).then(W=>(jt("RestConnection","Received: ",W),W),W=>{throw jo("RestConnection",`${e} failed with error: `,W,"url: ",C,"request:",o),W})}_o(e,t,o,l,f,C){return this.ao(e,t,o,l,f)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ni,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,f)=>e[f]=l),o&&o.headers.forEach((l,f)=>e[f]=l)}ho(e,t){return`${this.oo}/v1/${t}:${op[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,l){return new Promise((f,C)=>{const R=new Ii;R.setWithCredentials(!0),R.listenOnce(Nn.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case Rr.NO_ERROR:const Q=R.getResponseJson();jt("Connection","XHR received:",JSON.stringify(Q)),f(Q);break;case Rr.TIMEOUT:jt("Connection",'RPC "'+e+'" timed out'),C(new Ut(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Rr.HTTP_ERROR:const ae=R.getStatus();if(jt("Connection",'RPC "'+e+'" failed with status:',ae,"response text:",R.getResponseText()),ae>0){let Ae=R.getResponseJson();Array.isArray(Ae)&&(Ae=Ae[0]);const ct=null==Ae?void 0:Ae.error;if(ct&&ct.status&&ct.message){const Lt=function(qt){const vn=qt.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(vn)>=0?vn:ft.UNKNOWN}(ct.status);C(new Ut(Lt,ct.message))}else C(new Ut(ft.UNKNOWN,"Server responded with status "+R.getStatus()))}else C(new Ut(ft.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{jt("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(l);R.send(t,"POST",W,o,15)})}wo(e,t,o){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=yt(),C=un(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(R.xmlHttpFactory=new ui({})),this.lo(R.initMessageHeaders,t,o),R.encodeInitMessageHeaders=!0;const W=l.join("");jt("Connection","Creating WebChannel: "+W,R);const Q=f.createWebChannel(W,R);let ae=!1,Ae=!1;const ct=new Ay({Hr:qt=>{Ae?jt("Connection","Not sending because WebChannel is closed:",qt):(ae||(jt("Connection","Opening WebChannel transport."),Q.open(),ae=!0),jt("Connection","WebChannel sending:",qt),Q.send(qt))},Jr:()=>Q.close()}),Lt=(qt,vn,Jn)=>{qt.listen(vn,ws=>{try{Jn(ws)}catch(Ks){setTimeout(()=>{throw Ks},0)}})};return Lt(Q,Or.EventType.OPEN,()=>{Ae||jt("Connection","WebChannel transport opened.")}),Lt(Q,Or.EventType.CLOSE,()=>{Ae||(Ae=!0,jt("Connection","WebChannel transport closed"),ct.io())}),Lt(Q,Or.EventType.ERROR,qt=>{Ae||(Ae=!0,jo("Connection","WebChannel transport errored:",qt),ct.io(new Ut(ft.UNAVAILABLE,"The operation could not be completed")))}),Lt(Q,Or.EventType.MESSAGE,qt=>{var vn;if(!Ae){const Jn=qt.data[0];In(!!Jn);const ws=Jn,Ks=ws.error||(null===(vn=ws[0])||void 0===vn?void 0:vn.error);if(Ks){jt("Connection","WebChannel received error:",Ks);const qi=Ks.status;let qo=function(Ui){const Yo=Cr[Ui];if(void 0!==Yo)return To(Yo)}(qi),cs=Ks.message;void 0===qo&&(qo=ft.INTERNAL,cs="Unknown error status: "+qi+" with message "+Ks.message),Ae=!0,ct.io(new Ut(qo,cs)),Q.close()}else jt("Connection","WebChannel received:",Jn),ct.ro(Jn)}}),Lt(C,Qn.STAT_EVENT,qt=>{qt.stat===hr.PROXY?jt("Connection","Detected buffering proxy"):qt.stat===hr.NOPROXY&&jt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ct.so()},0),ct}}function ap(){return"undefined"!=typeof document?document:null}function Ed(i){return new th(i,!0)}class Ph{constructor(e,t,o=1e3,l=1.5,f=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=l,this.po=f,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-o);l>0&&jt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Py{constructor(e,t,o,l,f,C,R,W){this.Hs=e,this.vo=o,this.Vo=l,this.connection=f,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=R,this.listener=W,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ph(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,p.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,p.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,p.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===ft.RESOURCE_EXHAUSTED?(Ji(t.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===ft.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.So===t&&this.Go(o,l)},o=>{e(()=>{const l=new Ut(ft.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(l)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{o(()=>this.Qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,p.Z)(function*(){e.state=0,e.start()}))}Qo(e){return jt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(jt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oy extends Py{constructor(e,t,o,l,f,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,C),this.yt=f}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Ju(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:hn(),l=e.targetChange.targetIds||[],f=function(W,Q){return W.wt?(In(void 0===Q||"string"==typeof Q),Fi.fromBase64String(Q||"")):(In(void 0===Q||Q instanceof Uint8Array),Fi.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),C=e.targetChange.cause,R=C&&function(W){const Q=void 0===W.code?ft.UNKNOWN:To(W.code);return new Ut(Q,W.message||"")}(C);t=new Jd(o,l,f,R||null)}else if("documentChange"in e){const o=e.documentChange,l=_l(i,o.document.name),f=lo(o.document.updateTime),C=o.document.createTime?lo(o.document.createTime):On.min(),R=new io({mapValue:{fields:o.document.fields}}),W=ci.newFoundDocument(l,f,C,R);t=new Yu(o.targetIds||[],o.removedTargetIds||[],W.key,W)}else if("documentDelete"in e){const o=e.documentDelete,l=_l(i,o.document),f=o.readTime?lo(o.readTime):On.min(),C=ci.newNoDocument(l,f);t=new Yu([],o.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const o=e.documentRemove,l=_l(i,o.document);t=new Yu([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return hn();{const o=e.filter,f=new $l(o.count||0);t=new Zd(o.targetId,f)}}var W;return t}(this.yt,e),o=function(l){if(!("targetChange"in l))return On.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?On.min():f.readTime?lo(f.readTime):On.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Su(this.yt),t.addTarget=function(l,f){let C;const R=f.target;return C=da(R)?{documents:ld(l,R)}:{query:Xu(l,R)},C.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?C.resumeToken=nh(l,f.resumeToken):f.snapshotVersion.compareTo(On.min())>0&&(C.readTime=pu(l,f.snapshotVersion.toTimestamp())),C}(this.yt,e);const o=function oh(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Su(this.yt),t.removeTarget=e,this.Bo(t)}}class Uc extends Py{constructor(e,t,o,l,f,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,C),this.yt=f,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function ad(i,e){return i&&i.length>0?(In(void 0!==e),i.map(t=>function(o,l){let f=lo(o.updateTime?o.updateTime:l);return f.isEqual(On.min())&&(f=lo(l)),new m(f,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=lo(e.commitTime);return this.listener.Zo(o,t)}return In(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Su(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Ac(this.yt,o))};this.Bo(t)}}class xy extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=l,this.nu=!1}su(){if(this.nu)throw new Ut(ft.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.ao(e,t,o,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ut(ft.UNKNOWN,l.toString())})}_o(e,t,o,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,C])=>this.connection._o(e,t,o,f,C,l)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ut(ft.UNKNOWN,f.toString())})}terminate(){this.nu=!0}}class Ry{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ji(t),this.ou=!1):jt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class im{constructor(e,t,o,l,f){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=f,this.mu.Ur(R=>{o.enqueueAndForget((0,p.Z)(function*(){var W;ku(C)&&(jt("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,p.Z)(function*(Q){const ae=ln(Q);ae._u.add(4),yield jc(ae),ae.gu.set("Unknown"),ae._u.delete(4),yield Cd(ae)}),function(Q){return W.apply(this,arguments)})(C))}))}),this.gu=new Ry(o,l)}}function Cd(i){return lp.apply(this,arguments)}function lp(){return lp=(0,p.Z)(function*(i){if(ku(i))for(const e of i.wu)yield e(!0)}),lp.apply(this,arguments)}function jc(i){return up.apply(this,arguments)}function up(){return up=(0,p.Z)(function*(i){for(const e of i.wu)yield e(!1)}),up.apply(this,arguments)}function Oh(i,e){const t=ln(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),wd(t)?xh(t):cc(t).ko()&&cp(t,e))}function Hc(i,e){const t=ln(i),o=cc(t);t.du.delete(e),o.ko()&&dp(t,e),0===t.du.size&&(o.ko()?o.Fo():ku(t)&&t.gu.set("Unknown"))}function cp(i,e){i.yu.Ot(e.targetId),cc(i).zo(e)}function dp(i,e){i.yu.Ot(e),cc(i).Ho(e)}function xh(i){i.yu=new Dg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),cc(i).start(),i.gu.uu()}function wd(i){return ku(i)&&!cc(i).No()&&i.du.size>0}function ku(i){return 0===ln(i)._u.size}function Rh(i){i.yu=void 0}function Ny(i){return sm.apply(this,arguments)}function sm(){return sm=(0,p.Z)(function*(i){i.du.forEach((e,t)=>{cp(i,e)})}),sm.apply(this,arguments)}function $c(i,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,p.Z)(function*(i,e){Rh(i),wd(i)?(i.gu.hu(e),xh(i)):i.gu.set("Unknown")}),Nh.apply(this,arguments)}function om(i,e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,p.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Jd&&2===e.state&&e.cause)try{yield(o=(0,p.Z)(function*(l,f){const C=f.cause;for(const R of f.targetIds)l.du.has(R)&&(yield l.remoteSyncer.rejectListen(R,C),l.du.delete(R),l.yu.removeTarget(R))}),function(l,f){return o.apply(this,arguments)})(i,e)}catch(o){jt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ll(i,o)}else if(e instanceof Yu?i.yu.Kt(e):e instanceof Zd?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(On.min()))try{const o=yield qg(i.localStore);t.compareTo(o)>=0&&(yield function(l,f){const C=l.yu.Zt(f);return C.targetChanges.forEach((R,W)=>{if(R.resumeToken.approximateByteSize()>0){const Q=l.du.get(W);Q&&l.du.set(W,Q.withResumeToken(R.resumeToken,f))}}),C.targetMismatches.forEach(R=>{const W=l.du.get(R);if(!W)return;l.du.set(R,W.withResumeToken(Fi.EMPTY_BYTE_STRING,W.snapshotVersion)),dp(l,R);const Q=new _u(W.target,R,1,W.sequenceNumber);cp(l,Q)}),l.remoteSyncer.applyRemoteEvent(C)}(i,t))}catch(o){jt("RemoteStore","Failed to raise snapshot:",o),yield ll(i,o)}var o}),Gc.apply(this,arguments)}function ll(i,e,t){return kh.apply(this,arguments)}function kh(){return kh=(0,p.Z)(function*(i,e,t){if(!Wi(e))throw e;i._u.add(1),yield jc(i),i.gu.set("Offline"),t||(t=()=>qg(i.localStore)),i.asyncQueue.enqueueRetryable((0,p.Z)(function*(){jt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Cd(i)}))}),kh.apply(this,arguments)}function am(i,e){return e().catch(t=>ll(i,t,e))}function Fu(i){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,p.Z)(function*(i){const e=ln(i),t=dc(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;hp(e);)try{const l=yield Ty(e.localStore,o);if(null===l){0===e.fu.length&&t.Fo();break}o=l.batchId,lm(e,l)}catch(l){yield ll(e,l)}Fh(e)&&ky(e)}),Kl.apply(this,arguments)}function hp(i){return ku(i)&&i.fu.length<10}function lm(i,e){i.fu.push(e);const t=dc(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Fh(i){return ku(i)&&!dc(i).No()&&i.fu.length>0}function ky(i){dc(i).start()}function um(i){return cm.apply(this,arguments)}function cm(){return cm=(0,p.Z)(function*(i){dc(i).eu()}),cm.apply(this,arguments)}function Lh(i){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,p.Z)(function*(i){const e=dc(i);for(const t of i.fu)e.Xo(t.mutations)}),Wc.apply(this,arguments)}function fp(i,e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,p.Z)(function*(i,e,t){const o=i.fu.shift(),l=cd.from(o,e,t);yield am(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Fu(i)}),Dd.apply(this,arguments)}function pp(i,e){return dm.apply(this,arguments)}function dm(){return dm=(0,p.Z)(function*(i,e){var t;e&&dc(i).Yo&&(yield(t=(0,p.Z)(function*(o,l){if(Vi(f=l.code)&&f!==ft.ABORTED){const C=o.fu.shift();dc(o).Mo(),yield am(o,()=>o.remoteSyncer.rejectFailedWrite(C.batchId,l)),yield Fu(o)}var f}),function(o,l){return t.apply(this,arguments)})(i,e)),Fh(i)&&ky(i)}),dm.apply(this,arguments)}function hm(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(i,e){const t=ln(i);t.asyncQueue.verifyOperationInProgress(),jt("RemoteStore","RemoteStore received new credentials");const o=ku(t);t._u.add(3),yield jc(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Cd(t)}),gp.apply(this,arguments)}function yp(){return yp=(0,p.Z)(function*(i,e){const t=ln(i);e?(t._u.delete(2),yield Cd(t)):e||(t._u.add(2),yield jc(t),t.gu.set("Unknown"))}),yp.apply(this,arguments)}function cc(i){return i.pu||(i.pu=function(e,t,o){const l=ln(e);return l.su(),new Oy(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:Ny.bind(null,i),Zr:$c.bind(null,i),Wo:om.bind(null,i)}),i.wu.push(function(){var e=(0,p.Z)(function*(t){t?(i.pu.Mo(),wd(i)?xh(i):i.gu.set("Unknown")):(yield i.pu.stop(),Rh(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function dc(i){return i.Iu||(i.Iu=function(e,t,o){const l=ln(e);return l.su(),new Uc(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:um.bind(null,i),Zr:pp.bind(null,i),tu:Lh.bind(null,i),Zo:fp.bind(null,i)}),i.wu.push(function(){var e=(0,p.Z)(function*(t){t?(i.Iu.Mo(),yield Fu(i)):(yield i.Iu.stop(),i.fu.length>0&&(jt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class _p{constructor(e,t,o,l,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=f,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,o,l,f){const C=Date.now()+o,R=new _p(e,t,C,l,f);return R.start(o),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Id(i,e){if(Ji("AsyncQueue",`${e}: ${i}`),Wi(i))return new Ut(ft.UNAVAILABLE,`${e}: ${i}`);throw i}class hc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||on.comparator(t.key,o.key):(t,o)=>on.comparator(t.key,o.key),this.keyedMap=iu(),this.sortedSet=new Si(this.comparator)}static emptySet(e){return new hc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,f=o.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new hc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class vp{constructor(){this.Tu=new Si(on.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):hn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class zc{constructor(e,t,o,l,f,C,R,W,Q){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=f,this.fromCache=C,this.syncStateChanged=R,this.excludesMetadataChanges=W,this.hasCachedResults=Q}static fromInitialDocuments(e,t,o,l,f){const C=[];return t.forEach(R=>{C.push({type:0,doc:R})}),new zc(e,t,hc.emptySet(t),C,o,l,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&y(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Ep{constructor(){this.Au=void 0,this.listeners=[]}}class gv{constructor(){this.queries=new Ro(e=>x(e),y),this.onlineState="Unknown",this.Ru=new Set}}function fm(i,e){return pm.apply(this,arguments)}function pm(){return pm=(0,p.Z)(function*(i,e){const t=ln(i),o=e.query;let l=!1,f=t.queries.get(o);if(f||(l=!0,f=new Ep),l)try{f.Au=yield t.onListen(o)}catch(C){const R=Id(C,`Initialization of query '${z(e.query)}' failed`);return void e.onError(R)}t.queries.set(o,f),f.listeners.push(e),e.bu(t.onlineState),f.Au&&e.Pu(f.Au)&&ym(t)}),pm.apply(this,arguments)}function gm(i,e){return mm.apply(this,arguments)}function mm(){return mm=(0,p.Z)(function*(i,e){const t=ln(i),o=e.query;let l=!1;const f=t.queries.get(o);if(f){const C=f.listeners.indexOf(e);C>=0&&(f.listeners.splice(C,1),l=0===f.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),mm.apply(this,arguments)}function mv(i,e){const t=ln(i);let o=!1;for(const l of e){const C=t.queries.get(l.query);if(C){for(const R of C.listeners)R.Pu(l)&&(o=!0);C.Au=l}}o&&ym(t)}function yv(i,e,t){const o=ln(i),l=o.queries.get(e);if(l)for(const f of l.listeners)f.onError(t);o.queries.delete(e)}function ym(i){i.Ru.forEach(e=>{e.next()})}class _m{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new zc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class wp{constructor(e){this.key=e}}class Vh{constructor(e){this.key=e}}class Dp{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=br(),this.mutatedKeys=br(),this.Gu=Te(e),this.Qu=new hc(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new vp,l=t?t.Qu:this.Qu;let f=t?t.mutatedKeys:this.mutatedKeys,C=l,R=!1;const W="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Q="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ae,Ae)=>{const ct=l.get(ae),Lt=te(this.query,Ae)?Ae:null,qt=!!ct&&this.mutatedKeys.has(ct.key),vn=!!Lt&&(Lt.hasLocalMutations||this.mutatedKeys.has(Lt.key)&&Lt.hasCommittedMutations);let Jn=!1;ct&&Lt?ct.data.isEqual(Lt.data)?qt!==vn&&(o.track({type:3,doc:Lt}),Jn=!0):this.Hu(ct,Lt)||(o.track({type:2,doc:Lt}),Jn=!0,(W&&this.Gu(Lt,W)>0||Q&&this.Gu(Lt,Q)<0)&&(R=!0)):!ct&&Lt?(o.track({type:0,doc:Lt}),Jn=!0):ct&&!Lt&&(o.track({type:1,doc:ct}),Jn=!0,(W||Q)&&(R=!0)),Jn&&(Lt?(C=C.add(Lt),f=vn?f.add(ae):f.delete(ae)):(C=C.delete(ae),f=f.delete(ae)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const ae="F"===this.query.limitType?C.last():C.first();C=C.delete(ae.key),f=f.delete(ae.key),o.track({type:1,doc:ae})}return{Qu:C,zu:o,$i:R,mutatedKeys:f}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const f=e.zu.Eu();f.sort((Q,ae)=>function(Ae,ct){const Lt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return Lt(Ae)-Lt(ct)}(Q.type,ae.type)||this.Gu(Q.doc,ae.doc)),this.Ju(o);const C=t?this.Yu():[],R=0===this.Ku.size&&this.current?1:0,W=R!==this.Uu;return this.Uu=R,0!==f.length||W?{snapshot:new zc(this.query,e.Qu,l,f,e.mutatedKeys,0===R,W,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:C}:{Xu:C}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new vp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=br(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Vh(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new wp(o))}),t}tc(e){this.qu=e.Hi,this.Ku=br();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return zc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Ip{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Fy{constructor(e){this.key=e,this.nc=!1}}class Lu{constructor(e,t,o,l,f,C){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=C,this.sc={},this.ic=new Ro(R=>x(R),y),this.rc=new Map,this.oc=new Set,this.uc=new Si(on.comparator),this.cc=new Map,this.ac=new yd,this.hc={},this.lc=new Map,this.fc=lc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Em(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,p.Z)(function*(i,e){const t=Up(i);let o,l;const f=t.ic.get(e);if(f)o=f.targetId,t.sharedClientState.addLocalQueryTarget(o),l=f.view.ec();else{const C=yield Lc(t.localStore,zi(e));t.isPrimaryClient&&Oh(t.remoteStore,C);const R=t.sharedClientState.addLocalQueryTarget(C.targetId);o=C.targetId,l=yield Tp(t,e,o,"current"===R,C.resumeToken)}return l}),bp.apply(this,arguments)}function Tp(i,e,t,o,l){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,p.Z)(function*(i,e,t,o,l){i._c=(Ae,ct,Lt)=>{return(qt=(0,p.Z)(function*(vn,Jn,ws,Ks){let qi=Jn.view.Wu(ws);qi.$i&&(qi=yield Ih(vn.localStore,Jn.query,!1).then(({documents:Ui})=>Jn.view.Wu(Ui,qi)));const qo=Ks&&Ks.targetChanges.get(Jn.targetId),cs=Jn.view.applyChanges(qi,vn.isPrimaryClient,qo);return zh(vn,Jn.targetId,cs.Xu),cs.snapshot}),function(vn,Jn,ws,Ks){return qt.apply(this,arguments)})(i,Ae,ct,Lt);var qt};const f=yield Ih(i.localStore,e,!0),C=new Dp(e,f.Hi),R=C.Wu(f.documents),W=su.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),Q=C.applyChanges(R,i.isPrimaryClient,W);zh(i,t,Q.Xu);const ae=new Ip(e,t,C);return i.ic.set(e,ae),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),Q.snapshot}),Uh.apply(this,arguments)}function Ly(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,p.Z)(function*(i,e){const t=ln(i),o=t.ic.get(e),l=t.rc.get(o.targetId);if(l.length>1)return t.rc.set(o.targetId,l.filter(f=>!y(f,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Vc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Hc(t.remoteStore,o.targetId),fc(t,o.targetId)}).catch(Eo))):(fc(t,o.targetId),yield Vc(t.localStore,o.targetId,!0))}),Sp.apply(this,arguments)}function Vu(){return Vu=(0,p.Z)(function*(i,e,t){const o=Am(i);try{const l=yield function(f,C){const R=ln(f),W=ti.now(),Q=C.reduce((ct,Lt)=>ct.add(Lt.key),br());let ae,Ae;return R.persistence.runTransaction("Locally write mutations","readwrite",ct=>{let Lt=zs(),qt=br();return R.Gi.getEntries(ct,Q).next(vn=>{Lt=vn,Lt.forEach((Jn,ws)=>{ws.isValidDocument()||(qt=qt.add(Jn))})}).next(()=>R.localDocuments.getOverlayedDocuments(ct,Lt)).next(vn=>{ae=vn;const Jn=[];for(const ws of C){const Ks=Mt(ws,ae.get(ws.key).overlayedDocument);null!=Ks&&Jn.push(new qn(ws.key,Ks,eu(Ks.value.mapValue),E.exists(!0)))}return R.mutationQueue.addMutationBatch(ct,W,Jn,C)}).next(vn=>{Ae=vn;const Jn=vn.applyToLocalDocumentSet(ae,qt);return R.documentOverlayCache.saveOverlays(ct,vn.batchId,Jn)})}).then(()=>({batchId:Ae.batchId,changes:Qd(ae)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,C,R){let W=f.hc[f.currentUser.toKey()];W||(W=new Si(tr)),W=W.insert(C,R),f.hc[f.currentUser.toKey()]=W}(o,l.batchId,t),yield So(o,l.changes),yield Fu(o.remoteStore)}catch(l){const f=Id(l,"Failed to persist write");t.reject(f)}}),Vu.apply(this,arguments)}function jh(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,p.Z)(function*(i,e){const t=ln(i);try{const o=yield Yg(t.localStore,e);e.targetChanges.forEach((l,f)=>{const C=t.cc.get(f);C&&(In(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?C.nc=!0:l.modifiedDocuments.size>0?In(C.nc):l.removedDocuments.size>0&&(In(C.nc),C.nc=!1))}),yield So(t,o,e)}catch(o){yield Eo(o)}}),Uu.apply(this,arguments)}function Hh(i,e,t){const o=ln(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ic.forEach((f,C)=>{const R=C.view.bu(e);R.snapshot&&l.push(R.snapshot)}),function(f,C){const R=ln(f);R.onlineState=C;let W=!1;R.queries.forEach((Q,ae)=>{for(const Ae of ae.listeners)Ae.bu(C)&&(W=!0)}),W&&ym(R)}(o.eventManager,e),l.length&&o.sc.Wo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $h(i,e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,p.Z)(function*(i,e,t){const o=ln(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.cc.get(e),f=l&&l.key;if(f){let C=new Si(on.comparator);C=C.insert(f,ci.newNoDocument(f,On.min()));const R=br().add(f),W=new qu(On.min(),new Map,new yi(tr),C,R);yield jh(o,W),o.uc=o.uc.remove(f),o.cc.delete(e),xp(o)}else yield Vc(o.localStore,e,!1).then(()=>fc(o,e,t)).catch(Eo)}),Gh.apply(this,arguments)}function Cm(i,e){return bd.apply(this,arguments)}function bd(){return bd=(0,p.Z)(function*(i,e){const t=ln(i),o=e.batch.batchId;try{const l=yield zl(t.localStore,e);Op(t,o,null),wm(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield So(t,l)}catch(l){yield Eo(l)}}),bd.apply(this,arguments)}function Ap(i,e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,p.Z)(function*(i,e,t){const o=ln(i);try{const l=yield function(f,C){const R=ln(f);return R.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let Q;return R.mutationQueue.lookupMutationBatch(W,C).next(ae=>(In(null!==ae),Q=ae.keys(),R.mutationQueue.removeMutationBatch(W,ae))).next(()=>R.mutationQueue.performConsistencyCheck(W)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(W,Q,C)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,Q)).next(()=>R.localDocuments.getDocuments(W,Q))})}(o.localStore,e);Op(o,e,t),wm(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield So(o,l)}catch(l){yield Eo(l)}}),Wh.apply(this,arguments)}function wm(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Op(i,e,t){const o=ln(i);let l=o.hc[o.currentUser.toKey()];if(l){const f=l.get(e);f&&(t?f.reject(t):f.resolve(),l=l.remove(e)),o.hc[o.currentUser.toKey()]=l}}function fc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Dm(i,o)})}function Dm(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Hc(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),xp(i))}function zh(i,e,t){for(const o of t)o instanceof wp?(i.ac.addReference(o.key,e),Im(i,o)):o instanceof Vh?(jt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Dm(i,o.key)):hn()}function Im(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(jt("SyncEngine","New document in limbo: "+t),i.oc.add(o),xp(i))}function xp(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new on(Sr.fromString(e)),o=i.fc.next();i.cc.set(o,new Fy(t)),i.uc=i.uc.insert(t,o),Oh(i.remoteStore,new _u(zi(jl(t.path)),o,2,Oo.at))}}function So(i,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,p.Z)(function*(i,e,t){const o=ln(i),l=[],f=[],C=[];var R;o.ic.isEmpty()||(o.ic.forEach((R,W)=>{C.push(o._c(W,e,t).then(Q=>{if((Q||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(W.targetId,null!=Q&&Q.fromCache?"not-current":"current"),Q){l.push(Q);const ae=zg.Ci(W.targetId,Q);f.push(ae)}}))}),yield Promise.all(C),o.sc.Wo(l),yield(R=(0,p.Z)(function*(W,Q){const ae=ln(W);try{yield ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>gt.forEach(Q,ct=>gt.forEach(ct.Si,Lt=>ae.persistence.referenceDelegate.addReference(Ae,ct.targetId,Lt)).next(()=>gt.forEach(ct.Di,Lt=>ae.persistence.referenceDelegate.removeReference(Ae,ct.targetId,Lt)))))}catch(Ae){if(!Wi(Ae))throw Ae;jt("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of Q){const ct=Ae.targetId;if(!Ae.fromCache){const Lt=ae.qi.get(ct),vn=Lt.withLastLimboFreeSnapshotVersion(Lt.snapshotVersion);ae.qi=ae.qi.insert(ct,vn)}}}),function(W,Q){return R.apply(this,arguments)})(o.localStore,f))}),Kh.apply(this,arguments)}function Vy(i,e){return bm.apply(this,arguments)}function bm(){return bm=(0,p.Z)(function*(i,e){const t=ln(i);if(!t.currentUser.isEqual(e)){jt("SyncEngine","User change. New user:",e.toKey());const o=yield Kg(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(C=>{C.forEach(R=>{R.reject(new Ut(ft.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield So(t,o.ji)}var l}),bm.apply(this,arguments)}function Uy(i,e){const t=ln(i),o=t.cc.get(e);if(o&&o.nc)return br().add(o.key);{let l=br();const f=t.rc.get(e);if(!f)return l;for(const C of f){const R=t.ic.get(C);l=l.unionWith(R.view.ju)}return l}}function Up(i){const e=ln(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$h.bind(null,e),e.sc.Wo=mv.bind(null,e.eventManager),e.sc.wc=yv.bind(null,e.eventManager),e}function Am(i){const e=ln(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ap.bind(null,e),e}class Pm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.yt=Ed(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return tp(this.persistence,new ep,e.initialUser,this.yt)}yc(e){return new Yf(Ru.Bs,this.yt)}gc(e){return new Nu}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gy extends Pm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,p.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Am(o.Ac.syncEngine),yield Fu(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return tp(this.persistence,new ep,e.initialUser,this.yt)}Tc(e,t){return new $f(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Ql(t,this.persistence);return new dl(e.asyncQueue,o)}yc(e){const t=function wh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Na.withCacheSize(this.cacheSizeBytes):Na.DEFAULT;return new Xf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,function My(){return"undefined"!=typeof window?window:null}(),ap(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Nu}}class Td{initialize(e,t){var o=this;return(0,p.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Hh(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=Vy.bind(null,o.syncEngine),yield function mp(i,e){return yp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gv}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),o=new pv(e.databaseInfo);return new xy(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,f=R=>Hh(this.syncEngine,R,0),C=Mh.C()?new Mh:new Sy,new im(t,o,l,f,C);var t,o,l,f,C}createSyncEngine(e,t){return function(o,l,f,C,R,W,Q){const ae=new Lu(o,l,f,C,R,W);return Q&&(ae.dc=!0),ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const o=ln(t);jt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield jc(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Bp(i,e,t){if(!t)throw new Ut(ft.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Sd(i){if(!on.isDocumentKey(i))throw new Ut(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zh(i){if(on.isDocumentKey(i))throw new Ut(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":hn()}function _i(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ut(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pc(i);throw new Ut(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const Ky=new Map;class jp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function zy(i,e,t,o){if(!0===e&&!0===o)throw new Ut(ft.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kc{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ml;switch(t.type){case"gapi":return new vo(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ut(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ky.get(e);t&&(jt("ComponentProvider","Removing Datastore"),Ky.delete(e),t.terminate())}(this),Promise.resolve()}}class uo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class Ko{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class na extends Ko{constructor(e,t,o){super(e,t,jl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new on(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function Xh(i,e,...t){if(i=(0,ge.m9)(i),Bp("collection","path",e),i instanceof Kc){const o=Sr.fromString(e,...t);return Zh(o),new na(i,null,o)}{if(!(i instanceof uo||i instanceof na))throw new Ut(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sr.fromString(e,...t));return Zh(o),new na(i.firestore,null,o)}}function qc(i,e,...t){if(i=(0,ge.m9)(i),1===arguments.length&&(e=mi.R()),Bp("doc","path",e),i instanceof Kc){const o=Sr.fromString(e,...t);return Sd(o),new uo(i,null,new on(o))}{if(!(i instanceof uo||i instanceof na))throw new Ut(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sr.fromString(e,...t));return Sd(o),new uo(i.firestore,i instanceof na?i.converter:null,new on(o))}}class tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Zy{constructor(e,t,o,l){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=$r.UNAUTHENTICATED,this.clientId=mi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var C=(0,p.Z)(function*(R){jt("FirestoreClient","Received user=",R.uid),yield f.authCredentialListener(R),f.user=R});return function(R){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(jt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Id(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function xm(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),jt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,p.Z)(function*(f){o.isEqual(f)||(yield Kg(e.localStore,f),o=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Gp.apply(this,arguments)}function Wp(i,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield zp(i);jt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>hm(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,f)=>hm(e.remoteStore,f)),i.onlineComponents=e}),Ad.apply(this,arguments)}function zp(i){return Md.apply(this,arguments)}function Md(){return Md=(0,p.Z)(function*(i){return i.offlineComponents||(jt("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new Pm)),i.offlineComponents}),Md.apply(this,arguments)}function rf(i){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,p.Z)(function*(i){return i.onlineComponents||(jt("FirestoreClient","Using default OnlineComponentProvider"),yield Wp(i,new Td)),i.onlineComponents}),Kp.apply(this,arguments)}function Al(i){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,p.Z)(function*(i){const e=yield rf(i),t=e.eventManager;return t.onListen=Em.bind(null,e.syncEngine),t.onUnlisten=Ly.bind(null,e.syncEngine),t}),Nm.apply(this,arguments)}class lf{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ph(this,"async_queue_retry"),this.Wc=()=>{const t=ap();t&&jt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=ap();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=ap();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new bi;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,p.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Wi(t))throw t;jt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Ji("INTERNAL UNHANDLED ERROR: ",function(f){let C=f.message||"";return f.stack&&(C=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),C}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=_p.createAndSchedule(this,e,t,o,f=>this.Yc(f));return this.Uc.push(l),l}zc(){this.Kc&&hn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function ul(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Ki extends Kc{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new lf,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mc(this),this._firestoreClient.terminate()}}function Yc(i,e){const t="object"==typeof i?i:(0,b.Mq)(),o="string"==typeof i?i:e||"(default)",l=(0,b.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const f=(0,ge.P0)("firestore");f&&function Om(i,e,t,o={}){var l;const f=(i=_i(i,Kc))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&jo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let C,R;if("string"==typeof o.mockUserToken)C=o.mockUserToken,R=$r.MOCK_USER;else{C=(0,ge.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const W=o.mockUserToken.sub||o.mockUserToken.user_id;if(!W)throw new Ut(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new $r(W)}i._authCredentials=new Pl(new Cl(C,R))}}(l,...f)}return l}function Us(i){return i._firestoreClient||mc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function mc(i){var e;const t=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ia(i._databaseId,f,i._persistenceKey,(R=t).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var f,R;i._firestoreClient=new Zy(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Qc(i,e){!function Zp(i){if(i._initialized||i._terminated)throw new Ut(ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=_i(i,Ki));const t=Us(i),o=i._freezeSettings(),l=new Td;return function yc(i,e,t){const o=new bi;return i.asyncQueue.enqueue((0,p.Z)(function*(){try{yield xm(i,t),yield Wp(i,e),o.resolve()}catch(l){const f=l;if(!("FirebaseError"===(C=f).name?C.code===ft.FAILED_PRECONDITION||C.code===ft.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw f;jo("Error enabling offline persistence. Falling back to persistence disabled: "+f),o.reject(f)}var C})).then(()=>o.promise)}(t,l,new Gy(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(Fi.fromBase64String(e))}catch(t){throw new Ut(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bu(Fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ut(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._methodName=e}}class Jp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tr(this._lat,e._lat)||tr(this._long,e._long)}}const km=/^__.*__$/;class Xp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new an(e,this.data,t,this.fieldTransforms)}}class uf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class _c{constructor(e,t,o,l,f,C){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=l,void 0===f&&this.na(),this.fieldTransforms=f||[],this.fieldMask=C||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new _c(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.ua(e),l}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Bd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Fm(this.sa)&&km.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class cf{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||Ed(e)}da(e,t,o,l=!1){return new _c({sa:e,methodName:t,fa:o,path:Ti.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ju(i){const e=i._freezeSettings(),t=Ed(i._databaseId);return new cf(i._databaseId,!!e.ignoreUndefinedProperties,t)}function eg(i,e,t,o,l,f={}){const C=i.da(f.merge||f.mergeFields?2:0,e,t,l);hf("Data must be an object, but it was:",C,o);const R=ig(o,C);let W,Q;if(f.merge)W=new Vs(C.fieldMask),Q=C.fieldTransforms;else if(f.mergeFields){const ae=[];for(const Ae of f.mergeFields){const ct=ff(e,Ae,t);if(!C.contains(ct))throw new Ut(ft.INVALID_ARGUMENT,`Field '${ct}' is specified in your field mask but missing from your input data.`);pf(ae,ct)||ae.push(ct)}W=new Vs(ae),Q=C.fieldTransforms.filter(Ae=>W.covers(Ae.field))}else W=null,Q=C.fieldTransforms;return new Xp(new io(R),W,Q)}class Hu extends Fd{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hu}}class Vd extends Fd{_toFieldTransform(e){return new ao(e.path,new Ar)}isEqual(e){return e instanceof Vd}}function rg(i,e,t,o=!1){return vc(t,i.da(o?4:3,e))}function vc(i,e){if(sg(i=(0,ge.m9)(i)))return hf("Unsupported field value:",e,i),ig(i,e);if(i instanceof Fd)return function(t,o){if(!Fm(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const l=[];let f=0;for(const C of t){let R=vc(C,o.aa(f));null==R&&(R={nullValue:"NULL_VALUE"}),l.push(R),f++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,ge.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gn(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=ti.fromDate(t);return{timestampValue:pu(o.yt,l)}}if(t instanceof ti){const l=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pu(o.yt,l)}}if(t instanceof Jp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bu)return{bytesValue:nh(o.yt,t._byteString)};if(t instanceof uo){const l=o.databaseId,f=t.firestore._databaseId;if(!f.isEqual(l))throw o.ha(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qu(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${pc(t)}`)}(i,e)}function ig(i,e){const t={};return Ta(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(i,(o,l)=>{const f=vc(l,e.ra(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function sg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ti||i instanceof Jp||i instanceof Bu||i instanceof uo||i instanceof Fd)}function hf(i,e,t){if(!sg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=pc(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function ff(i,e,t){if((e=(0,ge.m9)(e))instanceof Zc)return e._internalPath;if("string"==typeof e)return Ud(i,e);throw Bd("Field path arguments must be of type string or ",i,!1,void 0,t)}const l_=new RegExp("[~\\*/\\[\\]]");function Ud(i,e,t){if(e.search(l_)>=0)throw Bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Zc(...e.split("."))._internalPath}catch(o){throw Bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Bd(i,e,t,o,l){const f=o&&!o.isEmpty(),C=void 0!==l;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let W="";return(f||C)&&(W+=" (found",f&&(W+=` in field ${o}`),C&&(W+=` in document ${l}`),W+=")"),new Ut(ft.INVALID_ARGUMENT,R+i+W)}function pf(i,e){return i.some(t=>t.isEqual(e))}class Jc{constructor(e,t,o,l,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Um(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Um extends Jc{data(){return super.data()}}function jd(i,e){return"string"==typeof e?Ud(i,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}function og(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ut(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gf{}class Xc extends gf{}function Bm(i,e,...t){let o=[];e instanceof gf&&o.push(e),o=o.concat(t),function(l){const f=l.filter(R=>R instanceof Hd).length,C=l.filter(R=>R instanceof ed).length;if(f>1||f>0&&C>0)throw new Ut(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class ed extends Xc{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new ed(e,t,o)}_apply(e){const t=this._parse(e);return Wm(e._query,t),new Ko(e.firestore,e.converter,I(e._query,t))}_parse(e){const t=ju(e.firestore);return function(l,f,C,R,W,Q,ae){let Ae;if(W.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Ut(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){ag(ae,Q);const ct=[];for(const Lt of ae)ct.push(Gm(R,l,Lt));Ae={arrayValue:{values:ct}}}else Ae=Gm(R,l,ae)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||ag(ae,Q),Ae=rg(C,"where",ae,"in"===Q||"not-in"===Q);return Hr.create(W,Q,Ae)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hd extends gf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hd(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let f=o;const C=l.getFlattenedFilters();for(const R of C)Wm(f,R),f=I(f,R)}(e._query,t),new Ko(e.firestore,e.converter,I(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mf extends Xc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mf(e,t)}_apply(e){const t=function(o,l,f){if(null!==o.startAt)throw new Ut(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ut(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new ol(l,f);return function(R,W){if(null===ru(R)){const Q=yl(R);null!==Q&&lg(0,Q,W.field)}}(o,C),C}(e._query,this._field,this._direction);return new Ko(e.firestore,e.converter,function(o,l){const f=o.explicitOrderBy.concat([l]);return new xs(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function c_(i,e="asc"){const t=e,o=jd("orderBy",i);return mf._create(o,t)}class co extends Xc{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new co(e,t,o)}_apply(e){return new Ko(e.firestore,e.converter,v(e._query,this._limit,this._limitType))}}function jm(i){return function Jh(i,e){if(e<=0)throw new Ut(ft.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}("limit",i),co._create("limit",i,"F")}class yf extends Xc{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new yf(e,t,o)}_apply(e){const t=$m(e,this.type,this._docOrFields,this._inclusive);return new Ko(e.firestore,e.converter,(l=t,new xs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function h_(...i){return yf._create("startAfter",i,!1)}class $d extends Xc{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new $d(e,t,o)}_apply(e){const t=$m(e,this.type,this._docOrFields,this._inclusive);return new Ko(e.firestore,e.converter,(l=t,new xs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Hm(...i){return $d._create("endBefore",i,!1)}function $m(i,e,t,o){if(t[0]=(0,ge.m9)(t[0]),t[0]instanceof Jc)return function(l,f,C,R,W){if(!R)throw new Ut(ft.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const Q=[];for(const ae of ha(l))if(ae.field.isKeyField())Q.push(Os(f,R.key));else{const Ae=R.data.field(ae.field);if(F(Ae))throw new Ut(ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ae){const ct=ae.field.canonicalString();throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ct}' (used as the orderBy) does not exist.`)}Q.push(Ae)}return new Aa(Q,W)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=ju(i.firestore);return function(f,C,R,W,Q,ae){const Ae=f.explicitOrderBy;if(Q.length>Ae.length)throw new Ut(ft.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ct=[];for(let Lt=0;Lt<Q.length;Lt++){const qt=Q[Lt];if(Ae[Lt].field.isKeyField()){if("string"!=typeof qt)throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof qt}`);if(!Il(f)&&-1!==qt.indexOf("/"))throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${qt}' contains a slash.`);const vn=f.path.child(Sr.fromString(qt));if(!on.isDocumentKey(vn))throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${vn}' is not because it contains an odd number of segments.`);const Jn=new on(vn);ct.push(Os(C,Jn))}else{const vn=rg(R,W,qt);ct.push(vn)}}return new Aa(ct,ae)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Gm(i,e,t){if("string"==typeof(t=(0,ge.m9)(t))){if(""===t)throw new Ut(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Il(e)&&-1!==t.indexOf("/"))throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Sr.fromString(t));if(!on.isDocumentKey(o))throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Os(i,new on(o))}if(t instanceof uo)return Os(i,t._key);throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pc(t)}.`)}function ag(i,e){if(!Array.isArray(i)||0===i.length)throw new Ut(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ut(ft.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Wm(i,e){if(e.isInequality()){const o=yl(i),l=e.field;if(null!==o&&!o.isEqual(l))throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const f=ru(i);null!==f&&lg(0,l,f)}const t=function(o,l){for(const f of o)for(const C of f.getFlattenedFilters())if(l.indexOf(C.op)>=0)return C.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ut(ft.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function lg(i,e,t){if(!t.isEqual(e))throw new Ut(ft.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends Jc{constructor(e,t,o,l,f,C){super(e,t,o,l,C),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class vl extends Cc{data(e={}){return super.data(e)}}class Fa{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Ec(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new vl(this._firestore,this._userDataWriter,o.key,o,new Ec(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(C=>({type:"added",doc:new vl(o._firestore,o._userDataWriter,C.doc.key,C.doc,new Ec(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(C=>l||3!==C.type).map(C=>{const R=new vl(o._firestore,o._userDataWriter,C.doc.key,C.doc,new Ec(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter);let W=-1,Q=-1;return 0!==C.type&&(W=f.indexOf(C.doc.key),f=f.delete(C.doc.key)),1!==C.type&&(f=f.add(C.doc),Q=f.indexOf(C.doc.key)),{type:Yl(C.type),doc:R,oldIndex:W,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yl(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function zm(i){i=_i(i,uo);const e=_i(i.firestore,Ki);return function af(i,e,t={}){const o=new bi;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(l,f,C,R,W){const Q=new tf({next:Ae=>{f.enqueueAndForget(()=>gm(l,ae));const ct=Ae.docs.has(C);!ct&&Ae.fromCache?W.reject(new Ut(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):ct&&Ae.fromCache&&R&&"server"===R.source?W.reject(new Ut(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ae)},error:Ae=>W.reject(Ae)}),ae=new _m(jl(C.path),Q,{includeMetadataChanges:!0,Nu:!0});return fm(l,ae)}(yield Al(i),i.asyncQueue,e,t,o)})),o.promise}(Us(e),i._key).then(t=>vf(e,i,t))}class $u extends class ug{convertValue(e,t="none"){switch(et(e)){case 0:return null;case 1:return e.booleanValue;case 2:return S(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(D(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hn()}}convertObject(e,t){const o={};return xo(e.fields,(l,f)=>{o[l]=this.convertValue(f,t)}),o}convertGeoPoint(e){return new Jp(S(e.latitude),S(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=$(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(J(e));default:return null}}convertTimestamp(e){const t=T(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Sr.fromString(e);In(Mf(o));const l=new ba(o.get(1),o.get(3)),f=new on(o.popFirst(5));return l.isEqual(t)||Ji(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,t)}}function g_(i){i=_i(i,uo);const e=_i(i.firestore,Ki),t=Us(e),o=new $u(e);return function Xy(i,e){const t=new bi;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(o=(0,p.Z)(function*(l,f,C){try{const R=yield function(W,Q){const ae=ln(W);return ae.persistence.runTransaction("read document","readonly",Ae=>ae.localDocuments.getDocument(Ae,Q))}(l,f);R.isFoundDocument()?C.resolve(R):R.isNoDocument()?C.resolve(null):C.reject(new Ut(ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const W=Id(R,`Failed to get document '${f} from cache`);C.reject(W)}}),function(l,f,C){return o.apply(this,arguments)})(yield function sf(i){return zp(i).then(e=>e.localStore)}(i),e,t);var o})),t.promise}(t,i._key).then(l=>new Cc(e,o,i._key,l,new Ec(null!==l&&l.hasLocalMutations,!0),i.converter))}function m_(i){i=_i(i,Ko);const e=_i(i.firestore,Ki),t=Us(e),o=new $u(e);return og(i._query),function ql(i,e,t={}){const o=new bi;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(l,f,C,R,W){const Q=new tf({next:Ae=>{f.enqueueAndForget(()=>gm(l,ae)),Ae.fromCache&&"server"===R.source?W.reject(new Ut(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ae)},error:Ae=>W.reject(Ae)}),ae=new _m(C,Q,{includeMetadataChanges:!0,Nu:!0});return fm(l,ae)}(yield Al(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(l=>new Fa(e,o,i,l))}function qm(i,e,t,...o){i=_i(i,uo);const l=_i(i.firestore,Ki),f=ju(l);let C;return C="string"==typeof(e=(0,ge.m9)(e))||e instanceof Zc?function df(i,e,t,o,l,f){const C=i.da(1,e,t),R=[ff(e,o,t)],W=[l];if(f.length%2!=0)throw new Ut(ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ct=0;ct<f.length;ct+=2)R.push(ff(e,f[ct])),W.push(f[ct+1]);const Q=[],ae=io.empty();for(let ct=R.length-1;ct>=0;--ct)if(!pf(Q,R[ct])){const Lt=R[ct];let qt=W[ct];qt=(0,ge.m9)(qt);const vn=C.ca(Lt);if(qt instanceof Hu)Q.push(Lt);else{const Jn=vc(qt,vn);null!=Jn&&(Q.push(Lt),ae.set(Lt,Jn))}}const Ae=new Vs(Q);return new uf(ae,Ae,C.fieldTransforms)}(f,"updateDoc",i._key,e,t,o):function ng(i,e,t,o){const l=i.da(1,e,t);hf("Data must be an object, but it was:",l,o);const f=[],C=io.empty();xo(o,(W,Q)=>{const ae=Ud(e,W,t);Q=(0,ge.m9)(Q);const Ae=l.ca(ae);if(Q instanceof Hu)f.push(ae);else{const ct=vc(Q,Ae);null!=ct&&(f.push(ae),C.set(ae,ct))}});const R=new Vs(f);return new uf(C,R,l.fieldTransforms)}(f,"updateDoc",i._key,e),zd(l,[C.toMutation(i._key,E.exists(!0))])}function y_(i){return zd(_i(i.firestore,Ki),[new oi(i._key,E.none())])}function Ym(i,e){const t=_i(i.firestore,Ki),o=qc(i),l=function Wd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return zd(t,[eg(ju(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,E.exists(!1))]).then(()=>o)}function Qm(i,...e){var t,o,l;i=(0,ge.m9)(i);let f={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||ul(e[C])||(f=e[C],C++);const R={includeMetadataChanges:f.includeMetadataChanges};if(ul(e[C])){const Ae=e[C];e[C]=null===(t=Ae.next)||void 0===t?void 0:t.bind(Ae),e[C+1]=null===(o=Ae.error)||void 0===o?void 0:o.bind(Ae),e[C+2]=null===(l=Ae.complete)||void 0===l?void 0:l.bind(Ae)}let W,Q,ae;if(i instanceof uo)Q=_i(i.firestore,Ki),ae=jl(i._key.path),W={next:Ae=>{e[C]&&e[C](vf(Q,i,Ae))},error:e[C+1],complete:e[C+2]};else{const Ae=_i(i,Ko);Q=_i(Ae.firestore,Ki),ae=Ae._query;const ct=new $u(Q);W={next:Lt=>{e[C]&&e[C](new Fa(Q,ct,Ae,Lt))},error:e[C+1],complete:e[C+2]},og(i._query)}return function(Ae,ct,Lt,qt){const vn=new tf(qt),Jn=new _m(ct,vn,Lt);return Ae.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return fm(yield Al(Ae),Jn)})),()=>{vn.bc(),Ae.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return gm(yield Al(Ae),Jn)}))}}(Us(Q),ae,R,W)}function zd(i,e){return function(t,o){const l=new bi;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Bh(i,e,t){return Vu.apply(this,arguments)}(yield function Yp(i){return rf(i).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(Us(i),e)}function vf(i,e,t){const o=t.docs.get(e._key),l=new $u(i);return new Cc(i,l,e._key,o,new Ec(t.hasPendingWrites,t.fromCache),e.converter)}function Xm(){return new Vd("serverTimestamp")}!function(i,e=!0){Ni=b.Jn,(0,b.Xd)(new ie.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const f=t.getProvider("app").getImmediate(),C=new Ki(new Ja(t.getProvider("auth-internal")),new Ha(t.getProvider("app-check-internal")),function(R,W){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new Ut(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(R.options.projectId,W)}(f,o),f);return l=Object.assign({useFetchStreams:e},l),C._setSettings(l),C},"PUBLIC").setMultipleInstances(!0)),(0,b.KN)(ps,"3.8.3",i),(0,b.KN)(ps,"3.8.3","esm2017")}()},5861:(xt,Pe,A)=>{function p(ie,H,ge,pe,we,se,Se){try{var re=ie[se](Se),ue=re.value}catch(ve){return void ge(ve)}re.done?H(ue):Promise.resolve(ue).then(pe,we)}function b(ie){return function(){var H=this,ge=arguments;return new Promise(function(pe,we){var se=ie.apply(H,ge);function Se(ue){p(se,pe,we,Se,re,"next",ue)}function re(ue){p(se,pe,we,Se,re,"throw",ue)}Se(void 0)})}}A.d(Pe,{Z:()=>b})},4147:xt=>{xt.exports={i8:"0.0.9"}}},xt=>{xt(xt.s=2958)}]);