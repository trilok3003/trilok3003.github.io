"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[427],{427:(v,C,a)=>{a.r(C),a.d(C,{default:()=>E});var y=a(467),m=a(177),t=a(4438),f=a(9079),x=a(6115);const e=r=>({background:r});function n(r,j){if(1&r&&(t.j41(0,"div",5)(1,"h3"),t.EFF(2,"Invalid JSON!"),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&r){const o=t.XpG();t.R7$(4),t.JRh(o.error)}}let i=(()=>{class r{constructor(){this.jsonString='{\n  "example": true\n}',this.error="",this.parseError=!1,this.exportService=(0,t.WQX)(x._)}onChange(o){this.jsonString=o.target.value,this.validate()}validate(){try{JSON.parse(this.jsonString),this.parseError=!1,this.error=""}catch(o){this.parseError=!0,this.error=o.message}}clear(){this.jsonString="",this.error="",this.parseError=!1}prettify(){try{const o=JSON.parse(this.jsonString);this.jsonString=JSON.stringify(o,null,2),this.validate()}catch(o){this.parseError=!0,this.error=o.message}}compress(){try{const o=JSON.parse(this.jsonString);this.jsonString=JSON.stringify(o),this.validate()}catch(o){this.parseError=!0,this.error=o.message}}download(){this.exportService.downloadFile(this.jsonString,"data.json","application/json")}loadFile(o){const u=o.target.files?.[0];if(!u)return;const s=new FileReader;s.onload=()=>{try{const _=JSON.parse(s.result);this.jsonString=JSON.stringify(_,null,2),this.validate()}catch{this.parseError=!0,this.error="Invalid JSON in uploaded file"}},s.readAsText(u)}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-json-editor-pro"]],inputs:{jsonString:"jsonString"},decls:16,vars:5,consts:[["cols","90","rows","20",3,"change","keyup","ngStyle","value"],[1,"btns"],[3,"click"],["type","file","accept",".json","hidden","",3,"change"],["class","error",4,"ngIf"],[1,"error"]],template:function(u,s){1&u&&(t.j41(0,"textarea",0),t.bIt("change",function(_){return s.onChange(_)})("keyup",function(_){return s.onChange(_)}),t.k0s(),t.j41(1,"div",1)(2,"button",2),t.bIt("click",function(){return s.validate()}),t.EFF(3,"Validate JSON"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return s.clear()}),t.EFF(5,"Clear"),t.k0s(),t.j41(6,"button",2),t.bIt("click",function(){return s.prettify()}),t.EFF(7,"Prettify"),t.k0s(),t.j41(8,"button",2),t.bIt("click",function(){return s.compress()}),t.EFF(9,"Compress"),t.k0s(),t.j41(10,"button",2),t.bIt("click",function(){return s.download()}),t.EFF(11,"Download"),t.k0s(),t.j41(12,"label"),t.EFF(13," Upload JSON "),t.j41(14,"input",3),t.bIt("change",function(_){return s.loadFile(_)}),t.k0s()()(),t.DNE(15,n,5,1,"div",4)),2&u&&(t.Y8G("ngStyle",t.eq3(3,e,s.parseError?"tomato":""))("value",s.jsonString),t.R7$(15),t.Y8G("ngIf",s.parseError))},dependencies:[m.CommonModule,m.NgIf,m.NgStyle],styles:["textarea[_ngcontent-%COMP%]{width:100%;font-family:monospace;font-size:14px;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.btns[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:10px}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .btns[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:6px 12px;font-size:14px;cursor:pointer;background-color:#f0f0f0;border:1px solid #ccc;border-radius:4px}.btns[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}.btns[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.error[_ngcontent-%COMP%]{margin-top:10px;color:#fff;background:#e74c3c;padding:10px;border-radius:4px}"]})}}return r})();var p=a(8318),l=a(9972),c=a(5532),b=a(4668),d=a(2102),g=a(1281);function S(r,j){if(1&r){const o=t.RV6();t.j41(0,"li",6),t.bIt("click",function(){const s=t.eBV(o).$implicit,h=t.XpG();return t.Njj(h.showCollectionData(s))}),t.EFF(1),t.k0s()}if(2&r){const o=j.$implicit;t.R7$(),t.SpI(" \u{1f4c1} ",o," ")}}function w(r,j){if(1&r&&(t.j41(0,"app-accordion",8),t.nrm(1,"app-json-editor-pro",9),t.nI1(2,"json"),t.k0s()),2&r){const o=j.$implicit;t.Y8G("title",null==o?null:o.key),t.R7$(),t.Y8G("jsonString",t.bMT(2,2,o))}}function F(r,j){if(1&r&&(t.j41(0,"div")(1,"h3"),t.EFF(2),t.k0s(),t.j41(3,"app-accordions",7),t.Z7z(4,w,3,4,"app-accordion",8,t.Vm6),t.nI1(6,"async"),t.k0s()()),2&r){const o=t.XpG();t.R7$(2),t.SpI('Documents in "',o.selectedCollection,'"'),t.R7$(),t.Y8G("mode","inline"),t.R7$(),t.Dyx(t.bMT(6,2,o.data$))}}let E=(()=>{class r{constructor(){this.collections=[],this.selectedCollection=null,this.data$=null,this.api=(0,t.WQX)(l.h),this.collectionsResource=(0,f.ZX)({loader:()=>this.api.getKeys$("/").pipe((0,b.t)(1))})}ngOnInit(){return(0,y.A)(function*(){})()}showCollectionData(o){this.selectedCollection=o,this.data$=this.api.readRealtime$(o)}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["ng-component"]],decls:11,vars:3,consts:[["temp",""],["layout-header",""],["layout-left",""],[3,"rxResource","itemTemplate"],["layout-right",""],[4,"ngIf"],[2,"cursor","pointer","margin-bottom","5px",3,"click"],[3,"mode"],[3,"title"],[3,"jsonString"]],template:function(u,s){if(1&u&&(t.j41(0,"h2"),t.EFF(1,"Firestore Collections"),t.k0s(),t.j41(2,"app-split-layout"),t.nrm(3,"div",1),t.j41(4,"div",2)(5,"ul"),t.nrm(6,"app-rx-resource-flexible",3),t.k0s(),t.DNE(7,S,2,1,"ng-template",null,0,t.C5r),t.k0s(),t.j41(9,"div",4),t.DNE(10,F,7,4,"div",5),t.k0s()()),2&u){const h=t.sdS(8);t.R7$(6),t.Y8G("rxResource",s.collectionsResource)("itemTemplate",h),t.R7$(4),t.Y8G("ngIf",s.data$)}},dependencies:[m.NgIf,m.AsyncPipe,m.JsonPipe,c.A,p.n,i,d.f,g.M],styles:["li[_ngcontent-%COMP%]:hover{color:#00f;font-weight:700}pre[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:10px;border-radius:5px}"]})}}return r})()},6115:(v,C,a)=>{a.d(C,{_:()=>t});var y=a(467),m=a(4438);let t=(()=>{class f{constructor(){}exportText(e,n){this.downloadFile(e,`${n}.txt`,"text/plain")}exporttext(e,n,i="txt"){this.downloadFile(e,`${n}.${i}`,"text/plain;charset=utf-8")}exportJSON(e,n){const i=JSON.stringify(e,null,2);this.downloadFile(i,`${n}.json`,"application/json")}exportCSV(e,n,i){if(!e?.length)return;const p=d=>{if(null==d)return"";const g=String(d).replace(/"/g,'""');return/[",\n]/.test(g)?`"${g}"`:g},l=i?.headers??Object.keys(e[0]),c=i?.rowMapper??(d=>l.map(g=>d[g])),b=[l.map(p).join(","),...e.map(d=>c(d).map(p).join(","))].join("\n");this.downloadFile(b,`${n}.csv`,"text/csv")}exportPDF(e,n){const i=this.jsonToBase64(e),p=atob(i),l=new Array(p.length).fill(0).map((b,d)=>p.charCodeAt(d)),c=new Uint8Array(l);this.downloadFile(c,`${n}.pdf`,"application/pdf")}jsonToBase64(e){const n=JSON.stringify(e);return btoa(unescape(encodeURIComponent(n)))}base64ToJson(e){const n=decodeURIComponent(escape(atob(e)));return JSON.parse(n)}convertToCsv(e,n=[],i=[]){if(!e?.length)return"";const p=n.length?n:Object.keys(e[0]),l=i.length?i:p,b=e.map(d=>p.map(g=>(d=>null==d||null==d?'""':`"${String(d).replace(/"/g,'""')}"`)(d[g])).join(","));return[l.join(","),...b].join("\r\n")}exportCsv(e,n="data",i=[],p=[]){var l=this;return(0,y.A)(function*(){const c=yield l.convertToCsv(e,i,p);l.downloadFile(c,`${n}.csv`,"text/csv;charset=utf-8;")})()}downloadFile(e,n,i){if(!n)return;const p=new Blob([e],{type:i}),l=window.URL.createObjectURL(p),c=document.createElement("a");c.href=l,c.download=n,c.click(),window.URL.revokeObjectURL(l)}downloadByUrl(e,n){return(0,y.A)(function*(){try{const p=yield(yield fetch(e)).blob(),l=URL.createObjectURL(p),c=document.createElement("a");c.href=l,c.download=`${n}.jpg`,c.click(),window.URL.revokeObjectURL(l)}catch{alert("Failed to download the file!")}})()}copyToClipboard(e){return(0,y.A)(function*(){try{yield navigator.clipboard.writeText(e)}catch{console.error("Unable to copy text")}})()}copyJson(e){const n=JSON.stringify(e,null,2);navigator.clipboard.writeText(n).then(()=>{alert("Copied to clipboard!")})}exportSVG(e,n="flowchart"){if(!e)return;const i=(new XMLSerializer).serializeToString(e);this.downloadFile(i,`${n}.svg`,"image/svg+xml")}print(e){const n=window.open("","_blank");n&&(n.document.write(`\n      <html>\n        <head>\n          <title>Print Diagram</title>\n        </head>\n        <body>\n          ${e}\n          <script>\n            window.onload = function() {\n              window.print();\n            };\n          <\/script>\n        </body>\n      </html>\n    `),n.document.close())}static{this.\u0275fac=function(n){return new(n||f)}}static{this.\u0275prov=m.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()}}]);